(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&a(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function M0(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Ed={exports:{}},_l={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Iv;function BE(){if(Iv)return _l;Iv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(a,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var c in o)c!=="key"&&(u[c]=o[c])}else u=o;return o=u.ref,{$$typeof:i,type:a,key:f,ref:o!==void 0?o:null,props:u}}return _l.Fragment=e,_l.jsx=n,_l.jsxs=n,_l}var Ov;function qE(){return Ov||(Ov=1,Ed.exports=BE()),Ed.exports}var F=qE(),wd={exports:{}},qe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mv;function FE(){if(Mv)return qe;Mv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),d=Symbol.iterator;function y(B){return B===null||typeof B!="object"?null:(B=d&&B[d]||B["@@iterator"],typeof B=="function"?B:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,b={};function R(B,re,me){this.props=B,this.context=re,this.refs=b,this.updater=me||_}R.prototype.isReactComponent={},R.prototype.setState=function(B,re){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,re,"setState")},R.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function w(){}w.prototype=R.prototype;function S(B,re,me){this.props=B,this.context=re,this.refs=b,this.updater=me||_}var D=S.prototype=new w;D.constructor=S,v(D,R.prototype),D.isPureReactComponent=!0;var V=Array.isArray,j={H:null,A:null,T:null,S:null,V:null},k=Object.prototype.hasOwnProperty;function O(B,re,me,ce,_e,Le){return me=Le.ref,{$$typeof:i,type:B,key:re,ref:me!==void 0?me:null,props:Le}}function A(B,re){return O(B.type,re,void 0,void 0,void 0,B.props)}function C(B){return typeof B=="object"&&B!==null&&B.$$typeof===i}function I(B){var re={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(me){return re[me]})}var L=/\/+/g;function $(B,re){return typeof B=="object"&&B!==null&&B.key!=null?I(""+B.key):re.toString(36)}function U(){}function de(B){switch(B.status){case"fulfilled":return B.value;case"rejected":throw B.reason;default:switch(typeof B.status=="string"?B.then(U,U):(B.status="pending",B.then(function(re){B.status==="pending"&&(B.status="fulfilled",B.value=re)},function(re){B.status==="pending"&&(B.status="rejected",B.reason=re)})),B.status){case"fulfilled":return B.value;case"rejected":throw B.reason}}throw B}function pe(B,re,me,ce,_e){var Le=typeof B;(Le==="undefined"||Le==="boolean")&&(B=null);var xe=!1;if(B===null)xe=!0;else switch(Le){case"bigint":case"string":case"number":xe=!0;break;case"object":switch(B.$$typeof){case i:case e:xe=!0;break;case E:return xe=B._init,pe(xe(B._payload),re,me,ce,_e)}}if(xe)return _e=_e(B),xe=ce===""?"."+$(B,0):ce,V(_e)?(me="",xe!=null&&(me=xe.replace(L,"$&/")+"/"),pe(_e,re,me,"",function(Xn){return Xn})):_e!=null&&(C(_e)&&(_e=A(_e,me+(_e.key==null||B&&B.key===_e.key?"":(""+_e.key).replace(L,"$&/")+"/")+xe)),re.push(_e)),1;xe=0;var wt=ce===""?".":ce+":";if(V(B))for(var pt=0;pt<B.length;pt++)ce=B[pt],Le=wt+$(ce,pt),xe+=pe(ce,re,me,Le,_e);else if(pt=y(B),typeof pt=="function")for(B=pt.call(B),pt=0;!(ce=B.next()).done;)ce=ce.value,Le=wt+$(ce,pt++),xe+=pe(ce,re,me,Le,_e);else if(Le==="object"){if(typeof B.then=="function")return pe(de(B),re,me,ce,_e);throw re=String(B),Error("Objects are not valid as a React child (found: "+(re==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":re)+"). If you meant to render a collection of children, use an array instead.")}return xe}function Q(B,re,me){if(B==null)return B;var ce=[],_e=0;return pe(B,ce,"","",function(Le){return re.call(me,Le,_e++)}),ce}function se(B){if(B._status===-1){var re=B._result;re=re(),re.then(function(me){(B._status===0||B._status===-1)&&(B._status=1,B._result=me)},function(me){(B._status===0||B._status===-1)&&(B._status=2,B._result=me)}),B._status===-1&&(B._status=0,B._result=re)}if(B._status===1)return B._result.default;throw B._result}var ye=typeof reportError=="function"?reportError:function(B){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var re=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof B=="object"&&B!==null&&typeof B.message=="string"?String(B.message):String(B),error:B});if(!window.dispatchEvent(re))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",B);return}console.error(B)};function Ce(){}return qe.Children={map:Q,forEach:function(B,re,me){Q(B,function(){re.apply(this,arguments)},me)},count:function(B){var re=0;return Q(B,function(){re++}),re},toArray:function(B){return Q(B,function(re){return re})||[]},only:function(B){if(!C(B))throw Error("React.Children.only expected to receive a single React element child.");return B}},qe.Component=R,qe.Fragment=n,qe.Profiler=o,qe.PureComponent=S,qe.StrictMode=a,qe.Suspense=p,qe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=j,qe.__COMPILER_RUNTIME={__proto__:null,c:function(B){return j.H.useMemoCache(B)}},qe.cache=function(B){return function(){return B.apply(null,arguments)}},qe.cloneElement=function(B,re,me){if(B==null)throw Error("The argument must be a React element, but you passed "+B+".");var ce=v({},B.props),_e=B.key,Le=void 0;if(re!=null)for(xe in re.ref!==void 0&&(Le=void 0),re.key!==void 0&&(_e=""+re.key),re)!k.call(re,xe)||xe==="key"||xe==="__self"||xe==="__source"||xe==="ref"&&re.ref===void 0||(ce[xe]=re[xe]);var xe=arguments.length-2;if(xe===1)ce.children=me;else if(1<xe){for(var wt=Array(xe),pt=0;pt<xe;pt++)wt[pt]=arguments[pt+2];ce.children=wt}return O(B.type,_e,void 0,void 0,Le,ce)},qe.createContext=function(B){return B={$$typeof:f,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null},B.Provider=B,B.Consumer={$$typeof:u,_context:B},B},qe.createElement=function(B,re,me){var ce,_e={},Le=null;if(re!=null)for(ce in re.key!==void 0&&(Le=""+re.key),re)k.call(re,ce)&&ce!=="key"&&ce!=="__self"&&ce!=="__source"&&(_e[ce]=re[ce]);var xe=arguments.length-2;if(xe===1)_e.children=me;else if(1<xe){for(var wt=Array(xe),pt=0;pt<xe;pt++)wt[pt]=arguments[pt+2];_e.children=wt}if(B&&B.defaultProps)for(ce in xe=B.defaultProps,xe)_e[ce]===void 0&&(_e[ce]=xe[ce]);return O(B,Le,void 0,void 0,null,_e)},qe.createRef=function(){return{current:null}},qe.forwardRef=function(B){return{$$typeof:c,render:B}},qe.isValidElement=C,qe.lazy=function(B){return{$$typeof:E,_payload:{_status:-1,_result:B},_init:se}},qe.memo=function(B,re){return{$$typeof:g,type:B,compare:re===void 0?null:re}},qe.startTransition=function(B){var re=j.T,me={};j.T=me;try{var ce=B(),_e=j.S;_e!==null&&_e(me,ce),typeof ce=="object"&&ce!==null&&typeof ce.then=="function"&&ce.then(Ce,ye)}catch(Le){ye(Le)}finally{j.T=re}},qe.unstable_useCacheRefresh=function(){return j.H.useCacheRefresh()},qe.use=function(B){return j.H.use(B)},qe.useActionState=function(B,re,me){return j.H.useActionState(B,re,me)},qe.useCallback=function(B,re){return j.H.useCallback(B,re)},qe.useContext=function(B){return j.H.useContext(B)},qe.useDebugValue=function(){},qe.useDeferredValue=function(B,re){return j.H.useDeferredValue(B,re)},qe.useEffect=function(B,re,me){var ce=j.H;if(typeof me=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ce.useEffect(B,re)},qe.useId=function(){return j.H.useId()},qe.useImperativeHandle=function(B,re,me){return j.H.useImperativeHandle(B,re,me)},qe.useInsertionEffect=function(B,re){return j.H.useInsertionEffect(B,re)},qe.useLayoutEffect=function(B,re){return j.H.useLayoutEffect(B,re)},qe.useMemo=function(B,re){return j.H.useMemo(B,re)},qe.useOptimistic=function(B,re){return j.H.useOptimistic(B,re)},qe.useReducer=function(B,re,me){return j.H.useReducer(B,re,me)},qe.useRef=function(B){return j.H.useRef(B)},qe.useState=function(B){return j.H.useState(B)},qe.useSyncExternalStore=function(B,re,me){return j.H.useSyncExternalStore(B,re,me)},qe.useTransition=function(){return j.H.useTransition()},qe.version="19.1.0",qe}var Nv;function ym(){return Nv||(Nv=1,wd.exports=FE()),wd.exports}var W=ym();const Vv=M0(W);var Td={exports:{}},bl={},Ad={exports:{}},Sd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kv;function HE(){return kv||(kv=1,function(i){function e(Q,se){var ye=Q.length;Q.push(se);e:for(;0<ye;){var Ce=ye-1>>>1,B=Q[Ce];if(0<o(B,se))Q[Ce]=se,Q[ye]=B,ye=Ce;else break e}}function n(Q){return Q.length===0?null:Q[0]}function a(Q){if(Q.length===0)return null;var se=Q[0],ye=Q.pop();if(ye!==se){Q[0]=ye;e:for(var Ce=0,B=Q.length,re=B>>>1;Ce<re;){var me=2*(Ce+1)-1,ce=Q[me],_e=me+1,Le=Q[_e];if(0>o(ce,ye))_e<B&&0>o(Le,ce)?(Q[Ce]=Le,Q[_e]=ye,Ce=_e):(Q[Ce]=ce,Q[me]=ye,Ce=me);else if(_e<B&&0>o(Le,ye))Q[Ce]=Le,Q[_e]=ye,Ce=_e;else break e}}return se}function o(Q,se){var ye=Q.sortIndex-se.sortIndex;return ye!==0?ye:Q.id-se.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var f=Date,c=f.now();i.unstable_now=function(){return f.now()-c}}var p=[],g=[],E=1,d=null,y=3,_=!1,v=!1,b=!1,R=!1,w=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;function V(Q){for(var se=n(g);se!==null;){if(se.callback===null)a(g);else if(se.startTime<=Q)a(g),se.sortIndex=se.expirationTime,e(p,se);else break;se=n(g)}}function j(Q){if(b=!1,V(Q),!v)if(n(p)!==null)v=!0,k||(k=!0,$());else{var se=n(g);se!==null&&pe(j,se.startTime-Q)}}var k=!1,O=-1,A=5,C=-1;function I(){return R?!0:!(i.unstable_now()-C<A)}function L(){if(R=!1,k){var Q=i.unstable_now();C=Q;var se=!0;try{e:{v=!1,b&&(b=!1,S(O),O=-1),_=!0;var ye=y;try{t:{for(V(Q),d=n(p);d!==null&&!(d.expirationTime>Q&&I());){var Ce=d.callback;if(typeof Ce=="function"){d.callback=null,y=d.priorityLevel;var B=Ce(d.expirationTime<=Q);if(Q=i.unstable_now(),typeof B=="function"){d.callback=B,V(Q),se=!0;break t}d===n(p)&&a(p),V(Q)}else a(p);d=n(p)}if(d!==null)se=!0;else{var re=n(g);re!==null&&pe(j,re.startTime-Q),se=!1}}break e}finally{d=null,y=ye,_=!1}se=void 0}}finally{se?$():k=!1}}}var $;if(typeof D=="function")$=function(){D(L)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,de=U.port2;U.port1.onmessage=L,$=function(){de.postMessage(null)}}else $=function(){w(L,0)};function pe(Q,se){O=w(function(){Q(i.unstable_now())},se)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(Q){Q.callback=null},i.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<Q?Math.floor(1e3/Q):5},i.unstable_getCurrentPriorityLevel=function(){return y},i.unstable_next=function(Q){switch(y){case 1:case 2:case 3:var se=3;break;default:se=y}var ye=y;y=se;try{return Q()}finally{y=ye}},i.unstable_requestPaint=function(){R=!0},i.unstable_runWithPriority=function(Q,se){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var ye=y;y=Q;try{return se()}finally{y=ye}},i.unstable_scheduleCallback=function(Q,se,ye){var Ce=i.unstable_now();switch(typeof ye=="object"&&ye!==null?(ye=ye.delay,ye=typeof ye=="number"&&0<ye?Ce+ye:Ce):ye=Ce,Q){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=ye+B,Q={id:E++,callback:se,priorityLevel:Q,startTime:ye,expirationTime:B,sortIndex:-1},ye>Ce?(Q.sortIndex=ye,e(g,Q),n(p)===null&&Q===n(g)&&(b?(S(O),O=-1):b=!0,pe(j,ye-Ce))):(Q.sortIndex=B,e(p,Q),v||_||(v=!0,k||(k=!0,$()))),Q},i.unstable_shouldYield=I,i.unstable_wrapCallback=function(Q){var se=y;return function(){var ye=y;y=se;try{return Q.apply(this,arguments)}finally{y=ye}}}}(Sd)),Sd}var jv;function GE(){return jv||(jv=1,Ad.exports=HE()),Ad.exports}var Rd={exports:{}},pn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lv;function QE(){if(Lv)return pn;Lv=1;var i=ym();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var a={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,E){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:d==null?null:""+d,children:p,containerInfo:g,implementation:E}}var f=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return pn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,pn.createPortal=function(p,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,E)},pn.flushSync=function(p){var g=f.T,E=a.p;try{if(f.T=null,a.p=2,p)return p()}finally{f.T=g,a.p=E,a.d.f()}},pn.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,a.d.C(p,g))},pn.prefetchDNS=function(p){typeof p=="string"&&a.d.D(p)},pn.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var E=g.as,d=c(E,g.crossOrigin),y=typeof g.integrity=="string"?g.integrity:void 0,_=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?a.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:d,integrity:y,fetchPriority:_}):E==="script"&&a.d.X(p,{crossOrigin:d,integrity:y,fetchPriority:_,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},pn.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=c(g.as,g.crossOrigin);a.d.M(p,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&a.d.M(p)},pn.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,d=c(E,g.crossOrigin);a.d.L(p,E,{crossOrigin:d,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},pn.preloadModule=function(p,g){if(typeof p=="string")if(g){var E=c(g.as,g.crossOrigin);a.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else a.d.m(p)},pn.requestFormReset=function(p){a.d.r(p)},pn.unstable_batchedUpdates=function(p,g){return p(g)},pn.useFormState=function(p,g,E){return f.H.useFormState(p,g,E)},pn.useFormStatus=function(){return f.H.useHostTransitionStatus()},pn.version="19.1.0",pn}var Pv;function KE(){if(Pv)return Rd.exports;Pv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Rd.exports=QE(),Rd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uv;function YE(){if(Uv)return bl;Uv=1;var i=GE(),e=ym(),n=KE();function a(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)r+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var r=t,s=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(s=r.return),t=r.return;while(t)}return r.tag===3?s:null}function f(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function c(t){if(u(t)!==t)throw Error(a(188))}function p(t){var r=t.alternate;if(!r){if(r=u(t),r===null)throw Error(a(188));return r!==t?null:t}for(var s=t,l=r;;){var m=s.return;if(m===null)break;var T=m.alternate;if(T===null){if(l=m.return,l!==null){s=l;continue}break}if(m.child===T.child){for(T=m.child;T;){if(T===s)return c(m),t;if(T===l)return c(m),r;T=T.sibling}throw Error(a(188))}if(s.return!==l.return)s=m,l=T;else{for(var N=!1,P=m.child;P;){if(P===s){N=!0,s=m,l=T;break}if(P===l){N=!0,l=m,s=T;break}P=P.sibling}if(!N){for(P=T.child;P;){if(P===s){N=!0,s=T,l=m;break}if(P===l){N=!0,l=T,s=m;break}P=P.sibling}if(!N)throw Error(a(189))}}if(s.alternate!==l)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?t:r}function g(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=g(t),r!==null)return r;t=t.sibling}return null}var E=Object.assign,d=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),v=Symbol.for("react.fragment"),b=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),w=Symbol.for("react.provider"),S=Symbol.for("react.consumer"),D=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),j=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),I=Symbol.for("react.memo_cache_sentinel"),L=Symbol.iterator;function $(t){return t===null||typeof t!="object"?null:(t=L&&t[L]||t["@@iterator"],typeof t=="function"?t:null)}var U=Symbol.for("react.client.reference");function de(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===U?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case v:return"Fragment";case R:return"Profiler";case b:return"StrictMode";case j:return"Suspense";case k:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case _:return"Portal";case D:return(t.displayName||"Context")+".Provider";case S:return(t._context.displayName||"Context")+".Consumer";case V:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case O:return r=t.displayName||null,r!==null?r:de(t.type)||"Memo";case A:r=t._payload,t=t._init;try{return de(t(r))}catch{}}return null}var pe=Array.isArray,Q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ye={pending:!1,data:null,method:null,action:null},Ce=[],B=-1;function re(t){return{current:t}}function me(t){0>B||(t.current=Ce[B],Ce[B]=null,B--)}function ce(t,r){B++,Ce[B]=t.current,t.current=r}var _e=re(null),Le=re(null),xe=re(null),wt=re(null);function pt(t,r){switch(ce(xe,r),ce(Le,t),ce(_e,null),r.nodeType){case 9:case 11:t=(t=r.documentElement)&&(t=t.namespaceURI)?iv(t):0;break;default:if(t=r.tagName,r=r.namespaceURI)r=iv(r),t=av(r,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}me(_e),ce(_e,t)}function Xn(){me(_e),me(Le),me(xe)}function St(t){t.memoizedState!==null&&ce(wt,t);var r=_e.current,s=av(r,t.type);r!==s&&(ce(Le,t),ce(_e,s))}function fn(t){Le.current===t&&(me(_e),me(Le)),wt.current===t&&(me(wt),ml._currentValue=ye)}var Sr=Object.prototype.hasOwnProperty,Jr=i.unstable_scheduleCallback,_n=i.unstable_cancelCallback,Sa=i.unstable_shouldYield,ps=i.unstable_requestPaint,bn=i.unstable_now,Eo=i.unstable_getCurrentPriorityLevel,Ra=i.unstable_ImmediatePriority,Ii=i.unstable_UserBlockingPriority,ei=i.unstable_NormalPriority,gr=i.unstable_LowPriority,Zn=i.unstable_IdlePriority,Oi=i.log,Mi=i.unstable_setDisableYieldValue,lt=null,Fe=null;function hn(t){if(typeof Oi=="function"&&Mi(t),Fe&&typeof Fe.setStrictMode=="function")try{Fe.setStrictMode(lt,t)}catch{}}var kt=Math.clz32?Math.clz32:Rr,gs=Math.log,Wn=Math.LN2;function Rr(t){return t>>>=0,t===0?32:31-(gs(t)/Wn|0)|0}var Cr=256,xr=4194304;function Nn(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ti(t,r,s){var l=t.pendingLanes;if(l===0)return 0;var m=0,T=t.suspendedLanes,N=t.pingedLanes;t=t.warmLanes;var P=l&134217727;return P!==0?(l=P&~T,l!==0?m=Nn(l):(N&=P,N!==0?m=Nn(N):s||(s=P&~t,s!==0&&(m=Nn(s))))):(P=l&~T,P!==0?m=Nn(P):N!==0?m=Nn(N):s||(s=l&~t,s!==0&&(m=Nn(s)))),m===0?0:r!==0&&r!==m&&(r&T)===0&&(T=m&-m,s=r&-r,T>=s||T===32&&(s&4194048)!==0)?r:m}function Jn(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function Ni(t,r){switch(t){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ni(){var t=Cr;return Cr<<=1,(Cr&4194048)===0&&(Cr=256),t}function Ca(){var t=xr;return xr<<=1,(xr&62914560)===0&&(xr=4194304),t}function er(t){for(var r=[],s=0;31>s;s++)r.push(t);return r}function yr(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Vi(t,r,s,l,m,T){var N=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var P=t.entanglements,q=t.expirationTimes,ee=t.hiddenUpdates;for(s=N&~s;0<s;){var ae=31-kt(s),ue=1<<ae;P[ae]=0,q[ae]=-1;var te=ee[ae];if(te!==null)for(ee[ae]=null,ae=0;ae<te.length;ae++){var ne=te[ae];ne!==null&&(ne.lane&=-536870913)}s&=~ue}l!==0&&En(t,l,0),T!==0&&m===0&&t.tag!==0&&(t.suspendedLanes|=T&~(N&~r))}function En(t,r,s){t.pendingLanes|=r,t.suspendedLanes&=~r;var l=31-kt(r);t.entangledLanes|=r,t.entanglements[l]=t.entanglements[l]|1073741824|s&4194090}function Dr(t,r){var s=t.entangledLanes|=r;for(t=t.entanglements;s;){var l=31-kt(s),m=1<<l;m&r|t[l]&r&&(t[l]|=r),s&=~m}}function Ir(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function ki(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function H(){var t=se.p;return t!==0?t:(t=window.event,t===void 0?32:Av(t.type))}function Y(t,r){var s=se.p;try{return se.p=t,r()}finally{se.p=s}}var J=Math.random().toString(36).slice(2),le="__reactFiber$"+J,ge="__reactProps$"+J,Ee="__reactContainer$"+J,Me="__reactEvents$"+J,we="__reactListeners$"+J,Se="__reactHandles$"+J,De="__reactResources$"+J,Ne="__reactMarker$"+J;function Re(t){delete t[le],delete t[ge],delete t[Me],delete t[we],delete t[Se]}function ke(t){var r=t[le];if(r)return r;for(var s=t.parentNode;s;){if(r=s[Ee]||s[le]){if(s=r.alternate,r.child!==null||s!==null&&s.child!==null)for(t=uv(t);t!==null;){if(s=t[le])return s;t=uv(t)}return r}t=s,s=t.parentNode}return null}function Ye(t){if(t=t[le]||t[Ee]){var r=t.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return t}return null}function ct(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(a(33))}function st(t){var r=t[De];return r||(r=t[De]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function et(t){t[Ne]=!0}var Qe=new Set,tr={};function Bt(t,r){wn(t,r),wn(t+"Capture",r)}function wn(t,r){for(tr[t]=r,t=0;t<r.length;t++)Qe.add(r[t])}var tn=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Or={},Vn={};function ji(t){return Sr.call(Vn,t)?!0:Sr.call(Or,t)?!1:tn.test(t)?Vn[t]=!0:(Or[t]=!0,!1)}function dn(t,r,s){if(ji(r))if(s===null)t.removeAttribute(r);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+s)}}function Tn(t,r,s){if(s===null)t.removeAttribute(r);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+s)}}function ze(t,r,s,l){if(l===null)t.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(r,s,""+l)}}var jt,kn;function Rn(t){if(jt===void 0)try{throw Error()}catch(s){var r=s.stack.trim().match(/\n( *(at )?)/);jt=r&&r[1]||"",kn=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+jt+t+kn}var Mr=!1;function bt(t,r){if(!t||Mr)return"";Mr=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var ue=function(){throw Error()};if(Object.defineProperty(ue.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ue,[])}catch(ne){var te=ne}Reflect.construct(t,[],ue)}else{try{ue.call()}catch(ne){te=ne}t.call(ue.prototype)}}else{try{throw Error()}catch(ne){te=ne}(ue=t())&&typeof ue.catch=="function"&&ue.catch(function(){})}}catch(ne){if(ne&&te&&typeof ne.stack=="string")return[ne.stack,te.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var T=l.DetermineComponentFrameRoot(),N=T[0],P=T[1];if(N&&P){var q=N.split(`
`),ee=P.split(`
`);for(m=l=0;l<q.length&&!q[l].includes("DetermineComponentFrameRoot");)l++;for(;m<ee.length&&!ee[m].includes("DetermineComponentFrameRoot");)m++;if(l===q.length||m===ee.length)for(l=q.length-1,m=ee.length-1;1<=l&&0<=m&&q[l]!==ee[m];)m--;for(;1<=l&&0<=m;l--,m--)if(q[l]!==ee[m]){if(l!==1||m!==1)do if(l--,m--,0>m||q[l]!==ee[m]){var ae=`
`+q[l].replace(" at new "," at ");return t.displayName&&ae.includes("<anonymous>")&&(ae=ae.replace("<anonymous>",t.displayName)),ae}while(1<=l&&0<=m);break}}}finally{Mr=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?Rn(s):""}function nr(t){switch(t.tag){case 26:case 27:case 5:return Rn(t.type);case 16:return Rn("Lazy");case 13:return Rn("Suspense");case 19:return Rn("SuspenseList");case 0:case 15:return bt(t.type,!1);case 11:return bt(t.type.render,!1);case 1:return bt(t.type,!0);case 31:return Rn("Activity");default:return""}}function ri(t){try{var r="";do r+=nr(t),t=t.return;while(t);return r}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function nn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function wo(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Sf(t){var r=wo(t)?"checked":"value",s=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),l=""+t[r];if(!t.hasOwnProperty(r)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var m=s.get,T=s.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return m.call(this)},set:function(N){l=""+N,T.call(this,N)}}),Object.defineProperty(t,r,{enumerable:s.enumerable}),{getValue:function(){return l},setValue:function(N){l=""+N},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function ys(t){t._valueTracker||(t._valueTracker=Sf(t))}function To(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var s=r.getValue(),l="";return t&&(l=wo(t)?t.checked?"true":"false":t.value),t=l,t!==s?(r.setValue(t),!0):!1}function xa(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Rf=/[\n"\\]/g;function Lt(t){return t.replace(Rf,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function jn(t,r,s,l,m,T,N,P){t.name="",N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?t.type=N:t.removeAttribute("type"),r!=null?N==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+nn(r)):t.value!==""+nn(r)&&(t.value=""+nn(r)):N!=="submit"&&N!=="reset"||t.removeAttribute("value"),r!=null?Li(t,N,nn(r)):s!=null?Li(t,N,nn(s)):l!=null&&t.removeAttribute("value"),m==null&&T!=null&&(t.defaultChecked=!!T),m!=null&&(t.checked=m&&typeof m!="function"&&typeof m!="symbol"),P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"?t.name=""+nn(P):t.removeAttribute("name")}function Da(t,r,s,l,m,T,N,P){if(T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(t.type=T),r!=null||s!=null){if(!(T!=="submit"&&T!=="reset"||r!=null))return;s=s!=null?""+nn(s):"",r=r!=null?""+nn(r):s,P||r===t.value||(t.value=r),t.defaultValue=r}l=l??m,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=P?t.checked:!!l,t.defaultChecked=!!l,N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(t.name=N)}function Li(t,r,s){r==="number"&&xa(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function ii(t,r,s,l){if(t=t.options,r){r={};for(var m=0;m<s.length;m++)r["$"+s[m]]=!0;for(s=0;s<t.length;s++)m=r.hasOwnProperty("$"+t[s].value),t[s].selected!==m&&(t[s].selected=m),m&&l&&(t[s].defaultSelected=!0)}else{for(s=""+nn(s),r=null,m=0;m<t.length;m++){if(t[m].value===s){t[m].selected=!0,l&&(t[m].defaultSelected=!0);return}r!==null||t[m].disabled||(r=t[m])}r!==null&&(r.selected=!0)}}function gt(t,r,s){if(r!=null&&(r=""+nn(r),r!==t.value&&(t.value=r),s==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=s!=null?""+nn(s):""}function Ia(t,r,s,l){if(r==null){if(l!=null){if(s!=null)throw Error(a(92));if(pe(l)){if(1<l.length)throw Error(a(93));l=l[0]}s=l}s==null&&(s=""),r=s}s=nn(r),t.defaultValue=s,l=t.textContent,l===s&&l!==""&&l!==null&&(t.value=l)}function rr(t,r){if(r){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=r;return}}t.textContent=r}var Oa=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function iu(t,r,s){var l=r.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":l?t.setProperty(r,s):typeof s!="number"||s===0||Oa.has(r)?r==="float"?t.cssFloat=s:t[r]=(""+s).trim():t[r]=s+"px"}function Ao(t,r,s){if(r!=null&&typeof r!="object")throw Error(a(62));if(t=t.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var m in r)l=r[m],r.hasOwnProperty(m)&&s[m]!==l&&iu(t,m,l)}else for(var T in r)r.hasOwnProperty(T)&&iu(t,T,r[T])}function So(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Cf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),xf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function vs(t){return xf.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var ai=null;function ir(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var si=null,oi=null;function Ro(t){var r=Ye(t);if(r&&(t=r.stateNode)){var s=t[ge]||null;e:switch(t=r.stateNode,r.type){case"input":if(jn(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),r=s.name,s.type==="radio"&&r!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Lt(""+r)+'"][type="radio"]'),r=0;r<s.length;r++){var l=s[r];if(l!==t&&l.form===t.form){var m=l[ge]||null;if(!m)throw Error(a(90));jn(l,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(r=0;r<s.length;r++)l=s[r],l.form===t.form&&To(l)}break e;case"textarea":gt(t,s.value,s.defaultValue);break e;case"select":r=s.value,r!=null&&ii(t,!!s.multiple,r,!1)}}}var Nr=!1;function au(t,r,s){if(Nr)return t(r,s);Nr=!0;try{var l=t(r);return l}finally{if(Nr=!1,(si!==null||oi!==null)&&(Wu(),si&&(r=si,t=oi,oi=si=null,Ro(r),t)))for(r=0;r<t.length;r++)Ro(t[r])}}function Ma(t,r){var s=t.stateNode;if(s===null)return null;var l=s[ge]||null;if(l===null)return null;s=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(a(231,r,typeof s));return s}var vr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ar=!1;if(vr)try{var Na={};Object.defineProperty(Na,"passive",{get:function(){ar=!0}}),window.addEventListener("test",Na,Na),window.removeEventListener("test",Na,Na)}catch{ar=!1}var Vr=null,Pi=null,li=null;function Co(){if(li)return li;var t,r=Pi,s=r.length,l,m="value"in Vr?Vr.value:Vr.textContent,T=m.length;for(t=0;t<s&&r[t]===m[t];t++);var N=s-t;for(l=1;l<=N&&r[s-l]===m[T-l];l++);return li=m.slice(t,1<l?1-l:void 0)}function kr(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function jr(){return!0}function xo(){return!1}function Yt(t){function r(s,l,m,T,N){this._reactName=s,this._targetInst=m,this.type=l,this.nativeEvent=T,this.target=N,this.currentTarget=null;for(var P in t)t.hasOwnProperty(P)&&(s=t[P],this[P]=s?s(T):T[P]);return this.isDefaultPrevented=(T.defaultPrevented!=null?T.defaultPrevented:T.returnValue===!1)?jr:xo,this.isPropagationStopped=xo,this}return E(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=jr)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=jr)},persist:function(){},isPersistent:jr}),r}var ft={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_s=Yt(ft),Va=E({},ft,{view:0,detail:0}),su=Yt(Va),bs,Es,Lr,ka=E({},Va,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pa,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Lr&&(Lr&&t.type==="mousemove"?(bs=t.screenX-Lr.screenX,Es=t.screenY-Lr.screenY):Es=bs=0,Lr=t),bs)},movementY:function(t){return"movementY"in t?t.movementY:Es}}),sr=Yt(ka),ou=E({},ka,{dataTransfer:0}),Df=Yt(ou),ja=E({},Va,{relatedTarget:0}),ws=Yt(ja),Do=E({},ft,{animationName:0,elapsedTime:0,pseudoElement:0}),Ts=Yt(Do),lu=E({},ft,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),As=Yt(lu),If=E({},ft,{data:0}),Io=Yt(If),La={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},uu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Oo(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=cu[t])?!!r[t]:!1}function Pa(){return Oo}var fu=E({},Va,{key:function(t){if(t.key){var r=La[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=kr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?uu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pa,charCode:function(t){return t.type==="keypress"?kr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?kr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ss=Yt(fu),hu=E({},ka,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Mo=Yt(hu),ui=E({},Va,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pa}),du=Yt(ui),mu=E({},ft,{propertyName:0,elapsedTime:0,pseudoElement:0}),pu=Yt(mu),gu=E({},ka,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Rs=Yt(gu),An=E({},ft,{newState:0,oldState:0}),yu=Yt(An),vu=[9,13,27,32],Pr=vr&&"CompositionEvent"in window,h=null;vr&&"documentMode"in document&&(h=document.documentMode);var x=vr&&"TextEvent"in window&&!h,M=vr&&(!Pr||h&&8<h&&11>=h),z=" ",X=!1;function ie(t,r){switch(t){case"keyup":return vu.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ve(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var tt=!1;function qt(t,r){switch(t){case"compositionend":return ve(r);case"keypress":return r.which!==32?null:(X=!0,z);case"textInput":return t=r.data,t===z&&X?null:t;default:return null}}function nt(t,r){if(tt)return t==="compositionend"||!Pr&&ie(t,r)?(t=Co(),li=Pi=Vr=null,tt=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return M&&r.locale!=="ko"?null:r.data;default:return null}}var Xt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ft(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!Xt[t.type]:r==="textarea"}function ci(t,r,s,l){si?oi?oi.push(l):oi=[l]:si=l,r=ic(r,"onChange"),0<r.length&&(s=new _s("onChange","change",null,s,l),t.push({event:s,listeners:r}))}var rn=null,Ur=null;function No(t){Jy(t,0)}function _u(t){var r=ct(t);if(To(r))return t}function bp(t,r){if(t==="change")return r}var Ep=!1;if(vr){var Of;if(vr){var Mf="oninput"in document;if(!Mf){var wp=document.createElement("div");wp.setAttribute("oninput","return;"),Mf=typeof wp.oninput=="function"}Of=Mf}else Of=!1;Ep=Of&&(!document.documentMode||9<document.documentMode)}function Tp(){rn&&(rn.detachEvent("onpropertychange",Ap),Ur=rn=null)}function Ap(t){if(t.propertyName==="value"&&_u(Ur)){var r=[];ci(r,Ur,t,ir(t)),au(No,r)}}function v2(t,r,s){t==="focusin"?(Tp(),rn=r,Ur=s,rn.attachEvent("onpropertychange",Ap)):t==="focusout"&&Tp()}function _2(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return _u(Ur)}function b2(t,r){if(t==="click")return _u(r)}function E2(t,r){if(t==="input"||t==="change")return _u(r)}function w2(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var Ln=typeof Object.is=="function"?Object.is:w2;function Vo(t,r){if(Ln(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var s=Object.keys(t),l=Object.keys(r);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var m=s[l];if(!Sr.call(r,m)||!Ln(t[m],r[m]))return!1}return!0}function Sp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Rp(t,r){var s=Sp(t);t=0;for(var l;s;){if(s.nodeType===3){if(l=t+s.textContent.length,t<=r&&l>=r)return{node:s,offset:r-t};t=l}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Sp(s)}}function Cp(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?Cp(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function xp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=xa(t.document);r instanceof t.HTMLIFrameElement;){try{var s=typeof r.contentWindow.location.href=="string"}catch{s=!1}if(s)t=r.contentWindow;else break;r=xa(t.document)}return r}function Nf(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}var T2=vr&&"documentMode"in document&&11>=document.documentMode,Cs=null,Vf=null,ko=null,kf=!1;function Dp(t,r,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;kf||Cs==null||Cs!==xa(l)||(l=Cs,"selectionStart"in l&&Nf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),ko&&Vo(ko,l)||(ko=l,l=ic(Vf,"onSelect"),0<l.length&&(r=new _s("onSelect","select",null,r,s),t.push({event:r,listeners:l}),r.target=Cs)))}function Ua(t,r){var s={};return s[t.toLowerCase()]=r.toLowerCase(),s["Webkit"+t]="webkit"+r,s["Moz"+t]="moz"+r,s}var xs={animationend:Ua("Animation","AnimationEnd"),animationiteration:Ua("Animation","AnimationIteration"),animationstart:Ua("Animation","AnimationStart"),transitionrun:Ua("Transition","TransitionRun"),transitionstart:Ua("Transition","TransitionStart"),transitioncancel:Ua("Transition","TransitionCancel"),transitionend:Ua("Transition","TransitionEnd")},jf={},Ip={};vr&&(Ip=document.createElement("div").style,"AnimationEvent"in window||(delete xs.animationend.animation,delete xs.animationiteration.animation,delete xs.animationstart.animation),"TransitionEvent"in window||delete xs.transitionend.transition);function za(t){if(jf[t])return jf[t];if(!xs[t])return t;var r=xs[t],s;for(s in r)if(r.hasOwnProperty(s)&&s in Ip)return jf[t]=r[s];return t}var Op=za("animationend"),Mp=za("animationiteration"),Np=za("animationstart"),A2=za("transitionrun"),S2=za("transitionstart"),R2=za("transitioncancel"),Vp=za("transitionend"),kp=new Map,Lf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Lf.push("scrollEnd");function _r(t,r){kp.set(t,r),Bt(r,[t])}var jp=new WeakMap;function or(t,r){if(typeof t=="object"&&t!==null){var s=jp.get(t);return s!==void 0?s:(r={value:t,source:r,stack:ri(r)},jp.set(t,r),r)}return{value:t,source:r,stack:ri(r)}}var lr=[],Ds=0,Pf=0;function bu(){for(var t=Ds,r=Pf=Ds=0;r<t;){var s=lr[r];lr[r++]=null;var l=lr[r];lr[r++]=null;var m=lr[r];lr[r++]=null;var T=lr[r];if(lr[r++]=null,l!==null&&m!==null){var N=l.pending;N===null?m.next=m:(m.next=N.next,N.next=m),l.pending=m}T!==0&&Lp(s,m,T)}}function Eu(t,r,s,l){lr[Ds++]=t,lr[Ds++]=r,lr[Ds++]=s,lr[Ds++]=l,Pf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Uf(t,r,s,l){return Eu(t,r,s,l),wu(t)}function Is(t,r){return Eu(t,null,null,r),wu(t)}function Lp(t,r,s){t.lanes|=s;var l=t.alternate;l!==null&&(l.lanes|=s);for(var m=!1,T=t.return;T!==null;)T.childLanes|=s,l=T.alternate,l!==null&&(l.childLanes|=s),T.tag===22&&(t=T.stateNode,t===null||t._visibility&1||(m=!0)),t=T,T=T.return;return t.tag===3?(T=t.stateNode,m&&r!==null&&(m=31-kt(s),t=T.hiddenUpdates,l=t[m],l===null?t[m]=[r]:l.push(r),r.lane=s|536870912),T):null}function wu(t){if(50<sl)throw sl=0,Hh=null,Error(a(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var Os={};function C2(t,r,s,l){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pn(t,r,s,l){return new C2(t,r,s,l)}function zf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function fi(t,r){var s=t.alternate;return s===null?(s=Pn(t.tag,r,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=r,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,r=t.dependencies,s.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function Pp(t,r){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,r=s.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function Tu(t,r,s,l,m,T){var N=0;if(l=t,typeof t=="function")zf(t)&&(N=1);else if(typeof t=="string")N=DE(t,s,_e.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case C:return t=Pn(31,s,r,m),t.elementType=C,t.lanes=T,t;case v:return $a(s.children,m,T,r);case b:N=8,m|=24;break;case R:return t=Pn(12,s,r,m|2),t.elementType=R,t.lanes=T,t;case j:return t=Pn(13,s,r,m),t.elementType=j,t.lanes=T,t;case k:return t=Pn(19,s,r,m),t.elementType=k,t.lanes=T,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case w:case D:N=10;break e;case S:N=9;break e;case V:N=11;break e;case O:N=14;break e;case A:N=16,l=null;break e}N=29,s=Error(a(130,t===null?"null":typeof t,"")),l=null}return r=Pn(N,s,r,m),r.elementType=t,r.type=l,r.lanes=T,r}function $a(t,r,s,l){return t=Pn(7,t,l,r),t.lanes=s,t}function $f(t,r,s){return t=Pn(6,t,null,r),t.lanes=s,t}function Bf(t,r,s){return r=Pn(4,t.children!==null?t.children:[],t.key,r),r.lanes=s,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}var Ms=[],Ns=0,Au=null,Su=0,ur=[],cr=0,Ba=null,hi=1,di="";function qa(t,r){Ms[Ns++]=Su,Ms[Ns++]=Au,Au=t,Su=r}function Up(t,r,s){ur[cr++]=hi,ur[cr++]=di,ur[cr++]=Ba,Ba=t;var l=hi;t=di;var m=32-kt(l)-1;l&=~(1<<m),s+=1;var T=32-kt(r)+m;if(30<T){var N=m-m%5;T=(l&(1<<N)-1).toString(32),l>>=N,m-=N,hi=1<<32-kt(r)+m|s<<m|l,di=T+t}else hi=1<<T|s<<m|l,di=t}function qf(t){t.return!==null&&(qa(t,1),Up(t,1,0))}function Ff(t){for(;t===Au;)Au=Ms[--Ns],Ms[Ns]=null,Su=Ms[--Ns],Ms[Ns]=null;for(;t===Ba;)Ba=ur[--cr],ur[cr]=null,di=ur[--cr],ur[cr]=null,hi=ur[--cr],ur[cr]=null}var Sn=null,Dt=null,ut=!1,Fa=null,zr=!1,Hf=Error(a(519));function Ha(t){var r=Error(a(418,""));throw Po(or(r,t)),Hf}function zp(t){var r=t.stateNode,s=t.type,l=t.memoizedProps;switch(r[le]=t,r[ge]=l,s){case"dialog":Ze("cancel",r),Ze("close",r);break;case"iframe":case"object":case"embed":Ze("load",r);break;case"video":case"audio":for(s=0;s<ll.length;s++)Ze(ll[s],r);break;case"source":Ze("error",r);break;case"img":case"image":case"link":Ze("error",r),Ze("load",r);break;case"details":Ze("toggle",r);break;case"input":Ze("invalid",r),Da(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),ys(r);break;case"select":Ze("invalid",r);break;case"textarea":Ze("invalid",r),Ia(r,l.value,l.defaultValue,l.children),ys(r)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||r.textContent===""+s||l.suppressHydrationWarning===!0||rv(r.textContent,s)?(l.popover!=null&&(Ze("beforetoggle",r),Ze("toggle",r)),l.onScroll!=null&&Ze("scroll",r),l.onScrollEnd!=null&&Ze("scrollend",r),l.onClick!=null&&(r.onclick=ac),r=!0):r=!1,r||Ha(t)}function $p(t){for(Sn=t.return;Sn;)switch(Sn.tag){case 5:case 13:zr=!1;return;case 27:case 3:zr=!0;return;default:Sn=Sn.return}}function jo(t){if(t!==Sn)return!1;if(!ut)return $p(t),ut=!0,!1;var r=t.tag,s;if((s=r!==3&&r!==27)&&((s=r===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||od(t.type,t.memoizedProps)),s=!s),s&&Dt&&Ha(t),$p(t),r===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8)if(s=t.data,s==="/$"){if(r===0){Dt=Er(t.nextSibling);break e}r--}else s!=="$"&&s!=="$!"&&s!=="$?"||r++;t=t.nextSibling}Dt=null}}else r===27?(r=Dt,ea(t.type)?(t=fd,fd=null,Dt=t):Dt=r):Dt=Sn?Er(t.stateNode.nextSibling):null;return!0}function Lo(){Dt=Sn=null,ut=!1}function Bp(){var t=Fa;return t!==null&&(Dn===null?Dn=t:Dn.push.apply(Dn,t),Fa=null),t}function Po(t){Fa===null?Fa=[t]:Fa.push(t)}var Gf=re(null),Ga=null,mi=null;function Ui(t,r,s){ce(Gf,r._currentValue),r._currentValue=s}function pi(t){t._currentValue=Gf.current,me(Gf)}function Qf(t,r,s){for(;t!==null;){var l=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),t===s)break;t=t.return}}function Kf(t,r,s,l){var m=t.child;for(m!==null&&(m.return=t);m!==null;){var T=m.dependencies;if(T!==null){var N=m.child;T=T.firstContext;e:for(;T!==null;){var P=T;T=m;for(var q=0;q<r.length;q++)if(P.context===r[q]){T.lanes|=s,P=T.alternate,P!==null&&(P.lanes|=s),Qf(T.return,s,t),l||(N=null);break e}T=P.next}}else if(m.tag===18){if(N=m.return,N===null)throw Error(a(341));N.lanes|=s,T=N.alternate,T!==null&&(T.lanes|=s),Qf(N,s,t),N=null}else N=m.child;if(N!==null)N.return=m;else for(N=m;N!==null;){if(N===t){N=null;break}if(m=N.sibling,m!==null){m.return=N.return,N=m;break}N=N.return}m=N}}function Uo(t,r,s,l){t=null;for(var m=r,T=!1;m!==null;){if(!T){if((m.flags&524288)!==0)T=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var N=m.alternate;if(N===null)throw Error(a(387));if(N=N.memoizedProps,N!==null){var P=m.type;Ln(m.pendingProps.value,N.value)||(t!==null?t.push(P):t=[P])}}else if(m===wt.current){if(N=m.alternate,N===null)throw Error(a(387));N.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(t!==null?t.push(ml):t=[ml])}m=m.return}t!==null&&Kf(r,t,s,l),r.flags|=262144}function Ru(t){for(t=t.firstContext;t!==null;){if(!Ln(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Qa(t){Ga=t,mi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function mn(t){return qp(Ga,t)}function Cu(t,r){return Ga===null&&Qa(t),qp(t,r)}function qp(t,r){var s=r._currentValue;if(r={context:r,memoizedValue:s,next:null},mi===null){if(t===null)throw Error(a(308));mi=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else mi=mi.next=r;return s}var x2=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(s,l){t.push(l)}};this.abort=function(){r.aborted=!0,t.forEach(function(s){return s()})}},D2=i.unstable_scheduleCallback,I2=i.unstable_NormalPriority,Ht={$$typeof:D,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Yf(){return{controller:new x2,data:new Map,refCount:0}}function zo(t){t.refCount--,t.refCount===0&&D2(I2,function(){t.controller.abort()})}var $o=null,Xf=0,Vs=0,ks=null;function O2(t,r){if($o===null){var s=$o=[];Xf=0,Vs=Wh(),ks={status:"pending",value:void 0,then:function(l){s.push(l)}}}return Xf++,r.then(Fp,Fp),r}function Fp(){if(--Xf===0&&$o!==null){ks!==null&&(ks.status="fulfilled");var t=$o;$o=null,Vs=0,ks=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function M2(t,r){var s=[],l={status:"pending",value:null,reason:null,then:function(m){s.push(m)}};return t.then(function(){l.status="fulfilled",l.value=r;for(var m=0;m<s.length;m++)(0,s[m])(r)},function(m){for(l.status="rejected",l.reason=m,m=0;m<s.length;m++)(0,s[m])(void 0)}),l}var Hp=Q.S;Q.S=function(t,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&O2(t,r),Hp!==null&&Hp(t,r)};var Ka=re(null);function Zf(){var t=Ka.current;return t!==null?t:Tt.pooledCache}function xu(t,r){r===null?ce(Ka,Ka.current):ce(Ka,r.pool)}function Gp(){var t=Zf();return t===null?null:{parent:Ht._currentValue,pool:t}}var Bo=Error(a(460)),Qp=Error(a(474)),Du=Error(a(542)),Wf={then:function(){}};function Kp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Iu(){}function Yp(t,r,s){switch(s=t[s],s===void 0?t.push(r):s!==r&&(r.then(Iu,Iu),r=s),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,Zp(t),t;default:if(typeof r.status=="string")r.then(Iu,Iu);else{if(t=Tt,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=r,t.status="pending",t.then(function(l){if(r.status==="pending"){var m=r;m.status="fulfilled",m.value=l}},function(l){if(r.status==="pending"){var m=r;m.status="rejected",m.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,Zp(t),t}throw qo=r,Bo}}var qo=null;function Xp(){if(qo===null)throw Error(a(459));var t=qo;return qo=null,t}function Zp(t){if(t===Bo||t===Du)throw Error(a(483))}var zi=!1;function Jf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function eh(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function $i(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Bi(t,r,s){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(dt&2)!==0){var m=l.pending;return m===null?r.next=r:(r.next=m.next,m.next=r),l.pending=r,r=wu(t),Lp(t,null,s),r}return Eu(t,l,r,s),wu(t)}function Fo(t,r,s){if(r=r.updateQueue,r!==null&&(r=r.shared,(s&4194048)!==0)){var l=r.lanes;l&=t.pendingLanes,s|=l,r.lanes=s,Dr(t,s)}}function th(t,r){var s=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var m=null,T=null;if(s=s.firstBaseUpdate,s!==null){do{var N={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};T===null?m=T=N:T=T.next=N,s=s.next}while(s!==null);T===null?m=T=r:T=T.next=r}else m=T=r;s={baseState:l.baseState,firstBaseUpdate:m,lastBaseUpdate:T,shared:l.shared,callbacks:l.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=r:t.next=r,s.lastBaseUpdate=r}var nh=!1;function Ho(){if(nh){var t=ks;if(t!==null)throw t}}function Go(t,r,s,l){nh=!1;var m=t.updateQueue;zi=!1;var T=m.firstBaseUpdate,N=m.lastBaseUpdate,P=m.shared.pending;if(P!==null){m.shared.pending=null;var q=P,ee=q.next;q.next=null,N===null?T=ee:N.next=ee,N=q;var ae=t.alternate;ae!==null&&(ae=ae.updateQueue,P=ae.lastBaseUpdate,P!==N&&(P===null?ae.firstBaseUpdate=ee:P.next=ee,ae.lastBaseUpdate=q))}if(T!==null){var ue=m.baseState;N=0,ae=ee=q=null,P=T;do{var te=P.lane&-536870913,ne=te!==P.lane;if(ne?(rt&te)===te:(l&te)===te){te!==0&&te===Vs&&(nh=!0),ae!==null&&(ae=ae.next={lane:0,tag:P.tag,payload:P.payload,callback:null,next:null});e:{var Ue=t,Ve=P;te=r;var _t=s;switch(Ve.tag){case 1:if(Ue=Ve.payload,typeof Ue=="function"){ue=Ue.call(_t,ue,te);break e}ue=Ue;break e;case 3:Ue.flags=Ue.flags&-65537|128;case 0:if(Ue=Ve.payload,te=typeof Ue=="function"?Ue.call(_t,ue,te):Ue,te==null)break e;ue=E({},ue,te);break e;case 2:zi=!0}}te=P.callback,te!==null&&(t.flags|=64,ne&&(t.flags|=8192),ne=m.callbacks,ne===null?m.callbacks=[te]:ne.push(te))}else ne={lane:te,tag:P.tag,payload:P.payload,callback:P.callback,next:null},ae===null?(ee=ae=ne,q=ue):ae=ae.next=ne,N|=te;if(P=P.next,P===null){if(P=m.shared.pending,P===null)break;ne=P,P=ne.next,ne.next=null,m.lastBaseUpdate=ne,m.shared.pending=null}}while(!0);ae===null&&(q=ue),m.baseState=q,m.firstBaseUpdate=ee,m.lastBaseUpdate=ae,T===null&&(m.shared.lanes=0),Xi|=N,t.lanes=N,t.memoizedState=ue}}function Wp(t,r){if(typeof t!="function")throw Error(a(191,t));t.call(r)}function Jp(t,r){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)Wp(s[t],r)}var js=re(null),Ou=re(0);function eg(t,r){t=wi,ce(Ou,t),ce(js,r),wi=t|r.baseLanes}function rh(){ce(Ou,wi),ce(js,js.current)}function ih(){wi=Ou.current,me(js),me(Ou)}var qi=0,He=null,yt=null,Pt=null,Mu=!1,Ls=!1,Ya=!1,Nu=0,Qo=0,Ps=null,N2=0;function Ot(){throw Error(a(321))}function ah(t,r){if(r===null)return!1;for(var s=0;s<r.length&&s<t.length;s++)if(!Ln(t[s],r[s]))return!1;return!0}function sh(t,r,s,l,m,T){return qi=T,He=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Q.H=t===null||t.memoizedState===null?Lg:Pg,Ya=!1,T=s(l,m),Ya=!1,Ls&&(T=ng(r,s,l,m)),tg(t),T}function tg(t){Q.H=Uu;var r=yt!==null&&yt.next!==null;if(qi=0,Pt=yt=He=null,Mu=!1,Qo=0,Ps=null,r)throw Error(a(300));t===null||Zt||(t=t.dependencies,t!==null&&Ru(t)&&(Zt=!0))}function ng(t,r,s,l){He=t;var m=0;do{if(Ls&&(Ps=null),Qo=0,Ls=!1,25<=m)throw Error(a(301));if(m+=1,Pt=yt=null,t.updateQueue!=null){var T=t.updateQueue;T.lastEffect=null,T.events=null,T.stores=null,T.memoCache!=null&&(T.memoCache.index=0)}Q.H=z2,T=r(s,l)}while(Ls);return T}function V2(){var t=Q.H,r=t.useState()[0];return r=typeof r.then=="function"?Ko(r):r,t=t.useState()[0],(yt!==null?yt.memoizedState:null)!==t&&(He.flags|=1024),r}function oh(){var t=Nu!==0;return Nu=0,t}function lh(t,r,s){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~s}function uh(t){if(Mu){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}Mu=!1}qi=0,Pt=yt=He=null,Ls=!1,Qo=Nu=0,Ps=null}function Cn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pt===null?He.memoizedState=Pt=t:Pt=Pt.next=t,Pt}function Ut(){if(yt===null){var t=He.alternate;t=t!==null?t.memoizedState:null}else t=yt.next;var r=Pt===null?He.memoizedState:Pt.next;if(r!==null)Pt=r,yt=t;else{if(t===null)throw He.alternate===null?Error(a(467)):Error(a(310));yt=t,t={memoizedState:yt.memoizedState,baseState:yt.baseState,baseQueue:yt.baseQueue,queue:yt.queue,next:null},Pt===null?He.memoizedState=Pt=t:Pt=Pt.next=t}return Pt}function ch(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ko(t){var r=Qo;return Qo+=1,Ps===null&&(Ps=[]),t=Yp(Ps,t,r),r=He,(Pt===null?r.memoizedState:Pt.next)===null&&(r=r.alternate,Q.H=r===null||r.memoizedState===null?Lg:Pg),t}function Vu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Ko(t);if(t.$$typeof===D)return mn(t)}throw Error(a(438,String(t)))}function fh(t){var r=null,s=He.updateQueue;if(s!==null&&(r=s.memoCache),r==null){var l=He.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(m){return m.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),s===null&&(s=ch(),He.updateQueue=s),s.memoCache=r,s=r.data[r.index],s===void 0)for(s=r.data[r.index]=Array(t),l=0;l<t;l++)s[l]=I;return r.index++,s}function gi(t,r){return typeof r=="function"?r(t):r}function ku(t){var r=Ut();return hh(r,yt,t)}function hh(t,r,s){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=s;var m=t.baseQueue,T=l.pending;if(T!==null){if(m!==null){var N=m.next;m.next=T.next,T.next=N}r.baseQueue=m=T,l.pending=null}if(T=t.baseState,m===null)t.memoizedState=T;else{r=m.next;var P=N=null,q=null,ee=r,ae=!1;do{var ue=ee.lane&-536870913;if(ue!==ee.lane?(rt&ue)===ue:(qi&ue)===ue){var te=ee.revertLane;if(te===0)q!==null&&(q=q.next={lane:0,revertLane:0,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null}),ue===Vs&&(ae=!0);else if((qi&te)===te){ee=ee.next,te===Vs&&(ae=!0);continue}else ue={lane:0,revertLane:ee.revertLane,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},q===null?(P=q=ue,N=T):q=q.next=ue,He.lanes|=te,Xi|=te;ue=ee.action,Ya&&s(T,ue),T=ee.hasEagerState?ee.eagerState:s(T,ue)}else te={lane:ue,revertLane:ee.revertLane,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},q===null?(P=q=te,N=T):q=q.next=te,He.lanes|=ue,Xi|=ue;ee=ee.next}while(ee!==null&&ee!==r);if(q===null?N=T:q.next=P,!Ln(T,t.memoizedState)&&(Zt=!0,ae&&(s=ks,s!==null)))throw s;t.memoizedState=T,t.baseState=N,t.baseQueue=q,l.lastRenderedState=T}return m===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function dh(t){var r=Ut(),s=r.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=t;var l=s.dispatch,m=s.pending,T=r.memoizedState;if(m!==null){s.pending=null;var N=m=m.next;do T=t(T,N.action),N=N.next;while(N!==m);Ln(T,r.memoizedState)||(Zt=!0),r.memoizedState=T,r.baseQueue===null&&(r.baseState=T),s.lastRenderedState=T}return[T,l]}function rg(t,r,s){var l=He,m=Ut(),T=ut;if(T){if(s===void 0)throw Error(a(407));s=s()}else s=r();var N=!Ln((yt||m).memoizedState,s);N&&(m.memoizedState=s,Zt=!0),m=m.queue;var P=sg.bind(null,l,m,t);if(Yo(2048,8,P,[t]),m.getSnapshot!==r||N||Pt!==null&&Pt.memoizedState.tag&1){if(l.flags|=2048,Us(9,ju(),ag.bind(null,l,m,s,r),null),Tt===null)throw Error(a(349));T||(qi&124)!==0||ig(l,r,s)}return s}function ig(t,r,s){t.flags|=16384,t={getSnapshot:r,value:s},r=He.updateQueue,r===null?(r=ch(),He.updateQueue=r,r.stores=[t]):(s=r.stores,s===null?r.stores=[t]:s.push(t))}function ag(t,r,s,l){r.value=s,r.getSnapshot=l,og(r)&&lg(t)}function sg(t,r,s){return s(function(){og(r)&&lg(t)})}function og(t){var r=t.getSnapshot;t=t.value;try{var s=r();return!Ln(t,s)}catch{return!0}}function lg(t){var r=Is(t,2);r!==null&&qn(r,t,2)}function mh(t){var r=Cn();if(typeof t=="function"){var s=t;if(t=s(),Ya){hn(!0);try{s()}finally{hn(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gi,lastRenderedState:t},r}function ug(t,r,s,l){return t.baseState=s,hh(t,yt,typeof l=="function"?l:gi)}function k2(t,r,s,l,m){if(Pu(t))throw Error(a(485));if(t=r.action,t!==null){var T={payload:m,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(N){T.listeners.push(N)}};Q.T!==null?s(!0):T.isTransition=!1,l(T),s=r.pending,s===null?(T.next=r.pending=T,cg(r,T)):(T.next=s.next,r.pending=s.next=T)}}function cg(t,r){var s=r.action,l=r.payload,m=t.state;if(r.isTransition){var T=Q.T,N={};Q.T=N;try{var P=s(m,l),q=Q.S;q!==null&&q(N,P),fg(t,r,P)}catch(ee){ph(t,r,ee)}finally{Q.T=T}}else try{T=s(m,l),fg(t,r,T)}catch(ee){ph(t,r,ee)}}function fg(t,r,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){hg(t,r,l)},function(l){return ph(t,r,l)}):hg(t,r,s)}function hg(t,r,s){r.status="fulfilled",r.value=s,dg(r),t.state=s,r=t.pending,r!==null&&(s=r.next,s===r?t.pending=null:(s=s.next,r.next=s,cg(t,s)))}function ph(t,r,s){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=s,dg(r),r=r.next;while(r!==l)}t.action=null}function dg(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function mg(t,r){return r}function pg(t,r){if(ut){var s=Tt.formState;if(s!==null){e:{var l=He;if(ut){if(Dt){t:{for(var m=Dt,T=zr;m.nodeType!==8;){if(!T){m=null;break t}if(m=Er(m.nextSibling),m===null){m=null;break t}}T=m.data,m=T==="F!"||T==="F"?m:null}if(m){Dt=Er(m.nextSibling),l=m.data==="F!";break e}}Ha(l)}l=!1}l&&(r=s[0])}}return s=Cn(),s.memoizedState=s.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:mg,lastRenderedState:r},s.queue=l,s=Vg.bind(null,He,l),l.dispatch=s,l=mh(!1),T=bh.bind(null,He,!1,l.queue),l=Cn(),m={state:r,dispatch:null,action:t,pending:null},l.queue=m,s=k2.bind(null,He,m,T,s),m.dispatch=s,l.memoizedState=t,[r,s,!1]}function gg(t){var r=Ut();return yg(r,yt,t)}function yg(t,r,s){if(r=hh(t,r,mg)[0],t=ku(gi)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=Ko(r)}catch(N){throw N===Bo?Du:N}else l=r;r=Ut();var m=r.queue,T=m.dispatch;return s!==r.memoizedState&&(He.flags|=2048,Us(9,ju(),j2.bind(null,m,s),null)),[l,T,t]}function j2(t,r){t.action=r}function vg(t){var r=Ut(),s=yt;if(s!==null)return yg(r,s,t);Ut(),r=r.memoizedState,s=Ut();var l=s.queue.dispatch;return s.memoizedState=t,[r,l,!1]}function Us(t,r,s,l){return t={tag:t,create:s,deps:l,inst:r,next:null},r=He.updateQueue,r===null&&(r=ch(),He.updateQueue=r),s=r.lastEffect,s===null?r.lastEffect=t.next=t:(l=s.next,s.next=t,t.next=l,r.lastEffect=t),t}function ju(){return{destroy:void 0,resource:void 0}}function _g(){return Ut().memoizedState}function Lu(t,r,s,l){var m=Cn();l=l===void 0?null:l,He.flags|=t,m.memoizedState=Us(1|r,ju(),s,l)}function Yo(t,r,s,l){var m=Ut();l=l===void 0?null:l;var T=m.memoizedState.inst;yt!==null&&l!==null&&ah(l,yt.memoizedState.deps)?m.memoizedState=Us(r,T,s,l):(He.flags|=t,m.memoizedState=Us(1|r,T,s,l))}function bg(t,r){Lu(8390656,8,t,r)}function Eg(t,r){Yo(2048,8,t,r)}function wg(t,r){return Yo(4,2,t,r)}function Tg(t,r){return Yo(4,4,t,r)}function Ag(t,r){if(typeof r=="function"){t=t();var s=r(t);return function(){typeof s=="function"?s():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function Sg(t,r,s){s=s!=null?s.concat([t]):null,Yo(4,4,Ag.bind(null,r,t),s)}function gh(){}function Rg(t,r){var s=Ut();r=r===void 0?null:r;var l=s.memoizedState;return r!==null&&ah(r,l[1])?l[0]:(s.memoizedState=[t,r],t)}function Cg(t,r){var s=Ut();r=r===void 0?null:r;var l=s.memoizedState;if(r!==null&&ah(r,l[1]))return l[0];if(l=t(),Ya){hn(!0);try{t()}finally{hn(!1)}}return s.memoizedState=[l,r],l}function yh(t,r,s){return s===void 0||(qi&1073741824)!==0?t.memoizedState=r:(t.memoizedState=s,t=Iy(),He.lanes|=t,Xi|=t,s)}function xg(t,r,s,l){return Ln(s,r)?s:js.current!==null?(t=yh(t,s,l),Ln(t,r)||(Zt=!0),t):(qi&42)===0?(Zt=!0,t.memoizedState=s):(t=Iy(),He.lanes|=t,Xi|=t,r)}function Dg(t,r,s,l,m){var T=se.p;se.p=T!==0&&8>T?T:8;var N=Q.T,P={};Q.T=P,bh(t,!1,r,s);try{var q=m(),ee=Q.S;if(ee!==null&&ee(P,q),q!==null&&typeof q=="object"&&typeof q.then=="function"){var ae=M2(q,l);Xo(t,r,ae,Bn(t))}else Xo(t,r,l,Bn(t))}catch(ue){Xo(t,r,{then:function(){},status:"rejected",reason:ue},Bn())}finally{se.p=T,Q.T=N}}function L2(){}function vh(t,r,s,l){if(t.tag!==5)throw Error(a(476));var m=Ig(t).queue;Dg(t,m,r,ye,s===null?L2:function(){return Og(t),s(l)})}function Ig(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:ye,baseState:ye,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gi,lastRenderedState:ye},next:null};var s={};return r.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gi,lastRenderedState:s},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function Og(t){var r=Ig(t).next.queue;Xo(t,r,{},Bn())}function _h(){return mn(ml)}function Mg(){return Ut().memoizedState}function Ng(){return Ut().memoizedState}function P2(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var s=Bn();t=$i(s);var l=Bi(r,t,s);l!==null&&(qn(l,r,s),Fo(l,r,s)),r={cache:Yf()},t.payload=r;return}r=r.return}}function U2(t,r,s){var l=Bn();s={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},Pu(t)?kg(r,s):(s=Uf(t,r,s,l),s!==null&&(qn(s,t,l),jg(s,r,l)))}function Vg(t,r,s){var l=Bn();Xo(t,r,s,l)}function Xo(t,r,s,l){var m={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(Pu(t))kg(r,m);else{var T=t.alternate;if(t.lanes===0&&(T===null||T.lanes===0)&&(T=r.lastRenderedReducer,T!==null))try{var N=r.lastRenderedState,P=T(N,s);if(m.hasEagerState=!0,m.eagerState=P,Ln(P,N))return Eu(t,r,m,0),Tt===null&&bu(),!1}catch{}finally{}if(s=Uf(t,r,m,l),s!==null)return qn(s,t,l),jg(s,r,l),!0}return!1}function bh(t,r,s,l){if(l={lane:2,revertLane:Wh(),action:l,hasEagerState:!1,eagerState:null,next:null},Pu(t)){if(r)throw Error(a(479))}else r=Uf(t,s,l,2),r!==null&&qn(r,t,2)}function Pu(t){var r=t.alternate;return t===He||r!==null&&r===He}function kg(t,r){Ls=Mu=!0;var s=t.pending;s===null?r.next=r:(r.next=s.next,s.next=r),t.pending=r}function jg(t,r,s){if((s&4194048)!==0){var l=r.lanes;l&=t.pendingLanes,s|=l,r.lanes=s,Dr(t,s)}}var Uu={readContext:mn,use:Vu,useCallback:Ot,useContext:Ot,useEffect:Ot,useImperativeHandle:Ot,useLayoutEffect:Ot,useInsertionEffect:Ot,useMemo:Ot,useReducer:Ot,useRef:Ot,useState:Ot,useDebugValue:Ot,useDeferredValue:Ot,useTransition:Ot,useSyncExternalStore:Ot,useId:Ot,useHostTransitionStatus:Ot,useFormState:Ot,useActionState:Ot,useOptimistic:Ot,useMemoCache:Ot,useCacheRefresh:Ot},Lg={readContext:mn,use:Vu,useCallback:function(t,r){return Cn().memoizedState=[t,r===void 0?null:r],t},useContext:mn,useEffect:bg,useImperativeHandle:function(t,r,s){s=s!=null?s.concat([t]):null,Lu(4194308,4,Ag.bind(null,r,t),s)},useLayoutEffect:function(t,r){return Lu(4194308,4,t,r)},useInsertionEffect:function(t,r){Lu(4,2,t,r)},useMemo:function(t,r){var s=Cn();r=r===void 0?null:r;var l=t();if(Ya){hn(!0);try{t()}finally{hn(!1)}}return s.memoizedState=[l,r],l},useReducer:function(t,r,s){var l=Cn();if(s!==void 0){var m=s(r);if(Ya){hn(!0);try{s(r)}finally{hn(!1)}}}else m=r;return l.memoizedState=l.baseState=m,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:m},l.queue=t,t=t.dispatch=U2.bind(null,He,t),[l.memoizedState,t]},useRef:function(t){var r=Cn();return t={current:t},r.memoizedState=t},useState:function(t){t=mh(t);var r=t.queue,s=Vg.bind(null,He,r);return r.dispatch=s,[t.memoizedState,s]},useDebugValue:gh,useDeferredValue:function(t,r){var s=Cn();return yh(s,t,r)},useTransition:function(){var t=mh(!1);return t=Dg.bind(null,He,t.queue,!0,!1),Cn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,s){var l=He,m=Cn();if(ut){if(s===void 0)throw Error(a(407));s=s()}else{if(s=r(),Tt===null)throw Error(a(349));(rt&124)!==0||ig(l,r,s)}m.memoizedState=s;var T={value:s,getSnapshot:r};return m.queue=T,bg(sg.bind(null,l,T,t),[t]),l.flags|=2048,Us(9,ju(),ag.bind(null,l,T,s,r),null),s},useId:function(){var t=Cn(),r=Tt.identifierPrefix;if(ut){var s=di,l=hi;s=(l&~(1<<32-kt(l)-1)).toString(32)+s,r=""+r+"R"+s,s=Nu++,0<s&&(r+="H"+s.toString(32)),r+=""}else s=N2++,r=""+r+"r"+s.toString(32)+"";return t.memoizedState=r},useHostTransitionStatus:_h,useFormState:pg,useActionState:pg,useOptimistic:function(t){var r=Cn();r.memoizedState=r.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=s,r=bh.bind(null,He,!0,s),s.dispatch=r,[t,r]},useMemoCache:fh,useCacheRefresh:function(){return Cn().memoizedState=P2.bind(null,He)}},Pg={readContext:mn,use:Vu,useCallback:Rg,useContext:mn,useEffect:Eg,useImperativeHandle:Sg,useInsertionEffect:wg,useLayoutEffect:Tg,useMemo:Cg,useReducer:ku,useRef:_g,useState:function(){return ku(gi)},useDebugValue:gh,useDeferredValue:function(t,r){var s=Ut();return xg(s,yt.memoizedState,t,r)},useTransition:function(){var t=ku(gi)[0],r=Ut().memoizedState;return[typeof t=="boolean"?t:Ko(t),r]},useSyncExternalStore:rg,useId:Mg,useHostTransitionStatus:_h,useFormState:gg,useActionState:gg,useOptimistic:function(t,r){var s=Ut();return ug(s,yt,t,r)},useMemoCache:fh,useCacheRefresh:Ng},z2={readContext:mn,use:Vu,useCallback:Rg,useContext:mn,useEffect:Eg,useImperativeHandle:Sg,useInsertionEffect:wg,useLayoutEffect:Tg,useMemo:Cg,useReducer:dh,useRef:_g,useState:function(){return dh(gi)},useDebugValue:gh,useDeferredValue:function(t,r){var s=Ut();return yt===null?yh(s,t,r):xg(s,yt.memoizedState,t,r)},useTransition:function(){var t=dh(gi)[0],r=Ut().memoizedState;return[typeof t=="boolean"?t:Ko(t),r]},useSyncExternalStore:rg,useId:Mg,useHostTransitionStatus:_h,useFormState:vg,useActionState:vg,useOptimistic:function(t,r){var s=Ut();return yt!==null?ug(s,yt,t,r):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:fh,useCacheRefresh:Ng},zs=null,Zo=0;function zu(t){var r=Zo;return Zo+=1,zs===null&&(zs=[]),Yp(zs,t,r)}function Wo(t,r){r=r.props.ref,t.ref=r!==void 0?r:null}function $u(t,r){throw r.$$typeof===d?Error(a(525)):(t=Object.prototype.toString.call(r),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function Ug(t){var r=t._init;return r(t._payload)}function zg(t){function r(K,G){if(t){var Z=K.deletions;Z===null?(K.deletions=[G],K.flags|=16):Z.push(G)}}function s(K,G){if(!t)return null;for(;G!==null;)r(K,G),G=G.sibling;return null}function l(K){for(var G=new Map;K!==null;)K.key!==null?G.set(K.key,K):G.set(K.index,K),K=K.sibling;return G}function m(K,G){return K=fi(K,G),K.index=0,K.sibling=null,K}function T(K,G,Z){return K.index=Z,t?(Z=K.alternate,Z!==null?(Z=Z.index,Z<G?(K.flags|=67108866,G):Z):(K.flags|=67108866,G)):(K.flags|=1048576,G)}function N(K){return t&&K.alternate===null&&(K.flags|=67108866),K}function P(K,G,Z,oe){return G===null||G.tag!==6?(G=$f(Z,K.mode,oe),G.return=K,G):(G=m(G,Z),G.return=K,G)}function q(K,G,Z,oe){var Te=Z.type;return Te===v?ae(K,G,Z.props.children,oe,Z.key):G!==null&&(G.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===A&&Ug(Te)===G.type)?(G=m(G,Z.props),Wo(G,Z),G.return=K,G):(G=Tu(Z.type,Z.key,Z.props,null,K.mode,oe),Wo(G,Z),G.return=K,G)}function ee(K,G,Z,oe){return G===null||G.tag!==4||G.stateNode.containerInfo!==Z.containerInfo||G.stateNode.implementation!==Z.implementation?(G=Bf(Z,K.mode,oe),G.return=K,G):(G=m(G,Z.children||[]),G.return=K,G)}function ae(K,G,Z,oe,Te){return G===null||G.tag!==7?(G=$a(Z,K.mode,oe,Te),G.return=K,G):(G=m(G,Z),G.return=K,G)}function ue(K,G,Z){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return G=$f(""+G,K.mode,Z),G.return=K,G;if(typeof G=="object"&&G!==null){switch(G.$$typeof){case y:return Z=Tu(G.type,G.key,G.props,null,K.mode,Z),Wo(Z,G),Z.return=K,Z;case _:return G=Bf(G,K.mode,Z),G.return=K,G;case A:var oe=G._init;return G=oe(G._payload),ue(K,G,Z)}if(pe(G)||$(G))return G=$a(G,K.mode,Z,null),G.return=K,G;if(typeof G.then=="function")return ue(K,zu(G),Z);if(G.$$typeof===D)return ue(K,Cu(K,G),Z);$u(K,G)}return null}function te(K,G,Z,oe){var Te=G!==null?G.key:null;if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return Te!==null?null:P(K,G,""+Z,oe);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case y:return Z.key===Te?q(K,G,Z,oe):null;case _:return Z.key===Te?ee(K,G,Z,oe):null;case A:return Te=Z._init,Z=Te(Z._payload),te(K,G,Z,oe)}if(pe(Z)||$(Z))return Te!==null?null:ae(K,G,Z,oe,null);if(typeof Z.then=="function")return te(K,G,zu(Z),oe);if(Z.$$typeof===D)return te(K,G,Cu(K,Z),oe);$u(K,Z)}return null}function ne(K,G,Z,oe,Te){if(typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint")return K=K.get(Z)||null,P(G,K,""+oe,Te);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case y:return K=K.get(oe.key===null?Z:oe.key)||null,q(G,K,oe,Te);case _:return K=K.get(oe.key===null?Z:oe.key)||null,ee(G,K,oe,Te);case A:var Ke=oe._init;return oe=Ke(oe._payload),ne(K,G,Z,oe,Te)}if(pe(oe)||$(oe))return K=K.get(Z)||null,ae(G,K,oe,Te,null);if(typeof oe.then=="function")return ne(K,G,Z,zu(oe),Te);if(oe.$$typeof===D)return ne(K,G,Z,Cu(G,oe),Te);$u(G,oe)}return null}function Ue(K,G,Z,oe){for(var Te=null,Ke=null,Ie=G,je=G=0,Jt=null;Ie!==null&&je<Z.length;je++){Ie.index>je?(Jt=Ie,Ie=null):Jt=Ie.sibling;var ot=te(K,Ie,Z[je],oe);if(ot===null){Ie===null&&(Ie=Jt);break}t&&Ie&&ot.alternate===null&&r(K,Ie),G=T(ot,G,je),Ke===null?Te=ot:Ke.sibling=ot,Ke=ot,Ie=Jt}if(je===Z.length)return s(K,Ie),ut&&qa(K,je),Te;if(Ie===null){for(;je<Z.length;je++)Ie=ue(K,Z[je],oe),Ie!==null&&(G=T(Ie,G,je),Ke===null?Te=Ie:Ke.sibling=Ie,Ke=Ie);return ut&&qa(K,je),Te}for(Ie=l(Ie);je<Z.length;je++)Jt=ne(Ie,K,je,Z[je],oe),Jt!==null&&(t&&Jt.alternate!==null&&Ie.delete(Jt.key===null?je:Jt.key),G=T(Jt,G,je),Ke===null?Te=Jt:Ke.sibling=Jt,Ke=Jt);return t&&Ie.forEach(function(aa){return r(K,aa)}),ut&&qa(K,je),Te}function Ve(K,G,Z,oe){if(Z==null)throw Error(a(151));for(var Te=null,Ke=null,Ie=G,je=G=0,Jt=null,ot=Z.next();Ie!==null&&!ot.done;je++,ot=Z.next()){Ie.index>je?(Jt=Ie,Ie=null):Jt=Ie.sibling;var aa=te(K,Ie,ot.value,oe);if(aa===null){Ie===null&&(Ie=Jt);break}t&&Ie&&aa.alternate===null&&r(K,Ie),G=T(aa,G,je),Ke===null?Te=aa:Ke.sibling=aa,Ke=aa,Ie=Jt}if(ot.done)return s(K,Ie),ut&&qa(K,je),Te;if(Ie===null){for(;!ot.done;je++,ot=Z.next())ot=ue(K,ot.value,oe),ot!==null&&(G=T(ot,G,je),Ke===null?Te=ot:Ke.sibling=ot,Ke=ot);return ut&&qa(K,je),Te}for(Ie=l(Ie);!ot.done;je++,ot=Z.next())ot=ne(Ie,K,je,ot.value,oe),ot!==null&&(t&&ot.alternate!==null&&Ie.delete(ot.key===null?je:ot.key),G=T(ot,G,je),Ke===null?Te=ot:Ke.sibling=ot,Ke=ot);return t&&Ie.forEach(function($E){return r(K,$E)}),ut&&qa(K,je),Te}function _t(K,G,Z,oe){if(typeof Z=="object"&&Z!==null&&Z.type===v&&Z.key===null&&(Z=Z.props.children),typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case y:e:{for(var Te=Z.key;G!==null;){if(G.key===Te){if(Te=Z.type,Te===v){if(G.tag===7){s(K,G.sibling),oe=m(G,Z.props.children),oe.return=K,K=oe;break e}}else if(G.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===A&&Ug(Te)===G.type){s(K,G.sibling),oe=m(G,Z.props),Wo(oe,Z),oe.return=K,K=oe;break e}s(K,G);break}else r(K,G);G=G.sibling}Z.type===v?(oe=$a(Z.props.children,K.mode,oe,Z.key),oe.return=K,K=oe):(oe=Tu(Z.type,Z.key,Z.props,null,K.mode,oe),Wo(oe,Z),oe.return=K,K=oe)}return N(K);case _:e:{for(Te=Z.key;G!==null;){if(G.key===Te)if(G.tag===4&&G.stateNode.containerInfo===Z.containerInfo&&G.stateNode.implementation===Z.implementation){s(K,G.sibling),oe=m(G,Z.children||[]),oe.return=K,K=oe;break e}else{s(K,G);break}else r(K,G);G=G.sibling}oe=Bf(Z,K.mode,oe),oe.return=K,K=oe}return N(K);case A:return Te=Z._init,Z=Te(Z._payload),_t(K,G,Z,oe)}if(pe(Z))return Ue(K,G,Z,oe);if($(Z)){if(Te=$(Z),typeof Te!="function")throw Error(a(150));return Z=Te.call(Z),Ve(K,G,Z,oe)}if(typeof Z.then=="function")return _t(K,G,zu(Z),oe);if(Z.$$typeof===D)return _t(K,G,Cu(K,Z),oe);$u(K,Z)}return typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint"?(Z=""+Z,G!==null&&G.tag===6?(s(K,G.sibling),oe=m(G,Z),oe.return=K,K=oe):(s(K,G),oe=$f(Z,K.mode,oe),oe.return=K,K=oe),N(K)):s(K,G)}return function(K,G,Z,oe){try{Zo=0;var Te=_t(K,G,Z,oe);return zs=null,Te}catch(Ie){if(Ie===Bo||Ie===Du)throw Ie;var Ke=Pn(29,Ie,null,K.mode);return Ke.lanes=oe,Ke.return=K,Ke}finally{}}}var $s=zg(!0),$g=zg(!1),fr=re(null),$r=null;function Fi(t){var r=t.alternate;ce(Gt,Gt.current&1),ce(fr,t),$r===null&&(r===null||js.current!==null||r.memoizedState!==null)&&($r=t)}function Bg(t){if(t.tag===22){if(ce(Gt,Gt.current),ce(fr,t),$r===null){var r=t.alternate;r!==null&&r.memoizedState!==null&&($r=t)}}else Hi()}function Hi(){ce(Gt,Gt.current),ce(fr,fr.current)}function yi(t){me(fr),$r===t&&($r=null),me(Gt)}var Gt=re(0);function Bu(t){for(var r=t;r!==null;){if(r.tag===13){var s=r.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||cd(s)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function Eh(t,r,s,l){r=t.memoizedState,s=s(l,r),s=s==null?r:E({},r,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var wh={enqueueSetState:function(t,r,s){t=t._reactInternals;var l=Bn(),m=$i(l);m.payload=r,s!=null&&(m.callback=s),r=Bi(t,m,l),r!==null&&(qn(r,t,l),Fo(r,t,l))},enqueueReplaceState:function(t,r,s){t=t._reactInternals;var l=Bn(),m=$i(l);m.tag=1,m.payload=r,s!=null&&(m.callback=s),r=Bi(t,m,l),r!==null&&(qn(r,t,l),Fo(r,t,l))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var s=Bn(),l=$i(s);l.tag=2,r!=null&&(l.callback=r),r=Bi(t,l,s),r!==null&&(qn(r,t,s),Fo(r,t,s))}};function qg(t,r,s,l,m,T,N){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,T,N):r.prototype&&r.prototype.isPureReactComponent?!Vo(s,l)||!Vo(m,T):!0}function Fg(t,r,s,l){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(s,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(s,l),r.state!==t&&wh.enqueueReplaceState(r,r.state,null)}function Xa(t,r){var s=r;if("ref"in r){s={};for(var l in r)l!=="ref"&&(s[l]=r[l])}if(t=t.defaultProps){s===r&&(s=E({},s));for(var m in t)s[m]===void 0&&(s[m]=t[m])}return s}var qu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Hg(t){qu(t)}function Gg(t){console.error(t)}function Qg(t){qu(t)}function Fu(t,r){try{var s=t.onUncaughtError;s(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function Kg(t,r,s){try{var l=t.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function Th(t,r,s){return s=$i(s),s.tag=3,s.payload={element:null},s.callback=function(){Fu(t,r)},s}function Yg(t){return t=$i(t),t.tag=3,t}function Xg(t,r,s,l){var m=s.type.getDerivedStateFromError;if(typeof m=="function"){var T=l.value;t.payload=function(){return m(T)},t.callback=function(){Kg(r,s,l)}}var N=s.stateNode;N!==null&&typeof N.componentDidCatch=="function"&&(t.callback=function(){Kg(r,s,l),typeof m!="function"&&(Zi===null?Zi=new Set([this]):Zi.add(this));var P=l.stack;this.componentDidCatch(l.value,{componentStack:P!==null?P:""})})}function $2(t,r,s,l,m){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=s.alternate,r!==null&&Uo(r,s,m,!0),s=fr.current,s!==null){switch(s.tag){case 13:return $r===null?Qh():s.alternate===null&&It===0&&(It=3),s.flags&=-257,s.flags|=65536,s.lanes=m,l===Wf?s.flags|=16384:(r=s.updateQueue,r===null?s.updateQueue=new Set([l]):r.add(l),Yh(t,l,m)),!1;case 22:return s.flags|=65536,l===Wf?s.flags|=16384:(r=s.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=r):(s=r.retryQueue,s===null?r.retryQueue=new Set([l]):s.add(l)),Yh(t,l,m)),!1}throw Error(a(435,s.tag))}return Yh(t,l,m),Qh(),!1}if(ut)return r=fr.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=m,l!==Hf&&(t=Error(a(422),{cause:l}),Po(or(t,s)))):(l!==Hf&&(r=Error(a(423),{cause:l}),Po(or(r,s))),t=t.current.alternate,t.flags|=65536,m&=-m,t.lanes|=m,l=or(l,s),m=Th(t.stateNode,l,m),th(t,m),It!==4&&(It=2)),!1;var T=Error(a(520),{cause:l});if(T=or(T,s),al===null?al=[T]:al.push(T),It!==4&&(It=2),r===null)return!0;l=or(l,s),s=r;do{switch(s.tag){case 3:return s.flags|=65536,t=m&-m,s.lanes|=t,t=Th(s.stateNode,l,t),th(s,t),!1;case 1:if(r=s.type,T=s.stateNode,(s.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(Zi===null||!Zi.has(T))))return s.flags|=65536,m&=-m,s.lanes|=m,m=Yg(m),Xg(m,t,s,l),th(s,m),!1}s=s.return}while(s!==null);return!1}var Zg=Error(a(461)),Zt=!1;function an(t,r,s,l){r.child=t===null?$g(r,null,s,l):$s(r,t.child,s,l)}function Wg(t,r,s,l,m){s=s.render;var T=r.ref;if("ref"in l){var N={};for(var P in l)P!=="ref"&&(N[P]=l[P])}else N=l;return Qa(r),l=sh(t,r,s,N,T,m),P=oh(),t!==null&&!Zt?(lh(t,r,m),vi(t,r,m)):(ut&&P&&qf(r),r.flags|=1,an(t,r,l,m),r.child)}function Jg(t,r,s,l,m){if(t===null){var T=s.type;return typeof T=="function"&&!zf(T)&&T.defaultProps===void 0&&s.compare===null?(r.tag=15,r.type=T,ey(t,r,T,l,m)):(t=Tu(s.type,null,l,r,r.mode,m),t.ref=r.ref,t.return=r,r.child=t)}if(T=t.child,!Oh(t,m)){var N=T.memoizedProps;if(s=s.compare,s=s!==null?s:Vo,s(N,l)&&t.ref===r.ref)return vi(t,r,m)}return r.flags|=1,t=fi(T,l),t.ref=r.ref,t.return=r,r.child=t}function ey(t,r,s,l,m){if(t!==null){var T=t.memoizedProps;if(Vo(T,l)&&t.ref===r.ref)if(Zt=!1,r.pendingProps=l=T,Oh(t,m))(t.flags&131072)!==0&&(Zt=!0);else return r.lanes=t.lanes,vi(t,r,m)}return Ah(t,r,s,l,m)}function ty(t,r,s){var l=r.pendingProps,m=l.children,T=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((r.flags&128)!==0){if(l=T!==null?T.baseLanes|s:s,t!==null){for(m=r.child=t.child,T=0;m!==null;)T=T|m.lanes|m.childLanes,m=m.sibling;r.childLanes=T&~l}else r.childLanes=0,r.child=null;return ny(t,r,l,s)}if((s&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&xu(r,T!==null?T.cachePool:null),T!==null?eg(r,T):rh(),Bg(r);else return r.lanes=r.childLanes=536870912,ny(t,r,T!==null?T.baseLanes|s:s,s)}else T!==null?(xu(r,T.cachePool),eg(r,T),Hi(),r.memoizedState=null):(t!==null&&xu(r,null),rh(),Hi());return an(t,r,m,s),r.child}function ny(t,r,s,l){var m=Zf();return m=m===null?null:{parent:Ht._currentValue,pool:m},r.memoizedState={baseLanes:s,cachePool:m},t!==null&&xu(r,null),rh(),Bg(r),t!==null&&Uo(t,r,l,!0),null}function Hu(t,r){var s=r.ref;if(s===null)t!==null&&t.ref!==null&&(r.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(t===null||t.ref!==s)&&(r.flags|=4194816)}}function Ah(t,r,s,l,m){return Qa(r),s=sh(t,r,s,l,void 0,m),l=oh(),t!==null&&!Zt?(lh(t,r,m),vi(t,r,m)):(ut&&l&&qf(r),r.flags|=1,an(t,r,s,m),r.child)}function ry(t,r,s,l,m,T){return Qa(r),r.updateQueue=null,s=ng(r,l,s,m),tg(t),l=oh(),t!==null&&!Zt?(lh(t,r,T),vi(t,r,T)):(ut&&l&&qf(r),r.flags|=1,an(t,r,s,T),r.child)}function iy(t,r,s,l,m){if(Qa(r),r.stateNode===null){var T=Os,N=s.contextType;typeof N=="object"&&N!==null&&(T=mn(N)),T=new s(l,T),r.memoizedState=T.state!==null&&T.state!==void 0?T.state:null,T.updater=wh,r.stateNode=T,T._reactInternals=r,T=r.stateNode,T.props=l,T.state=r.memoizedState,T.refs={},Jf(r),N=s.contextType,T.context=typeof N=="object"&&N!==null?mn(N):Os,T.state=r.memoizedState,N=s.getDerivedStateFromProps,typeof N=="function"&&(Eh(r,s,N,l),T.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof T.getSnapshotBeforeUpdate=="function"||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(N=T.state,typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount(),N!==T.state&&wh.enqueueReplaceState(T,T.state,null),Go(r,l,T,m),Ho(),T.state=r.memoizedState),typeof T.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(t===null){T=r.stateNode;var P=r.memoizedProps,q=Xa(s,P);T.props=q;var ee=T.context,ae=s.contextType;N=Os,typeof ae=="object"&&ae!==null&&(N=mn(ae));var ue=s.getDerivedStateFromProps;ae=typeof ue=="function"||typeof T.getSnapshotBeforeUpdate=="function",P=r.pendingProps!==P,ae||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(P||ee!==N)&&Fg(r,T,l,N),zi=!1;var te=r.memoizedState;T.state=te,Go(r,l,T,m),Ho(),ee=r.memoizedState,P||te!==ee||zi?(typeof ue=="function"&&(Eh(r,s,ue,l),ee=r.memoizedState),(q=zi||qg(r,s,q,l,te,ee,N))?(ae||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(r.flags|=4194308)):(typeof T.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=ee),T.props=l,T.state=ee,T.context=N,l=q):(typeof T.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{T=r.stateNode,eh(t,r),N=r.memoizedProps,ae=Xa(s,N),T.props=ae,ue=r.pendingProps,te=T.context,ee=s.contextType,q=Os,typeof ee=="object"&&ee!==null&&(q=mn(ee)),P=s.getDerivedStateFromProps,(ee=typeof P=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(N!==ue||te!==q)&&Fg(r,T,l,q),zi=!1,te=r.memoizedState,T.state=te,Go(r,l,T,m),Ho();var ne=r.memoizedState;N!==ue||te!==ne||zi||t!==null&&t.dependencies!==null&&Ru(t.dependencies)?(typeof P=="function"&&(Eh(r,s,P,l),ne=r.memoizedState),(ae=zi||qg(r,s,ae,l,te,ne,q)||t!==null&&t.dependencies!==null&&Ru(t.dependencies))?(ee||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(l,ne,q),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(l,ne,q)),typeof T.componentDidUpdate=="function"&&(r.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof T.componentDidUpdate!="function"||N===t.memoizedProps&&te===t.memoizedState||(r.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||N===t.memoizedProps&&te===t.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=ne),T.props=l,T.state=ne,T.context=q,l=ae):(typeof T.componentDidUpdate!="function"||N===t.memoizedProps&&te===t.memoizedState||(r.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||N===t.memoizedProps&&te===t.memoizedState||(r.flags|=1024),l=!1)}return T=l,Hu(t,r),l=(r.flags&128)!==0,T||l?(T=r.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:T.render(),r.flags|=1,t!==null&&l?(r.child=$s(r,t.child,null,m),r.child=$s(r,null,s,m)):an(t,r,s,m),r.memoizedState=T.state,t=r.child):t=vi(t,r,m),t}function ay(t,r,s,l){return Lo(),r.flags|=256,an(t,r,s,l),r.child}var Sh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Rh(t){return{baseLanes:t,cachePool:Gp()}}function Ch(t,r,s){return t=t!==null?t.childLanes&~s:0,r&&(t|=hr),t}function sy(t,r,s){var l=r.pendingProps,m=!1,T=(r.flags&128)!==0,N;if((N=T)||(N=t!==null&&t.memoizedState===null?!1:(Gt.current&2)!==0),N&&(m=!0,r.flags&=-129),N=(r.flags&32)!==0,r.flags&=-33,t===null){if(ut){if(m?Fi(r):Hi(),ut){var P=Dt,q;if(q=P){e:{for(q=P,P=zr;q.nodeType!==8;){if(!P){P=null;break e}if(q=Er(q.nextSibling),q===null){P=null;break e}}P=q}P!==null?(r.memoizedState={dehydrated:P,treeContext:Ba!==null?{id:hi,overflow:di}:null,retryLane:536870912,hydrationErrors:null},q=Pn(18,null,null,0),q.stateNode=P,q.return=r,r.child=q,Sn=r,Dt=null,q=!0):q=!1}q||Ha(r)}if(P=r.memoizedState,P!==null&&(P=P.dehydrated,P!==null))return cd(P)?r.lanes=32:r.lanes=536870912,null;yi(r)}return P=l.children,l=l.fallback,m?(Hi(),m=r.mode,P=Gu({mode:"hidden",children:P},m),l=$a(l,m,s,null),P.return=r,l.return=r,P.sibling=l,r.child=P,m=r.child,m.memoizedState=Rh(s),m.childLanes=Ch(t,N,s),r.memoizedState=Sh,l):(Fi(r),xh(r,P))}if(q=t.memoizedState,q!==null&&(P=q.dehydrated,P!==null)){if(T)r.flags&256?(Fi(r),r.flags&=-257,r=Dh(t,r,s)):r.memoizedState!==null?(Hi(),r.child=t.child,r.flags|=128,r=null):(Hi(),m=l.fallback,P=r.mode,l=Gu({mode:"visible",children:l.children},P),m=$a(m,P,s,null),m.flags|=2,l.return=r,m.return=r,l.sibling=m,r.child=l,$s(r,t.child,null,s),l=r.child,l.memoizedState=Rh(s),l.childLanes=Ch(t,N,s),r.memoizedState=Sh,r=m);else if(Fi(r),cd(P)){if(N=P.nextSibling&&P.nextSibling.dataset,N)var ee=N.dgst;N=ee,l=Error(a(419)),l.stack="",l.digest=N,Po({value:l,source:null,stack:null}),r=Dh(t,r,s)}else if(Zt||Uo(t,r,s,!1),N=(s&t.childLanes)!==0,Zt||N){if(N=Tt,N!==null&&(l=s&-s,l=(l&42)!==0?1:Ir(l),l=(l&(N.suspendedLanes|s))!==0?0:l,l!==0&&l!==q.retryLane))throw q.retryLane=l,Is(t,l),qn(N,t,l),Zg;P.data==="$?"||Qh(),r=Dh(t,r,s)}else P.data==="$?"?(r.flags|=192,r.child=t.child,r=null):(t=q.treeContext,Dt=Er(P.nextSibling),Sn=r,ut=!0,Fa=null,zr=!1,t!==null&&(ur[cr++]=hi,ur[cr++]=di,ur[cr++]=Ba,hi=t.id,di=t.overflow,Ba=r),r=xh(r,l.children),r.flags|=4096);return r}return m?(Hi(),m=l.fallback,P=r.mode,q=t.child,ee=q.sibling,l=fi(q,{mode:"hidden",children:l.children}),l.subtreeFlags=q.subtreeFlags&65011712,ee!==null?m=fi(ee,m):(m=$a(m,P,s,null),m.flags|=2),m.return=r,l.return=r,l.sibling=m,r.child=l,l=m,m=r.child,P=t.child.memoizedState,P===null?P=Rh(s):(q=P.cachePool,q!==null?(ee=Ht._currentValue,q=q.parent!==ee?{parent:ee,pool:ee}:q):q=Gp(),P={baseLanes:P.baseLanes|s,cachePool:q}),m.memoizedState=P,m.childLanes=Ch(t,N,s),r.memoizedState=Sh,l):(Fi(r),s=t.child,t=s.sibling,s=fi(s,{mode:"visible",children:l.children}),s.return=r,s.sibling=null,t!==null&&(N=r.deletions,N===null?(r.deletions=[t],r.flags|=16):N.push(t)),r.child=s,r.memoizedState=null,s)}function xh(t,r){return r=Gu({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function Gu(t,r){return t=Pn(22,t,null,r),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Dh(t,r,s){return $s(r,t.child,null,s),t=xh(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function oy(t,r,s){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r),Qf(t.return,r,s)}function Ih(t,r,s,l,m){var T=t.memoizedState;T===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:m}:(T.isBackwards=r,T.rendering=null,T.renderingStartTime=0,T.last=l,T.tail=s,T.tailMode=m)}function ly(t,r,s){var l=r.pendingProps,m=l.revealOrder,T=l.tail;if(an(t,r,l.children,s),l=Gt.current,(l&2)!==0)l=l&1|2,r.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&oy(t,s,r);else if(t.tag===19)oy(t,s,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(ce(Gt,l),m){case"forwards":for(s=r.child,m=null;s!==null;)t=s.alternate,t!==null&&Bu(t)===null&&(m=s),s=s.sibling;s=m,s===null?(m=r.child,r.child=null):(m=s.sibling,s.sibling=null),Ih(r,!1,m,s,T);break;case"backwards":for(s=null,m=r.child,r.child=null;m!==null;){if(t=m.alternate,t!==null&&Bu(t)===null){r.child=m;break}t=m.sibling,m.sibling=s,s=m,m=t}Ih(r,!0,s,null,T);break;case"together":Ih(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function vi(t,r,s){if(t!==null&&(r.dependencies=t.dependencies),Xi|=r.lanes,(s&r.childLanes)===0)if(t!==null){if(Uo(t,r,s,!1),(s&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(a(153));if(r.child!==null){for(t=r.child,s=fi(t,t.pendingProps),r.child=s,s.return=r;t.sibling!==null;)t=t.sibling,s=s.sibling=fi(t,t.pendingProps),s.return=r;s.sibling=null}return r.child}function Oh(t,r){return(t.lanes&r)!==0?!0:(t=t.dependencies,!!(t!==null&&Ru(t)))}function B2(t,r,s){switch(r.tag){case 3:pt(r,r.stateNode.containerInfo),Ui(r,Ht,t.memoizedState.cache),Lo();break;case 27:case 5:St(r);break;case 4:pt(r,r.stateNode.containerInfo);break;case 10:Ui(r,r.type,r.memoizedProps.value);break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(Fi(r),r.flags|=128,null):(s&r.child.childLanes)!==0?sy(t,r,s):(Fi(r),t=vi(t,r,s),t!==null?t.sibling:null);Fi(r);break;case 19:var m=(t.flags&128)!==0;if(l=(s&r.childLanes)!==0,l||(Uo(t,r,s,!1),l=(s&r.childLanes)!==0),m){if(l)return ly(t,r,s);r.flags|=128}if(m=r.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),ce(Gt,Gt.current),l)break;return null;case 22:case 23:return r.lanes=0,ty(t,r,s);case 24:Ui(r,Ht,t.memoizedState.cache)}return vi(t,r,s)}function uy(t,r,s){if(t!==null)if(t.memoizedProps!==r.pendingProps)Zt=!0;else{if(!Oh(t,s)&&(r.flags&128)===0)return Zt=!1,B2(t,r,s);Zt=(t.flags&131072)!==0}else Zt=!1,ut&&(r.flags&1048576)!==0&&Up(r,Su,r.index);switch(r.lanes=0,r.tag){case 16:e:{t=r.pendingProps;var l=r.elementType,m=l._init;if(l=m(l._payload),r.type=l,typeof l=="function")zf(l)?(t=Xa(l,t),r.tag=1,r=iy(null,r,l,t,s)):(r.tag=0,r=Ah(null,r,l,t,s));else{if(l!=null){if(m=l.$$typeof,m===V){r.tag=11,r=Wg(null,r,l,t,s);break e}else if(m===O){r.tag=14,r=Jg(null,r,l,t,s);break e}}throw r=de(l)||l,Error(a(306,r,""))}}return r;case 0:return Ah(t,r,r.type,r.pendingProps,s);case 1:return l=r.type,m=Xa(l,r.pendingProps),iy(t,r,l,m,s);case 3:e:{if(pt(r,r.stateNode.containerInfo),t===null)throw Error(a(387));l=r.pendingProps;var T=r.memoizedState;m=T.element,eh(t,r),Go(r,l,null,s);var N=r.memoizedState;if(l=N.cache,Ui(r,Ht,l),l!==T.cache&&Kf(r,[Ht],s,!0),Ho(),l=N.element,T.isDehydrated)if(T={element:l,isDehydrated:!1,cache:N.cache},r.updateQueue.baseState=T,r.memoizedState=T,r.flags&256){r=ay(t,r,l,s);break e}else if(l!==m){m=or(Error(a(424)),r),Po(m),r=ay(t,r,l,s);break e}else{switch(t=r.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Dt=Er(t.firstChild),Sn=r,ut=!0,Fa=null,zr=!0,s=$g(r,null,l,s),r.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(Lo(),l===m){r=vi(t,r,s);break e}an(t,r,l,s)}r=r.child}return r;case 26:return Hu(t,r),t===null?(s=dv(r.type,null,r.pendingProps,null))?r.memoizedState=s:ut||(s=r.type,t=r.pendingProps,l=sc(xe.current).createElement(s),l[le]=r,l[ge]=t,on(l,s,t),et(l),r.stateNode=l):r.memoizedState=dv(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return St(r),t===null&&ut&&(l=r.stateNode=cv(r.type,r.pendingProps,xe.current),Sn=r,zr=!0,m=Dt,ea(r.type)?(fd=m,Dt=Er(l.firstChild)):Dt=m),an(t,r,r.pendingProps.children,s),Hu(t,r),t===null&&(r.flags|=4194304),r.child;case 5:return t===null&&ut&&((m=l=Dt)&&(l=gE(l,r.type,r.pendingProps,zr),l!==null?(r.stateNode=l,Sn=r,Dt=Er(l.firstChild),zr=!1,m=!0):m=!1),m||Ha(r)),St(r),m=r.type,T=r.pendingProps,N=t!==null?t.memoizedProps:null,l=T.children,od(m,T)?l=null:N!==null&&od(m,N)&&(r.flags|=32),r.memoizedState!==null&&(m=sh(t,r,V2,null,null,s),ml._currentValue=m),Hu(t,r),an(t,r,l,s),r.child;case 6:return t===null&&ut&&((t=s=Dt)&&(s=yE(s,r.pendingProps,zr),s!==null?(r.stateNode=s,Sn=r,Dt=null,t=!0):t=!1),t||Ha(r)),null;case 13:return sy(t,r,s);case 4:return pt(r,r.stateNode.containerInfo),l=r.pendingProps,t===null?r.child=$s(r,null,l,s):an(t,r,l,s),r.child;case 11:return Wg(t,r,r.type,r.pendingProps,s);case 7:return an(t,r,r.pendingProps,s),r.child;case 8:return an(t,r,r.pendingProps.children,s),r.child;case 12:return an(t,r,r.pendingProps.children,s),r.child;case 10:return l=r.pendingProps,Ui(r,r.type,l.value),an(t,r,l.children,s),r.child;case 9:return m=r.type._context,l=r.pendingProps.children,Qa(r),m=mn(m),l=l(m),r.flags|=1,an(t,r,l,s),r.child;case 14:return Jg(t,r,r.type,r.pendingProps,s);case 15:return ey(t,r,r.type,r.pendingProps,s);case 19:return ly(t,r,s);case 31:return l=r.pendingProps,s=r.mode,l={mode:l.mode,children:l.children},t===null?(s=Gu(l,s),s.ref=r.ref,r.child=s,s.return=r,r=s):(s=fi(t.child,l),s.ref=r.ref,r.child=s,s.return=r,r=s),r;case 22:return ty(t,r,s);case 24:return Qa(r),l=mn(Ht),t===null?(m=Zf(),m===null&&(m=Tt,T=Yf(),m.pooledCache=T,T.refCount++,T!==null&&(m.pooledCacheLanes|=s),m=T),r.memoizedState={parent:l,cache:m},Jf(r),Ui(r,Ht,m)):((t.lanes&s)!==0&&(eh(t,r),Go(r,null,null,s),Ho()),m=t.memoizedState,T=r.memoizedState,m.parent!==l?(m={parent:l,cache:l},r.memoizedState=m,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=m),Ui(r,Ht,l)):(l=T.cache,Ui(r,Ht,l),l!==m.cache&&Kf(r,[Ht],s,!0))),an(t,r,r.pendingProps.children,s),r.child;case 29:throw r.pendingProps}throw Error(a(156,r.tag))}function _i(t){t.flags|=4}function cy(t,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!vv(r)){if(r=fr.current,r!==null&&((rt&4194048)===rt?$r!==null:(rt&62914560)!==rt&&(rt&536870912)===0||r!==$r))throw qo=Wf,Qp;t.flags|=8192}}function Qu(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag!==22?Ca():536870912,t.lanes|=r,Hs|=r)}function Jo(t,r){if(!ut)switch(t.tailMode){case"hidden":r=t.tail;for(var s=null;r!==null;)r.alternate!==null&&(s=r),r=r.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function Ct(t){var r=t.alternate!==null&&t.alternate.child===t.child,s=0,l=0;if(r)for(var m=t.child;m!==null;)s|=m.lanes|m.childLanes,l|=m.subtreeFlags&65011712,l|=m.flags&65011712,m.return=t,m=m.sibling;else for(m=t.child;m!==null;)s|=m.lanes|m.childLanes,l|=m.subtreeFlags,l|=m.flags,m.return=t,m=m.sibling;return t.subtreeFlags|=l,t.childLanes=s,r}function q2(t,r,s){var l=r.pendingProps;switch(Ff(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ct(r),null;case 1:return Ct(r),null;case 3:return s=r.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),pi(Ht),Xn(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(jo(r)?_i(r):t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Bp())),Ct(r),null;case 26:return s=r.memoizedState,t===null?(_i(r),s!==null?(Ct(r),cy(r,s)):(Ct(r),r.flags&=-16777217)):s?s!==t.memoizedState?(_i(r),Ct(r),cy(r,s)):(Ct(r),r.flags&=-16777217):(t.memoizedProps!==l&&_i(r),Ct(r),r.flags&=-16777217),null;case 27:fn(r),s=xe.current;var m=r.type;if(t!==null&&r.stateNode!=null)t.memoizedProps!==l&&_i(r);else{if(!l){if(r.stateNode===null)throw Error(a(166));return Ct(r),null}t=_e.current,jo(r)?zp(r):(t=cv(m,l,s),r.stateNode=t,_i(r))}return Ct(r),null;case 5:if(fn(r),s=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&_i(r);else{if(!l){if(r.stateNode===null)throw Error(a(166));return Ct(r),null}if(t=_e.current,jo(r))zp(r);else{switch(m=sc(xe.current),t){case 1:t=m.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:t=m.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":t=m.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":t=m.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":t=m.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?m.createElement("select",{is:l.is}):m.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?m.createElement(s,{is:l.is}):m.createElement(s)}}t[le]=r,t[ge]=l;e:for(m=r.child;m!==null;){if(m.tag===5||m.tag===6)t.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===r)break e;for(;m.sibling===null;){if(m.return===null||m.return===r)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}r.stateNode=t;e:switch(on(t,s,l),s){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&_i(r)}}return Ct(r),r.flags&=-16777217,null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==l&&_i(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(a(166));if(t=xe.current,jo(r)){if(t=r.stateNode,s=r.memoizedProps,l=null,m=Sn,m!==null)switch(m.tag){case 27:case 5:l=m.memoizedProps}t[le]=r,t=!!(t.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||rv(t.nodeValue,s)),t||Ha(r)}else t=sc(t).createTextNode(l),t[le]=r,r.stateNode=t}return Ct(r),null;case 13:if(l=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(m=jo(r),l!==null&&l.dehydrated!==null){if(t===null){if(!m)throw Error(a(318));if(m=r.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(a(317));m[le]=r}else Lo(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Ct(r),m=!1}else m=Bp(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=m),m=!0;if(!m)return r.flags&256?(yi(r),r):(yi(r),null)}if(yi(r),(r.flags&128)!==0)return r.lanes=s,r;if(s=l!==null,t=t!==null&&t.memoizedState!==null,s){l=r.child,m=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(m=l.alternate.memoizedState.cachePool.pool);var T=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(T=l.memoizedState.cachePool.pool),T!==m&&(l.flags|=2048)}return s!==t&&s&&(r.child.flags|=8192),Qu(r,r.updateQueue),Ct(r),null;case 4:return Xn(),t===null&&nd(r.stateNode.containerInfo),Ct(r),null;case 10:return pi(r.type),Ct(r),null;case 19:if(me(Gt),m=r.memoizedState,m===null)return Ct(r),null;if(l=(r.flags&128)!==0,T=m.rendering,T===null)if(l)Jo(m,!1);else{if(It!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(T=Bu(t),T!==null){for(r.flags|=128,Jo(m,!1),t=T.updateQueue,r.updateQueue=t,Qu(r,t),r.subtreeFlags=0,t=s,s=r.child;s!==null;)Pp(s,t),s=s.sibling;return ce(Gt,Gt.current&1|2),r.child}t=t.sibling}m.tail!==null&&bn()>Xu&&(r.flags|=128,l=!0,Jo(m,!1),r.lanes=4194304)}else{if(!l)if(t=Bu(T),t!==null){if(r.flags|=128,l=!0,t=t.updateQueue,r.updateQueue=t,Qu(r,t),Jo(m,!0),m.tail===null&&m.tailMode==="hidden"&&!T.alternate&&!ut)return Ct(r),null}else 2*bn()-m.renderingStartTime>Xu&&s!==536870912&&(r.flags|=128,l=!0,Jo(m,!1),r.lanes=4194304);m.isBackwards?(T.sibling=r.child,r.child=T):(t=m.last,t!==null?t.sibling=T:r.child=T,m.last=T)}return m.tail!==null?(r=m.tail,m.rendering=r,m.tail=r.sibling,m.renderingStartTime=bn(),r.sibling=null,t=Gt.current,ce(Gt,l?t&1|2:t&1),r):(Ct(r),null);case 22:case 23:return yi(r),ih(),l=r.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(s&536870912)!==0&&(r.flags&128)===0&&(Ct(r),r.subtreeFlags&6&&(r.flags|=8192)):Ct(r),s=r.updateQueue,s!==null&&Qu(r,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==s&&(r.flags|=2048),t!==null&&me(Ka),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),r.memoizedState.cache!==s&&(r.flags|=2048),pi(Ht),Ct(r),null;case 25:return null;case 30:return null}throw Error(a(156,r.tag))}function F2(t,r){switch(Ff(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return pi(Ht),Xn(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return fn(r),null;case 13:if(yi(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(a(340));Lo()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return me(Gt),null;case 4:return Xn(),null;case 10:return pi(r.type),null;case 22:case 23:return yi(r),ih(),t!==null&&me(Ka),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return pi(Ht),null;case 25:return null;default:return null}}function fy(t,r){switch(Ff(r),r.tag){case 3:pi(Ht),Xn();break;case 26:case 27:case 5:fn(r);break;case 4:Xn();break;case 13:yi(r);break;case 19:me(Gt);break;case 10:pi(r.type);break;case 22:case 23:yi(r),ih(),t!==null&&me(Ka);break;case 24:pi(Ht)}}function el(t,r){try{var s=r.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var m=l.next;s=m;do{if((s.tag&t)===t){l=void 0;var T=s.create,N=s.inst;l=T(),N.destroy=l}s=s.next}while(s!==m)}}catch(P){Et(r,r.return,P)}}function Gi(t,r,s){try{var l=r.updateQueue,m=l!==null?l.lastEffect:null;if(m!==null){var T=m.next;l=T;do{if((l.tag&t)===t){var N=l.inst,P=N.destroy;if(P!==void 0){N.destroy=void 0,m=r;var q=s,ee=P;try{ee()}catch(ae){Et(m,q,ae)}}}l=l.next}while(l!==T)}}catch(ae){Et(r,r.return,ae)}}function hy(t){var r=t.updateQueue;if(r!==null){var s=t.stateNode;try{Jp(r,s)}catch(l){Et(t,t.return,l)}}}function dy(t,r,s){s.props=Xa(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(l){Et(t,r,l)}}function tl(t,r){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof s=="function"?t.refCleanup=s(l):s.current=l}}catch(m){Et(t,r,m)}}function Br(t,r){var s=t.ref,l=t.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(m){Et(t,r,m)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(m){Et(t,r,m)}else s.current=null}function my(t){var r=t.type,s=t.memoizedProps,l=t.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break e;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(m){Et(t,t.return,m)}}function Mh(t,r,s){try{var l=t.stateNode;fE(l,t.type,s,r),l[ge]=r}catch(m){Et(t,t.return,m)}}function py(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ea(t.type)||t.tag===4}function Nh(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||py(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ea(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Vh(t,r,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,r):(r=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,r.appendChild(t),s=s._reactRootContainer,s!=null||r.onclick!==null||(r.onclick=ac));else if(l!==4&&(l===27&&ea(t.type)&&(s=t.stateNode,r=null),t=t.child,t!==null))for(Vh(t,r,s),t=t.sibling;t!==null;)Vh(t,r,s),t=t.sibling}function Ku(t,r,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?s.insertBefore(t,r):s.appendChild(t);else if(l!==4&&(l===27&&ea(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(Ku(t,r,s),t=t.sibling;t!==null;)Ku(t,r,s),t=t.sibling}function gy(t){var r=t.stateNode,s=t.memoizedProps;try{for(var l=t.type,m=r.attributes;m.length;)r.removeAttributeNode(m[0]);on(r,l,s),r[le]=t,r[ge]=s}catch(T){Et(t,t.return,T)}}var bi=!1,Mt=!1,kh=!1,yy=typeof WeakSet=="function"?WeakSet:Set,Wt=null;function H2(t,r){if(t=t.containerInfo,ad=hc,t=xp(t),Nf(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var m=l.anchorOffset,T=l.focusNode;l=l.focusOffset;try{s.nodeType,T.nodeType}catch{s=null;break e}var N=0,P=-1,q=-1,ee=0,ae=0,ue=t,te=null;t:for(;;){for(var ne;ue!==s||m!==0&&ue.nodeType!==3||(P=N+m),ue!==T||l!==0&&ue.nodeType!==3||(q=N+l),ue.nodeType===3&&(N+=ue.nodeValue.length),(ne=ue.firstChild)!==null;)te=ue,ue=ne;for(;;){if(ue===t)break t;if(te===s&&++ee===m&&(P=N),te===T&&++ae===l&&(q=N),(ne=ue.nextSibling)!==null)break;ue=te,te=ue.parentNode}ue=ne}s=P===-1||q===-1?null:{start:P,end:q}}else s=null}s=s||{start:0,end:0}}else s=null;for(sd={focusedElem:t,selectionRange:s},hc=!1,Wt=r;Wt!==null;)if(r=Wt,t=r.child,(r.subtreeFlags&1024)!==0&&t!==null)t.return=r,Wt=t;else for(;Wt!==null;){switch(r=Wt,T=r.alternate,t=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&T!==null){t=void 0,s=r,m=T.memoizedProps,T=T.memoizedState,l=s.stateNode;try{var Ue=Xa(s.type,m,s.elementType===s.type);t=l.getSnapshotBeforeUpdate(Ue,T),l.__reactInternalSnapshotBeforeUpdate=t}catch(Ve){Et(s,s.return,Ve)}}break;case 3:if((t&1024)!==0){if(t=r.stateNode.containerInfo,s=t.nodeType,s===9)ud(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":ud(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=r.sibling,t!==null){t.return=r.return,Wt=t;break}Wt=r.return}}function vy(t,r,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:Qi(t,s),l&4&&el(5,s);break;case 1:if(Qi(t,s),l&4)if(t=s.stateNode,r===null)try{t.componentDidMount()}catch(N){Et(s,s.return,N)}else{var m=Xa(s.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(m,r,t.__reactInternalSnapshotBeforeUpdate)}catch(N){Et(s,s.return,N)}}l&64&&hy(s),l&512&&tl(s,s.return);break;case 3:if(Qi(t,s),l&64&&(t=s.updateQueue,t!==null)){if(r=null,s.child!==null)switch(s.child.tag){case 27:case 5:r=s.child.stateNode;break;case 1:r=s.child.stateNode}try{Jp(t,r)}catch(N){Et(s,s.return,N)}}break;case 27:r===null&&l&4&&gy(s);case 26:case 5:Qi(t,s),r===null&&l&4&&my(s),l&512&&tl(s,s.return);break;case 12:Qi(t,s);break;case 13:Qi(t,s),l&4&&Ey(t,s),l&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=eE.bind(null,s),vE(t,s))));break;case 22:if(l=s.memoizedState!==null||bi,!l){r=r!==null&&r.memoizedState!==null||Mt,m=bi;var T=Mt;bi=l,(Mt=r)&&!T?Ki(t,s,(s.subtreeFlags&8772)!==0):Qi(t,s),bi=m,Mt=T}break;case 30:break;default:Qi(t,s)}}function _y(t){var r=t.alternate;r!==null&&(t.alternate=null,_y(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&Re(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Rt=null,xn=!1;function Ei(t,r,s){for(s=s.child;s!==null;)by(t,r,s),s=s.sibling}function by(t,r,s){if(Fe&&typeof Fe.onCommitFiberUnmount=="function")try{Fe.onCommitFiberUnmount(lt,s)}catch{}switch(s.tag){case 26:Mt||Br(s,r),Ei(t,r,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Mt||Br(s,r);var l=Rt,m=xn;ea(s.type)&&(Rt=s.stateNode,xn=!1),Ei(t,r,s),cl(s.stateNode),Rt=l,xn=m;break;case 5:Mt||Br(s,r);case 6:if(l=Rt,m=xn,Rt=null,Ei(t,r,s),Rt=l,xn=m,Rt!==null)if(xn)try{(Rt.nodeType===9?Rt.body:Rt.nodeName==="HTML"?Rt.ownerDocument.body:Rt).removeChild(s.stateNode)}catch(T){Et(s,r,T)}else try{Rt.removeChild(s.stateNode)}catch(T){Et(s,r,T)}break;case 18:Rt!==null&&(xn?(t=Rt,lv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),vl(t)):lv(Rt,s.stateNode));break;case 4:l=Rt,m=xn,Rt=s.stateNode.containerInfo,xn=!0,Ei(t,r,s),Rt=l,xn=m;break;case 0:case 11:case 14:case 15:Mt||Gi(2,s,r),Mt||Gi(4,s,r),Ei(t,r,s);break;case 1:Mt||(Br(s,r),l=s.stateNode,typeof l.componentWillUnmount=="function"&&dy(s,r,l)),Ei(t,r,s);break;case 21:Ei(t,r,s);break;case 22:Mt=(l=Mt)||s.memoizedState!==null,Ei(t,r,s),Mt=l;break;default:Ei(t,r,s)}}function Ey(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{vl(t)}catch(s){Et(r,r.return,s)}}function G2(t){switch(t.tag){case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new yy),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new yy),r;default:throw Error(a(435,t.tag))}}function jh(t,r){var s=G2(t);r.forEach(function(l){var m=tE.bind(null,t,l);s.has(l)||(s.add(l),l.then(m,m))})}function Un(t,r){var s=r.deletions;if(s!==null)for(var l=0;l<s.length;l++){var m=s[l],T=t,N=r,P=N;e:for(;P!==null;){switch(P.tag){case 27:if(ea(P.type)){Rt=P.stateNode,xn=!1;break e}break;case 5:Rt=P.stateNode,xn=!1;break e;case 3:case 4:Rt=P.stateNode.containerInfo,xn=!0;break e}P=P.return}if(Rt===null)throw Error(a(160));by(T,N,m),Rt=null,xn=!1,T=m.alternate,T!==null&&(T.return=null),m.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)wy(r,t),r=r.sibling}var br=null;function wy(t,r){var s=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Un(r,t),zn(t),l&4&&(Gi(3,t,t.return),el(3,t),Gi(5,t,t.return));break;case 1:Un(r,t),zn(t),l&512&&(Mt||s===null||Br(s,s.return)),l&64&&bi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var m=br;if(Un(r,t),zn(t),l&512&&(Mt||s===null||Br(s,s.return)),l&4){var T=s!==null?s.memoizedState:null;if(l=t.memoizedState,s===null)if(l===null)if(t.stateNode===null){e:{l=t.type,s=t.memoizedProps,m=m.ownerDocument||m;t:switch(l){case"title":T=m.getElementsByTagName("title")[0],(!T||T[Ne]||T[le]||T.namespaceURI==="http://www.w3.org/2000/svg"||T.hasAttribute("itemprop"))&&(T=m.createElement(l),m.head.insertBefore(T,m.querySelector("head > title"))),on(T,l,s),T[le]=t,et(T),l=T;break e;case"link":var N=gv("link","href",m).get(l+(s.href||""));if(N){for(var P=0;P<N.length;P++)if(T=N[P],T.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&T.getAttribute("rel")===(s.rel==null?null:s.rel)&&T.getAttribute("title")===(s.title==null?null:s.title)&&T.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){N.splice(P,1);break t}}T=m.createElement(l),on(T,l,s),m.head.appendChild(T);break;case"meta":if(N=gv("meta","content",m).get(l+(s.content||""))){for(P=0;P<N.length;P++)if(T=N[P],T.getAttribute("content")===(s.content==null?null:""+s.content)&&T.getAttribute("name")===(s.name==null?null:s.name)&&T.getAttribute("property")===(s.property==null?null:s.property)&&T.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&T.getAttribute("charset")===(s.charSet==null?null:s.charSet)){N.splice(P,1);break t}}T=m.createElement(l),on(T,l,s),m.head.appendChild(T);break;default:throw Error(a(468,l))}T[le]=t,et(T),l=T}t.stateNode=l}else yv(m,t.type,t.stateNode);else t.stateNode=pv(m,l,t.memoizedProps);else T!==l?(T===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):T.count--,l===null?yv(m,t.type,t.stateNode):pv(m,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Mh(t,t.memoizedProps,s.memoizedProps)}break;case 27:Un(r,t),zn(t),l&512&&(Mt||s===null||Br(s,s.return)),s!==null&&l&4&&Mh(t,t.memoizedProps,s.memoizedProps);break;case 5:if(Un(r,t),zn(t),l&512&&(Mt||s===null||Br(s,s.return)),t.flags&32){m=t.stateNode;try{rr(m,"")}catch(ne){Et(t,t.return,ne)}}l&4&&t.stateNode!=null&&(m=t.memoizedProps,Mh(t,m,s!==null?s.memoizedProps:m)),l&1024&&(kh=!0);break;case 6:if(Un(r,t),zn(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,s=t.stateNode;try{s.nodeValue=l}catch(ne){Et(t,t.return,ne)}}break;case 3:if(uc=null,m=br,br=oc(r.containerInfo),Un(r,t),br=m,zn(t),l&4&&s!==null&&s.memoizedState.isDehydrated)try{vl(r.containerInfo)}catch(ne){Et(t,t.return,ne)}kh&&(kh=!1,Ty(t));break;case 4:l=br,br=oc(t.stateNode.containerInfo),Un(r,t),zn(t),br=l;break;case 12:Un(r,t),zn(t);break;case 13:Un(r,t),zn(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Bh=bn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,jh(t,l)));break;case 22:m=t.memoizedState!==null;var q=s!==null&&s.memoizedState!==null,ee=bi,ae=Mt;if(bi=ee||m,Mt=ae||q,Un(r,t),Mt=ae,bi=ee,zn(t),l&8192)e:for(r=t.stateNode,r._visibility=m?r._visibility&-2:r._visibility|1,m&&(s===null||q||bi||Mt||Za(t)),s=null,r=t;;){if(r.tag===5||r.tag===26){if(s===null){q=s=r;try{if(T=q.stateNode,m)N=T.style,typeof N.setProperty=="function"?N.setProperty("display","none","important"):N.display="none";else{P=q.stateNode;var ue=q.memoizedProps.style,te=ue!=null&&ue.hasOwnProperty("display")?ue.display:null;P.style.display=te==null||typeof te=="boolean"?"":(""+te).trim()}}catch(ne){Et(q,q.return,ne)}}}else if(r.tag===6){if(s===null){q=r;try{q.stateNode.nodeValue=m?"":q.memoizedProps}catch(ne){Et(q,q.return,ne)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;s===r&&(s=null),r=r.return}s===r&&(s=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=t.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,jh(t,s))));break;case 19:Un(r,t),zn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,jh(t,l)));break;case 30:break;case 21:break;default:Un(r,t),zn(t)}}function zn(t){var r=t.flags;if(r&2){try{for(var s,l=t.return;l!==null;){if(py(l)){s=l;break}l=l.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var m=s.stateNode,T=Nh(t);Ku(t,T,m);break;case 5:var N=s.stateNode;s.flags&32&&(rr(N,""),s.flags&=-33);var P=Nh(t);Ku(t,P,N);break;case 3:case 4:var q=s.stateNode.containerInfo,ee=Nh(t);Vh(t,ee,q);break;default:throw Error(a(161))}}catch(ae){Et(t,t.return,ae)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function Ty(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;Ty(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function Qi(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)vy(t,r.alternate,r),r=r.sibling}function Za(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:Gi(4,r,r.return),Za(r);break;case 1:Br(r,r.return);var s=r.stateNode;typeof s.componentWillUnmount=="function"&&dy(r,r.return,s),Za(r);break;case 27:cl(r.stateNode);case 26:case 5:Br(r,r.return),Za(r);break;case 22:r.memoizedState===null&&Za(r);break;case 30:Za(r);break;default:Za(r)}t=t.sibling}}function Ki(t,r,s){for(s=s&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,m=t,T=r,N=T.flags;switch(T.tag){case 0:case 11:case 15:Ki(m,T,s),el(4,T);break;case 1:if(Ki(m,T,s),l=T,m=l.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(ee){Et(l,l.return,ee)}if(l=T,m=l.updateQueue,m!==null){var P=l.stateNode;try{var q=m.shared.hiddenCallbacks;if(q!==null)for(m.shared.hiddenCallbacks=null,m=0;m<q.length;m++)Wp(q[m],P)}catch(ee){Et(l,l.return,ee)}}s&&N&64&&hy(T),tl(T,T.return);break;case 27:gy(T);case 26:case 5:Ki(m,T,s),s&&l===null&&N&4&&my(T),tl(T,T.return);break;case 12:Ki(m,T,s);break;case 13:Ki(m,T,s),s&&N&4&&Ey(m,T);break;case 22:T.memoizedState===null&&Ki(m,T,s),tl(T,T.return);break;case 30:break;default:Ki(m,T,s)}r=r.sibling}}function Lh(t,r){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&zo(s))}function Ph(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&zo(t))}function qr(t,r,s,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Ay(t,r,s,l),r=r.sibling}function Ay(t,r,s,l){var m=r.flags;switch(r.tag){case 0:case 11:case 15:qr(t,r,s,l),m&2048&&el(9,r);break;case 1:qr(t,r,s,l);break;case 3:qr(t,r,s,l),m&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&zo(t)));break;case 12:if(m&2048){qr(t,r,s,l),t=r.stateNode;try{var T=r.memoizedProps,N=T.id,P=T.onPostCommit;typeof P=="function"&&P(N,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(q){Et(r,r.return,q)}}else qr(t,r,s,l);break;case 13:qr(t,r,s,l);break;case 23:break;case 22:T=r.stateNode,N=r.alternate,r.memoizedState!==null?T._visibility&2?qr(t,r,s,l):nl(t,r):T._visibility&2?qr(t,r,s,l):(T._visibility|=2,Bs(t,r,s,l,(r.subtreeFlags&10256)!==0)),m&2048&&Lh(N,r);break;case 24:qr(t,r,s,l),m&2048&&Ph(r.alternate,r);break;default:qr(t,r,s,l)}}function Bs(t,r,s,l,m){for(m=m&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var T=t,N=r,P=s,q=l,ee=N.flags;switch(N.tag){case 0:case 11:case 15:Bs(T,N,P,q,m),el(8,N);break;case 23:break;case 22:var ae=N.stateNode;N.memoizedState!==null?ae._visibility&2?Bs(T,N,P,q,m):nl(T,N):(ae._visibility|=2,Bs(T,N,P,q,m)),m&&ee&2048&&Lh(N.alternate,N);break;case 24:Bs(T,N,P,q,m),m&&ee&2048&&Ph(N.alternate,N);break;default:Bs(T,N,P,q,m)}r=r.sibling}}function nl(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var s=t,l=r,m=l.flags;switch(l.tag){case 22:nl(s,l),m&2048&&Lh(l.alternate,l);break;case 24:nl(s,l),m&2048&&Ph(l.alternate,l);break;default:nl(s,l)}r=r.sibling}}var rl=8192;function qs(t){if(t.subtreeFlags&rl)for(t=t.child;t!==null;)Sy(t),t=t.sibling}function Sy(t){switch(t.tag){case 26:qs(t),t.flags&rl&&t.memoizedState!==null&&OE(br,t.memoizedState,t.memoizedProps);break;case 5:qs(t);break;case 3:case 4:var r=br;br=oc(t.stateNode.containerInfo),qs(t),br=r;break;case 22:t.memoizedState===null&&(r=t.alternate,r!==null&&r.memoizedState!==null?(r=rl,rl=16777216,qs(t),rl=r):qs(t));break;default:qs(t)}}function Ry(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function il(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var s=0;s<r.length;s++){var l=r[s];Wt=l,xy(l,t)}Ry(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Cy(t),t=t.sibling}function Cy(t){switch(t.tag){case 0:case 11:case 15:il(t),t.flags&2048&&Gi(9,t,t.return);break;case 3:il(t);break;case 12:il(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&2&&(t.return===null||t.return.tag!==13)?(r._visibility&=-3,Yu(t)):il(t);break;default:il(t)}}function Yu(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var s=0;s<r.length;s++){var l=r[s];Wt=l,xy(l,t)}Ry(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:Gi(8,r,r.return),Yu(r);break;case 22:s=r.stateNode,s._visibility&2&&(s._visibility&=-3,Yu(r));break;default:Yu(r)}t=t.sibling}}function xy(t,r){for(;Wt!==null;){var s=Wt;switch(s.tag){case 0:case 11:case 15:Gi(8,s,r);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:zo(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,Wt=l;else e:for(s=t;Wt!==null;){l=Wt;var m=l.sibling,T=l.return;if(_y(l),l===s){Wt=null;break e}if(m!==null){m.return=T,Wt=m;break e}Wt=T}}}var Q2={getCacheForType:function(t){var r=mn(Ht),s=r.data.get(t);return s===void 0&&(s=t(),r.data.set(t,s)),s}},K2=typeof WeakMap=="function"?WeakMap:Map,dt=0,Tt=null,Xe=null,rt=0,mt=0,$n=null,Yi=!1,Fs=!1,Uh=!1,wi=0,It=0,Xi=0,Wa=0,zh=0,hr=0,Hs=0,al=null,Dn=null,$h=!1,Bh=0,Xu=1/0,Zu=null,Zi=null,sn=0,Wi=null,Gs=null,Qs=0,qh=0,Fh=null,Dy=null,sl=0,Hh=null;function Bn(){if((dt&2)!==0&&rt!==0)return rt&-rt;if(Q.T!==null){var t=Vs;return t!==0?t:Wh()}return H()}function Iy(){hr===0&&(hr=(rt&536870912)===0||ut?ni():536870912);var t=fr.current;return t!==null&&(t.flags|=32),hr}function qn(t,r,s){(t===Tt&&(mt===2||mt===9)||t.cancelPendingCommit!==null)&&(Ks(t,0),Ji(t,rt,hr,!1)),yr(t,s),((dt&2)===0||t!==Tt)&&(t===Tt&&((dt&2)===0&&(Wa|=s),It===4&&Ji(t,rt,hr,!1)),Fr(t))}function Oy(t,r,s){if((dt&6)!==0)throw Error(a(327));var l=!s&&(r&124)===0&&(r&t.expiredLanes)===0||Jn(t,r),m=l?Z2(t,r):Kh(t,r,!0),T=l;do{if(m===0){Fs&&!l&&Ji(t,r,0,!1);break}else{if(s=t.current.alternate,T&&!Y2(s)){m=Kh(t,r,!1),T=!1;continue}if(m===2){if(T=r,t.errorRecoveryDisabledLanes&T)var N=0;else N=t.pendingLanes&-536870913,N=N!==0?N:N&536870912?536870912:0;if(N!==0){r=N;e:{var P=t;m=al;var q=P.current.memoizedState.isDehydrated;if(q&&(Ks(P,N).flags|=256),N=Kh(P,N,!1),N!==2){if(Uh&&!q){P.errorRecoveryDisabledLanes|=T,Wa|=T,m=4;break e}T=Dn,Dn=m,T!==null&&(Dn===null?Dn=T:Dn.push.apply(Dn,T))}m=N}if(T=!1,m!==2)continue}}if(m===1){Ks(t,0),Ji(t,r,0,!0);break}e:{switch(l=t,T=m,T){case 0:case 1:throw Error(a(345));case 4:if((r&4194048)!==r)break;case 6:Ji(l,r,hr,!Yi);break e;case 2:Dn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((r&62914560)===r&&(m=Bh+300-bn(),10<m)){if(Ji(l,r,hr,!Yi),ti(l,0,!0)!==0)break e;l.timeoutHandle=sv(My.bind(null,l,s,Dn,Zu,$h,r,hr,Wa,Hs,Yi,T,2,-0,0),m);break e}My(l,s,Dn,Zu,$h,r,hr,Wa,Hs,Yi,T,0,-0,0)}}break}while(!0);Fr(t)}function My(t,r,s,l,m,T,N,P,q,ee,ae,ue,te,ne){if(t.timeoutHandle=-1,ue=r.subtreeFlags,(ue&8192||(ue&16785408)===16785408)&&(dl={stylesheets:null,count:0,unsuspend:IE},Sy(r),ue=ME(),ue!==null)){t.cancelPendingCommit=ue(Uy.bind(null,t,r,T,s,l,m,N,P,q,ae,1,te,ne)),Ji(t,T,N,!ee);return}Uy(t,r,T,s,l,m,N,P,q)}function Y2(t){for(var r=t;;){var s=r.tag;if((s===0||s===11||s===15)&&r.flags&16384&&(s=r.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var m=s[l],T=m.getSnapshot;m=m.value;try{if(!Ln(T(),m))return!1}catch{return!1}}if(s=r.child,r.subtreeFlags&16384&&s!==null)s.return=r,r=s;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Ji(t,r,s,l){r&=~zh,r&=~Wa,t.suspendedLanes|=r,t.pingedLanes&=~r,l&&(t.warmLanes|=r),l=t.expirationTimes;for(var m=r;0<m;){var T=31-kt(m),N=1<<T;l[T]=-1,m&=~N}s!==0&&En(t,s,r)}function Wu(){return(dt&6)===0?(ol(0),!1):!0}function Gh(){if(Xe!==null){if(mt===0)var t=Xe.return;else t=Xe,mi=Ga=null,uh(t),zs=null,Zo=0,t=Xe;for(;t!==null;)fy(t.alternate,t),t=t.return;Xe=null}}function Ks(t,r){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,dE(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),Gh(),Tt=t,Xe=s=fi(t.current,null),rt=r,mt=0,$n=null,Yi=!1,Fs=Jn(t,r),Uh=!1,Hs=hr=zh=Wa=Xi=It=0,Dn=al=null,$h=!1,(r&8)!==0&&(r|=r&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=r;0<l;){var m=31-kt(l),T=1<<m;r|=t[m],l&=~T}return wi=r,bu(),s}function Ny(t,r){He=null,Q.H=Uu,r===Bo||r===Du?(r=Xp(),mt=3):r===Qp?(r=Xp(),mt=4):mt=r===Zg?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,$n=r,Xe===null&&(It=1,Fu(t,or(r,t.current)))}function Vy(){var t=Q.H;return Q.H=Uu,t===null?Uu:t}function ky(){var t=Q.A;return Q.A=Q2,t}function Qh(){It=4,Yi||(rt&4194048)!==rt&&fr.current!==null||(Fs=!0),(Xi&134217727)===0&&(Wa&134217727)===0||Tt===null||Ji(Tt,rt,hr,!1)}function Kh(t,r,s){var l=dt;dt|=2;var m=Vy(),T=ky();(Tt!==t||rt!==r)&&(Zu=null,Ks(t,r)),r=!1;var N=It;e:do try{if(mt!==0&&Xe!==null){var P=Xe,q=$n;switch(mt){case 8:Gh(),N=6;break e;case 3:case 2:case 9:case 6:fr.current===null&&(r=!0);var ee=mt;if(mt=0,$n=null,Ys(t,P,q,ee),s&&Fs){N=0;break e}break;default:ee=mt,mt=0,$n=null,Ys(t,P,q,ee)}}X2(),N=It;break}catch(ae){Ny(t,ae)}while(!0);return r&&t.shellSuspendCounter++,mi=Ga=null,dt=l,Q.H=m,Q.A=T,Xe===null&&(Tt=null,rt=0,bu()),N}function X2(){for(;Xe!==null;)jy(Xe)}function Z2(t,r){var s=dt;dt|=2;var l=Vy(),m=ky();Tt!==t||rt!==r?(Zu=null,Xu=bn()+500,Ks(t,r)):Fs=Jn(t,r);e:do try{if(mt!==0&&Xe!==null){r=Xe;var T=$n;t:switch(mt){case 1:mt=0,$n=null,Ys(t,r,T,1);break;case 2:case 9:if(Kp(T)){mt=0,$n=null,Ly(r);break}r=function(){mt!==2&&mt!==9||Tt!==t||(mt=7),Fr(t)},T.then(r,r);break e;case 3:mt=7;break e;case 4:mt=5;break e;case 7:Kp(T)?(mt=0,$n=null,Ly(r)):(mt=0,$n=null,Ys(t,r,T,7));break;case 5:var N=null;switch(Xe.tag){case 26:N=Xe.memoizedState;case 5:case 27:var P=Xe;if(!N||vv(N)){mt=0,$n=null;var q=P.sibling;if(q!==null)Xe=q;else{var ee=P.return;ee!==null?(Xe=ee,Ju(ee)):Xe=null}break t}}mt=0,$n=null,Ys(t,r,T,5);break;case 6:mt=0,$n=null,Ys(t,r,T,6);break;case 8:Gh(),It=6;break e;default:throw Error(a(462))}}W2();break}catch(ae){Ny(t,ae)}while(!0);return mi=Ga=null,Q.H=l,Q.A=m,dt=s,Xe!==null?0:(Tt=null,rt=0,bu(),It)}function W2(){for(;Xe!==null&&!Sa();)jy(Xe)}function jy(t){var r=uy(t.alternate,t,wi);t.memoizedProps=t.pendingProps,r===null?Ju(t):Xe=r}function Ly(t){var r=t,s=r.alternate;switch(r.tag){case 15:case 0:r=ry(s,r,r.pendingProps,r.type,void 0,rt);break;case 11:r=ry(s,r,r.pendingProps,r.type.render,r.ref,rt);break;case 5:uh(r);default:fy(s,r),r=Xe=Pp(r,wi),r=uy(s,r,wi)}t.memoizedProps=t.pendingProps,r===null?Ju(t):Xe=r}function Ys(t,r,s,l){mi=Ga=null,uh(r),zs=null,Zo=0;var m=r.return;try{if($2(t,m,r,s,rt)){It=1,Fu(t,or(s,t.current)),Xe=null;return}}catch(T){if(m!==null)throw Xe=m,T;It=1,Fu(t,or(s,t.current)),Xe=null;return}r.flags&32768?(ut||l===1?t=!0:Fs||(rt&536870912)!==0?t=!1:(Yi=t=!0,(l===2||l===9||l===3||l===6)&&(l=fr.current,l!==null&&l.tag===13&&(l.flags|=16384))),Py(r,t)):Ju(r)}function Ju(t){var r=t;do{if((r.flags&32768)!==0){Py(r,Yi);return}t=r.return;var s=q2(r.alternate,r,wi);if(s!==null){Xe=s;return}if(r=r.sibling,r!==null){Xe=r;return}Xe=r=t}while(r!==null);It===0&&(It=5)}function Py(t,r){do{var s=F2(t.alternate,t);if(s!==null){s.flags&=32767,Xe=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!r&&(t=t.sibling,t!==null)){Xe=t;return}Xe=t=s}while(t!==null);It=6,Xe=null}function Uy(t,r,s,l,m,T,N,P,q){t.cancelPendingCommit=null;do ec();while(sn!==0);if((dt&6)!==0)throw Error(a(327));if(r!==null){if(r===t.current)throw Error(a(177));if(T=r.lanes|r.childLanes,T|=Pf,Vi(t,s,T,N,P,q),t===Tt&&(Xe=Tt=null,rt=0),Gs=r,Wi=t,Qs=s,qh=T,Fh=m,Dy=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,nE(ei,function(){return Fy(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=Q.T,Q.T=null,m=se.p,se.p=2,N=dt,dt|=4;try{H2(t,r,s)}finally{dt=N,se.p=m,Q.T=l}}sn=1,zy(),$y(),By()}}function zy(){if(sn===1){sn=0;var t=Wi,r=Gs,s=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||s){s=Q.T,Q.T=null;var l=se.p;se.p=2;var m=dt;dt|=4;try{wy(r,t);var T=sd,N=xp(t.containerInfo),P=T.focusedElem,q=T.selectionRange;if(N!==P&&P&&P.ownerDocument&&Cp(P.ownerDocument.documentElement,P)){if(q!==null&&Nf(P)){var ee=q.start,ae=q.end;if(ae===void 0&&(ae=ee),"selectionStart"in P)P.selectionStart=ee,P.selectionEnd=Math.min(ae,P.value.length);else{var ue=P.ownerDocument||document,te=ue&&ue.defaultView||window;if(te.getSelection){var ne=te.getSelection(),Ue=P.textContent.length,Ve=Math.min(q.start,Ue),_t=q.end===void 0?Ve:Math.min(q.end,Ue);!ne.extend&&Ve>_t&&(N=_t,_t=Ve,Ve=N);var K=Rp(P,Ve),G=Rp(P,_t);if(K&&G&&(ne.rangeCount!==1||ne.anchorNode!==K.node||ne.anchorOffset!==K.offset||ne.focusNode!==G.node||ne.focusOffset!==G.offset)){var Z=ue.createRange();Z.setStart(K.node,K.offset),ne.removeAllRanges(),Ve>_t?(ne.addRange(Z),ne.extend(G.node,G.offset)):(Z.setEnd(G.node,G.offset),ne.addRange(Z))}}}}for(ue=[],ne=P;ne=ne.parentNode;)ne.nodeType===1&&ue.push({element:ne,left:ne.scrollLeft,top:ne.scrollTop});for(typeof P.focus=="function"&&P.focus(),P=0;P<ue.length;P++){var oe=ue[P];oe.element.scrollLeft=oe.left,oe.element.scrollTop=oe.top}}hc=!!ad,sd=ad=null}finally{dt=m,se.p=l,Q.T=s}}t.current=r,sn=2}}function $y(){if(sn===2){sn=0;var t=Wi,r=Gs,s=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||s){s=Q.T,Q.T=null;var l=se.p;se.p=2;var m=dt;dt|=4;try{vy(t,r.alternate,r)}finally{dt=m,se.p=l,Q.T=s}}sn=3}}function By(){if(sn===4||sn===3){sn=0,ps();var t=Wi,r=Gs,s=Qs,l=Dy;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?sn=5:(sn=0,Gs=Wi=null,qy(t,t.pendingLanes));var m=t.pendingLanes;if(m===0&&(Zi=null),ki(s),r=r.stateNode,Fe&&typeof Fe.onCommitFiberRoot=="function")try{Fe.onCommitFiberRoot(lt,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=Q.T,m=se.p,se.p=2,Q.T=null;try{for(var T=t.onRecoverableError,N=0;N<l.length;N++){var P=l[N];T(P.value,{componentStack:P.stack})}}finally{Q.T=r,se.p=m}}(Qs&3)!==0&&ec(),Fr(t),m=t.pendingLanes,(s&4194090)!==0&&(m&42)!==0?t===Hh?sl++:(sl=0,Hh=t):sl=0,ol(0)}}function qy(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,zo(r)))}function ec(t){return zy(),$y(),By(),Fy()}function Fy(){if(sn!==5)return!1;var t=Wi,r=qh;qh=0;var s=ki(Qs),l=Q.T,m=se.p;try{se.p=32>s?32:s,Q.T=null,s=Fh,Fh=null;var T=Wi,N=Qs;if(sn=0,Gs=Wi=null,Qs=0,(dt&6)!==0)throw Error(a(331));var P=dt;if(dt|=4,Cy(T.current),Ay(T,T.current,N,s),dt=P,ol(0,!1),Fe&&typeof Fe.onPostCommitFiberRoot=="function")try{Fe.onPostCommitFiberRoot(lt,T)}catch{}return!0}finally{se.p=m,Q.T=l,qy(t,r)}}function Hy(t,r,s){r=or(s,r),r=Th(t.stateNode,r,2),t=Bi(t,r,2),t!==null&&(yr(t,2),Fr(t))}function Et(t,r,s){if(t.tag===3)Hy(t,t,s);else for(;r!==null;){if(r.tag===3){Hy(r,t,s);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Zi===null||!Zi.has(l))){t=or(s,t),s=Yg(2),l=Bi(r,s,2),l!==null&&(Xg(s,l,r,t),yr(l,2),Fr(l));break}}r=r.return}}function Yh(t,r,s){var l=t.pingCache;if(l===null){l=t.pingCache=new K2;var m=new Set;l.set(r,m)}else m=l.get(r),m===void 0&&(m=new Set,l.set(r,m));m.has(s)||(Uh=!0,m.add(s),t=J2.bind(null,t,r,s),r.then(t,t))}function J2(t,r,s){var l=t.pingCache;l!==null&&l.delete(r),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,Tt===t&&(rt&s)===s&&(It===4||It===3&&(rt&62914560)===rt&&300>bn()-Bh?(dt&2)===0&&Ks(t,0):zh|=s,Hs===rt&&(Hs=0)),Fr(t)}function Gy(t,r){r===0&&(r=Ca()),t=Is(t,r),t!==null&&(yr(t,r),Fr(t))}function eE(t){var r=t.memoizedState,s=0;r!==null&&(s=r.retryLane),Gy(t,s)}function tE(t,r){var s=0;switch(t.tag){case 13:var l=t.stateNode,m=t.memoizedState;m!==null&&(s=m.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(r),Gy(t,s)}function nE(t,r){return Jr(t,r)}var tc=null,Xs=null,Xh=!1,nc=!1,Zh=!1,Ja=0;function Fr(t){t!==Xs&&t.next===null&&(Xs===null?tc=Xs=t:Xs=Xs.next=t),nc=!0,Xh||(Xh=!0,iE())}function ol(t,r){if(!Zh&&nc){Zh=!0;do for(var s=!1,l=tc;l!==null;){if(t!==0){var m=l.pendingLanes;if(m===0)var T=0;else{var N=l.suspendedLanes,P=l.pingedLanes;T=(1<<31-kt(42|t)+1)-1,T&=m&~(N&~P),T=T&201326741?T&201326741|1:T?T|2:0}T!==0&&(s=!0,Xy(l,T))}else T=rt,T=ti(l,l===Tt?T:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(T&3)===0||Jn(l,T)||(s=!0,Xy(l,T));l=l.next}while(s);Zh=!1}}function rE(){Qy()}function Qy(){nc=Xh=!1;var t=0;Ja!==0&&(hE()&&(t=Ja),Ja=0);for(var r=bn(),s=null,l=tc;l!==null;){var m=l.next,T=Ky(l,r);T===0?(l.next=null,s===null?tc=m:s.next=m,m===null&&(Xs=s)):(s=l,(t!==0||(T&3)!==0)&&(nc=!0)),l=m}ol(t)}function Ky(t,r){for(var s=t.suspendedLanes,l=t.pingedLanes,m=t.expirationTimes,T=t.pendingLanes&-62914561;0<T;){var N=31-kt(T),P=1<<N,q=m[N];q===-1?((P&s)===0||(P&l)!==0)&&(m[N]=Ni(P,r)):q<=r&&(t.expiredLanes|=P),T&=~P}if(r=Tt,s=rt,s=ti(t,t===r?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,s===0||t===r&&(mt===2||mt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&_n(l),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||Jn(t,s)){if(r=s&-s,r===t.callbackPriority)return r;switch(l!==null&&_n(l),ki(s)){case 2:case 8:s=Ii;break;case 32:s=ei;break;case 268435456:s=Zn;break;default:s=ei}return l=Yy.bind(null,t),s=Jr(s,l),t.callbackPriority=r,t.callbackNode=s,r}return l!==null&&l!==null&&_n(l),t.callbackPriority=2,t.callbackNode=null,2}function Yy(t,r){if(sn!==0&&sn!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(ec()&&t.callbackNode!==s)return null;var l=rt;return l=ti(t,t===Tt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Oy(t,l,r),Ky(t,bn()),t.callbackNode!=null&&t.callbackNode===s?Yy.bind(null,t):null)}function Xy(t,r){if(ec())return null;Oy(t,r,!0)}function iE(){mE(function(){(dt&6)!==0?Jr(Ra,rE):Qy()})}function Wh(){return Ja===0&&(Ja=ni()),Ja}function Zy(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:vs(""+t)}function Wy(t,r){var s=r.ownerDocument.createElement("input");return s.name=r.name,s.value=r.value,t.id&&s.setAttribute("form",t.id),r.parentNode.insertBefore(s,r),t=new FormData(t),s.parentNode.removeChild(s),t}function aE(t,r,s,l,m){if(r==="submit"&&s&&s.stateNode===m){var T=Zy((m[ge]||null).action),N=l.submitter;N&&(r=(r=N[ge]||null)?Zy(r.formAction):N.getAttribute("formAction"),r!==null&&(T=r,N=null));var P=new _s("action","action",null,l,m);t.push({event:P,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ja!==0){var q=N?Wy(m,N):new FormData(m);vh(s,{pending:!0,data:q,method:m.method,action:T},null,q)}}else typeof T=="function"&&(P.preventDefault(),q=N?Wy(m,N):new FormData(m),vh(s,{pending:!0,data:q,method:m.method,action:T},T,q))},currentTarget:m}]})}}for(var Jh=0;Jh<Lf.length;Jh++){var ed=Lf[Jh],sE=ed.toLowerCase(),oE=ed[0].toUpperCase()+ed.slice(1);_r(sE,"on"+oE)}_r(Op,"onAnimationEnd"),_r(Mp,"onAnimationIteration"),_r(Np,"onAnimationStart"),_r("dblclick","onDoubleClick"),_r("focusin","onFocus"),_r("focusout","onBlur"),_r(A2,"onTransitionRun"),_r(S2,"onTransitionStart"),_r(R2,"onTransitionCancel"),_r(Vp,"onTransitionEnd"),wn("onMouseEnter",["mouseout","mouseover"]),wn("onMouseLeave",["mouseout","mouseover"]),wn("onPointerEnter",["pointerout","pointerover"]),wn("onPointerLeave",["pointerout","pointerover"]),Bt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Bt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Bt("onBeforeInput",["compositionend","keypress","textInput","paste"]),Bt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Bt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Bt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ll="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ll));function Jy(t,r){r=(r&4)!==0;for(var s=0;s<t.length;s++){var l=t[s],m=l.event;l=l.listeners;e:{var T=void 0;if(r)for(var N=l.length-1;0<=N;N--){var P=l[N],q=P.instance,ee=P.currentTarget;if(P=P.listener,q!==T&&m.isPropagationStopped())break e;T=P,m.currentTarget=ee;try{T(m)}catch(ae){qu(ae)}m.currentTarget=null,T=q}else for(N=0;N<l.length;N++){if(P=l[N],q=P.instance,ee=P.currentTarget,P=P.listener,q!==T&&m.isPropagationStopped())break e;T=P,m.currentTarget=ee;try{T(m)}catch(ae){qu(ae)}m.currentTarget=null,T=q}}}}function Ze(t,r){var s=r[Me];s===void 0&&(s=r[Me]=new Set);var l=t+"__bubble";s.has(l)||(ev(r,t,2,!1),s.add(l))}function td(t,r,s){var l=0;r&&(l|=4),ev(s,t,l,r)}var rc="_reactListening"+Math.random().toString(36).slice(2);function nd(t){if(!t[rc]){t[rc]=!0,Qe.forEach(function(s){s!=="selectionchange"&&(lE.has(s)||td(s,!1,t),td(s,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[rc]||(r[rc]=!0,td("selectionchange",!1,r))}}function ev(t,r,s,l){switch(Av(r)){case 2:var m=kE;break;case 8:m=jE;break;default:m=gd}s=m.bind(null,r,s,t),m=void 0,!ar||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(m=!0),l?m!==void 0?t.addEventListener(r,s,{capture:!0,passive:m}):t.addEventListener(r,s,!0):m!==void 0?t.addEventListener(r,s,{passive:m}):t.addEventListener(r,s,!1)}function rd(t,r,s,l,m){var T=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var N=l.tag;if(N===3||N===4){var P=l.stateNode.containerInfo;if(P===m)break;if(N===4)for(N=l.return;N!==null;){var q=N.tag;if((q===3||q===4)&&N.stateNode.containerInfo===m)return;N=N.return}for(;P!==null;){if(N=ke(P),N===null)return;if(q=N.tag,q===5||q===6||q===26||q===27){l=T=N;continue e}P=P.parentNode}}l=l.return}au(function(){var ee=T,ae=ir(s),ue=[];e:{var te=kp.get(t);if(te!==void 0){var ne=_s,Ue=t;switch(t){case"keypress":if(kr(s)===0)break e;case"keydown":case"keyup":ne=Ss;break;case"focusin":Ue="focus",ne=ws;break;case"focusout":Ue="blur",ne=ws;break;case"beforeblur":case"afterblur":ne=ws;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ne=sr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ne=Df;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ne=du;break;case Op:case Mp:case Np:ne=Ts;break;case Vp:ne=pu;break;case"scroll":case"scrollend":ne=su;break;case"wheel":ne=Rs;break;case"copy":case"cut":case"paste":ne=As;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ne=Mo;break;case"toggle":case"beforetoggle":ne=yu}var Ve=(r&4)!==0,_t=!Ve&&(t==="scroll"||t==="scrollend"),K=Ve?te!==null?te+"Capture":null:te;Ve=[];for(var G=ee,Z;G!==null;){var oe=G;if(Z=oe.stateNode,oe=oe.tag,oe!==5&&oe!==26&&oe!==27||Z===null||K===null||(oe=Ma(G,K),oe!=null&&Ve.push(ul(G,oe,Z))),_t)break;G=G.return}0<Ve.length&&(te=new ne(te,Ue,null,s,ae),ue.push({event:te,listeners:Ve}))}}if((r&7)===0){e:{if(te=t==="mouseover"||t==="pointerover",ne=t==="mouseout"||t==="pointerout",te&&s!==ai&&(Ue=s.relatedTarget||s.fromElement)&&(ke(Ue)||Ue[Ee]))break e;if((ne||te)&&(te=ae.window===ae?ae:(te=ae.ownerDocument)?te.defaultView||te.parentWindow:window,ne?(Ue=s.relatedTarget||s.toElement,ne=ee,Ue=Ue?ke(Ue):null,Ue!==null&&(_t=u(Ue),Ve=Ue.tag,Ue!==_t||Ve!==5&&Ve!==27&&Ve!==6)&&(Ue=null)):(ne=null,Ue=ee),ne!==Ue)){if(Ve=sr,oe="onMouseLeave",K="onMouseEnter",G="mouse",(t==="pointerout"||t==="pointerover")&&(Ve=Mo,oe="onPointerLeave",K="onPointerEnter",G="pointer"),_t=ne==null?te:ct(ne),Z=Ue==null?te:ct(Ue),te=new Ve(oe,G+"leave",ne,s,ae),te.target=_t,te.relatedTarget=Z,oe=null,ke(ae)===ee&&(Ve=new Ve(K,G+"enter",Ue,s,ae),Ve.target=Z,Ve.relatedTarget=_t,oe=Ve),_t=oe,ne&&Ue)t:{for(Ve=ne,K=Ue,G=0,Z=Ve;Z;Z=Zs(Z))G++;for(Z=0,oe=K;oe;oe=Zs(oe))Z++;for(;0<G-Z;)Ve=Zs(Ve),G--;for(;0<Z-G;)K=Zs(K),Z--;for(;G--;){if(Ve===K||K!==null&&Ve===K.alternate)break t;Ve=Zs(Ve),K=Zs(K)}Ve=null}else Ve=null;ne!==null&&tv(ue,te,ne,Ve,!1),Ue!==null&&_t!==null&&tv(ue,_t,Ue,Ve,!0)}}e:{if(te=ee?ct(ee):window,ne=te.nodeName&&te.nodeName.toLowerCase(),ne==="select"||ne==="input"&&te.type==="file")var Te=bp;else if(Ft(te))if(Ep)Te=E2;else{Te=_2;var Ke=v2}else ne=te.nodeName,!ne||ne.toLowerCase()!=="input"||te.type!=="checkbox"&&te.type!=="radio"?ee&&So(ee.elementType)&&(Te=bp):Te=b2;if(Te&&(Te=Te(t,ee))){ci(ue,Te,s,ae);break e}Ke&&Ke(t,te,ee),t==="focusout"&&ee&&te.type==="number"&&ee.memoizedProps.value!=null&&Li(te,"number",te.value)}switch(Ke=ee?ct(ee):window,t){case"focusin":(Ft(Ke)||Ke.contentEditable==="true")&&(Cs=Ke,Vf=ee,ko=null);break;case"focusout":ko=Vf=Cs=null;break;case"mousedown":kf=!0;break;case"contextmenu":case"mouseup":case"dragend":kf=!1,Dp(ue,s,ae);break;case"selectionchange":if(T2)break;case"keydown":case"keyup":Dp(ue,s,ae)}var Ie;if(Pr)e:{switch(t){case"compositionstart":var je="onCompositionStart";break e;case"compositionend":je="onCompositionEnd";break e;case"compositionupdate":je="onCompositionUpdate";break e}je=void 0}else tt?ie(t,s)&&(je="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(je="onCompositionStart");je&&(M&&s.locale!=="ko"&&(tt||je!=="onCompositionStart"?je==="onCompositionEnd"&&tt&&(Ie=Co()):(Vr=ae,Pi="value"in Vr?Vr.value:Vr.textContent,tt=!0)),Ke=ic(ee,je),0<Ke.length&&(je=new Io(je,t,null,s,ae),ue.push({event:je,listeners:Ke}),Ie?je.data=Ie:(Ie=ve(s),Ie!==null&&(je.data=Ie)))),(Ie=x?qt(t,s):nt(t,s))&&(je=ic(ee,"onBeforeInput"),0<je.length&&(Ke=new Io("onBeforeInput","beforeinput",null,s,ae),ue.push({event:Ke,listeners:je}),Ke.data=Ie)),aE(ue,t,ee,s,ae)}Jy(ue,r)})}function ul(t,r,s){return{instance:t,listener:r,currentTarget:s}}function ic(t,r){for(var s=r+"Capture",l=[];t!==null;){var m=t,T=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||T===null||(m=Ma(t,s),m!=null&&l.unshift(ul(t,m,T)),m=Ma(t,r),m!=null&&l.push(ul(t,m,T))),t.tag===3)return l;t=t.return}return[]}function Zs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function tv(t,r,s,l,m){for(var T=r._reactName,N=[];s!==null&&s!==l;){var P=s,q=P.alternate,ee=P.stateNode;if(P=P.tag,q!==null&&q===l)break;P!==5&&P!==26&&P!==27||ee===null||(q=ee,m?(ee=Ma(s,T),ee!=null&&N.unshift(ul(s,ee,q))):m||(ee=Ma(s,T),ee!=null&&N.push(ul(s,ee,q)))),s=s.return}N.length!==0&&t.push({event:r,listeners:N})}var uE=/\r\n?/g,cE=/\u0000|\uFFFD/g;function nv(t){return(typeof t=="string"?t:""+t).replace(uE,`
`).replace(cE,"")}function rv(t,r){return r=nv(r),nv(t)===r}function ac(){}function vt(t,r,s,l,m,T){switch(s){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||rr(t,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&rr(t,""+l);break;case"className":Tn(t,"class",l);break;case"tabIndex":Tn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Tn(t,s,l);break;case"style":Ao(t,l,T);break;case"data":if(r!=="object"){Tn(t,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||s!=="href")){t.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=vs(""+l),t.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof T=="function"&&(s==="formAction"?(r!=="input"&&vt(t,r,"name",m.name,m,null),vt(t,r,"formEncType",m.formEncType,m,null),vt(t,r,"formMethod",m.formMethod,m,null),vt(t,r,"formTarget",m.formTarget,m,null)):(vt(t,r,"encType",m.encType,m,null),vt(t,r,"method",m.method,m,null),vt(t,r,"target",m.target,m,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=vs(""+l),t.setAttribute(s,l);break;case"onClick":l!=null&&(t.onclick=ac);break;case"onScroll":l!=null&&Ze("scroll",t);break;case"onScrollEnd":l!=null&&Ze("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(m.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}s=vs(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""+l):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":l===!0?t.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,l):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(s,l):t.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(s):t.setAttribute(s,l);break;case"popover":Ze("beforetoggle",t),Ze("toggle",t),dn(t,"popover",l);break;case"xlinkActuate":ze(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":ze(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":ze(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":ze(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":ze(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":ze(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":ze(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":ze(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":ze(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":dn(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=Cf.get(s)||s,dn(t,s,l))}}function id(t,r,s,l,m,T){switch(s){case"style":Ao(t,l,T);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(m.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"children":typeof l=="string"?rr(t,l):(typeof l=="number"||typeof l=="bigint")&&rr(t,""+l);break;case"onScroll":l!=null&&Ze("scroll",t);break;case"onScrollEnd":l!=null&&Ze("scrollend",t);break;case"onClick":l!=null&&(t.onclick=ac);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!tr.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(m=s.endsWith("Capture"),r=s.slice(2,m?s.length-7:void 0),T=t[ge]||null,T=T!=null?T[s]:null,typeof T=="function"&&t.removeEventListener(r,T,m),typeof l=="function")){typeof T!="function"&&T!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(r,l,m);break e}s in t?t[s]=l:l===!0?t.setAttribute(s,""):dn(t,s,l)}}}function on(t,r,s){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ze("error",t),Ze("load",t);var l=!1,m=!1,T;for(T in s)if(s.hasOwnProperty(T)){var N=s[T];if(N!=null)switch(T){case"src":l=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,r));default:vt(t,r,T,N,s,null)}}m&&vt(t,r,"srcSet",s.srcSet,s,null),l&&vt(t,r,"src",s.src,s,null);return;case"input":Ze("invalid",t);var P=T=N=m=null,q=null,ee=null;for(l in s)if(s.hasOwnProperty(l)){var ae=s[l];if(ae!=null)switch(l){case"name":m=ae;break;case"type":N=ae;break;case"checked":q=ae;break;case"defaultChecked":ee=ae;break;case"value":T=ae;break;case"defaultValue":P=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(a(137,r));break;default:vt(t,r,l,ae,s,null)}}Da(t,T,P,q,ee,N,m,!1),ys(t);return;case"select":Ze("invalid",t),l=N=T=null;for(m in s)if(s.hasOwnProperty(m)&&(P=s[m],P!=null))switch(m){case"value":T=P;break;case"defaultValue":N=P;break;case"multiple":l=P;default:vt(t,r,m,P,s,null)}r=T,s=N,t.multiple=!!l,r!=null?ii(t,!!l,r,!1):s!=null&&ii(t,!!l,s,!0);return;case"textarea":Ze("invalid",t),T=m=l=null;for(N in s)if(s.hasOwnProperty(N)&&(P=s[N],P!=null))switch(N){case"value":l=P;break;case"defaultValue":m=P;break;case"children":T=P;break;case"dangerouslySetInnerHTML":if(P!=null)throw Error(a(91));break;default:vt(t,r,N,P,s,null)}Ia(t,l,m,T),ys(t);return;case"option":for(q in s)if(s.hasOwnProperty(q)&&(l=s[q],l!=null))switch(q){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:vt(t,r,q,l,s,null)}return;case"dialog":Ze("beforetoggle",t),Ze("toggle",t),Ze("cancel",t),Ze("close",t);break;case"iframe":case"object":Ze("load",t);break;case"video":case"audio":for(l=0;l<ll.length;l++)Ze(ll[l],t);break;case"image":Ze("error",t),Ze("load",t);break;case"details":Ze("toggle",t);break;case"embed":case"source":case"link":Ze("error",t),Ze("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ee in s)if(s.hasOwnProperty(ee)&&(l=s[ee],l!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,r));default:vt(t,r,ee,l,s,null)}return;default:if(So(r)){for(ae in s)s.hasOwnProperty(ae)&&(l=s[ae],l!==void 0&&id(t,r,ae,l,s,void 0));return}}for(P in s)s.hasOwnProperty(P)&&(l=s[P],l!=null&&vt(t,r,P,l,s,null))}function fE(t,r,s,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,T=null,N=null,P=null,q=null,ee=null,ae=null;for(ne in s){var ue=s[ne];if(s.hasOwnProperty(ne)&&ue!=null)switch(ne){case"checked":break;case"value":break;case"defaultValue":q=ue;default:l.hasOwnProperty(ne)||vt(t,r,ne,null,l,ue)}}for(var te in l){var ne=l[te];if(ue=s[te],l.hasOwnProperty(te)&&(ne!=null||ue!=null))switch(te){case"type":T=ne;break;case"name":m=ne;break;case"checked":ee=ne;break;case"defaultChecked":ae=ne;break;case"value":N=ne;break;case"defaultValue":P=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(a(137,r));break;default:ne!==ue&&vt(t,r,te,ne,l,ue)}}jn(t,N,P,q,ee,ae,T,m);return;case"select":ne=N=P=te=null;for(T in s)if(q=s[T],s.hasOwnProperty(T)&&q!=null)switch(T){case"value":break;case"multiple":ne=q;default:l.hasOwnProperty(T)||vt(t,r,T,null,l,q)}for(m in l)if(T=l[m],q=s[m],l.hasOwnProperty(m)&&(T!=null||q!=null))switch(m){case"value":te=T;break;case"defaultValue":P=T;break;case"multiple":N=T;default:T!==q&&vt(t,r,m,T,l,q)}r=P,s=N,l=ne,te!=null?ii(t,!!s,te,!1):!!l!=!!s&&(r!=null?ii(t,!!s,r,!0):ii(t,!!s,s?[]:"",!1));return;case"textarea":ne=te=null;for(P in s)if(m=s[P],s.hasOwnProperty(P)&&m!=null&&!l.hasOwnProperty(P))switch(P){case"value":break;case"children":break;default:vt(t,r,P,null,l,m)}for(N in l)if(m=l[N],T=s[N],l.hasOwnProperty(N)&&(m!=null||T!=null))switch(N){case"value":te=m;break;case"defaultValue":ne=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(a(91));break;default:m!==T&&vt(t,r,N,m,l,T)}gt(t,te,ne);return;case"option":for(var Ue in s)if(te=s[Ue],s.hasOwnProperty(Ue)&&te!=null&&!l.hasOwnProperty(Ue))switch(Ue){case"selected":t.selected=!1;break;default:vt(t,r,Ue,null,l,te)}for(q in l)if(te=l[q],ne=s[q],l.hasOwnProperty(q)&&te!==ne&&(te!=null||ne!=null))switch(q){case"selected":t.selected=te&&typeof te!="function"&&typeof te!="symbol";break;default:vt(t,r,q,te,l,ne)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ve in s)te=s[Ve],s.hasOwnProperty(Ve)&&te!=null&&!l.hasOwnProperty(Ve)&&vt(t,r,Ve,null,l,te);for(ee in l)if(te=l[ee],ne=s[ee],l.hasOwnProperty(ee)&&te!==ne&&(te!=null||ne!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(a(137,r));break;default:vt(t,r,ee,te,l,ne)}return;default:if(So(r)){for(var _t in s)te=s[_t],s.hasOwnProperty(_t)&&te!==void 0&&!l.hasOwnProperty(_t)&&id(t,r,_t,void 0,l,te);for(ae in l)te=l[ae],ne=s[ae],!l.hasOwnProperty(ae)||te===ne||te===void 0&&ne===void 0||id(t,r,ae,te,l,ne);return}}for(var K in s)te=s[K],s.hasOwnProperty(K)&&te!=null&&!l.hasOwnProperty(K)&&vt(t,r,K,null,l,te);for(ue in l)te=l[ue],ne=s[ue],!l.hasOwnProperty(ue)||te===ne||te==null&&ne==null||vt(t,r,ue,te,l,ne)}var ad=null,sd=null;function sc(t){return t.nodeType===9?t:t.ownerDocument}function iv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function av(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function od(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var ld=null;function hE(){var t=window.event;return t&&t.type==="popstate"?t===ld?!1:(ld=t,!0):(ld=null,!1)}var sv=typeof setTimeout=="function"?setTimeout:void 0,dE=typeof clearTimeout=="function"?clearTimeout:void 0,ov=typeof Promise=="function"?Promise:void 0,mE=typeof queueMicrotask=="function"?queueMicrotask:typeof ov<"u"?function(t){return ov.resolve(null).then(t).catch(pE)}:sv;function pE(t){setTimeout(function(){throw t})}function ea(t){return t==="head"}function lv(t,r){var s=r,l=0,m=0;do{var T=s.nextSibling;if(t.removeChild(s),T&&T.nodeType===8)if(s=T.data,s==="/$"){if(0<l&&8>l){s=l;var N=t.ownerDocument;if(s&1&&cl(N.documentElement),s&2&&cl(N.body),s&4)for(s=N.head,cl(s),N=s.firstChild;N;){var P=N.nextSibling,q=N.nodeName;N[Ne]||q==="SCRIPT"||q==="STYLE"||q==="LINK"&&N.rel.toLowerCase()==="stylesheet"||s.removeChild(N),N=P}}if(m===0){t.removeChild(T),vl(r);return}m--}else s==="$"||s==="$?"||s==="$!"?m++:l=s.charCodeAt(0)-48;else l=0;s=T}while(s);vl(r)}function ud(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var s=r;switch(r=r.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":ud(s),Re(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function gE(t,r,s,l){for(;t.nodeType===1;){var m=s;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Ne])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(T=t.getAttribute("rel"),T==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(T!==m.rel||t.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||t.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||t.getAttribute("title")!==(m.title==null?null:m.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(T=t.getAttribute("src"),(T!==(m.src==null?null:m.src)||t.getAttribute("type")!==(m.type==null?null:m.type)||t.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&T&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var T=m.name==null?null:""+m.name;if(m.type==="hidden"&&t.getAttribute("name")===T)return t}else return t;if(t=Er(t.nextSibling),t===null)break}return null}function yE(t,r,s){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=Er(t.nextSibling),t===null))return null;return t}function cd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function vE(t,r){var s=t.ownerDocument;if(t.data!=="$?"||s.readyState==="complete")r();else{var l=function(){r(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Er(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return t}var fd=null;function uv(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"){if(r===0)return t;r--}else s==="/$"&&r++}t=t.previousSibling}return null}function cv(t,r,s){switch(r=sc(s),t){case"html":if(t=r.documentElement,!t)throw Error(a(452));return t;case"head":if(t=r.head,!t)throw Error(a(453));return t;case"body":if(t=r.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function cl(t){for(var r=t.attributes;r.length;)t.removeAttributeNode(r[0]);Re(t)}var dr=new Map,fv=new Set;function oc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Ti=se.d;se.d={f:_E,r:bE,D:EE,C:wE,L:TE,m:AE,X:RE,S:SE,M:CE};function _E(){var t=Ti.f(),r=Wu();return t||r}function bE(t){var r=Ye(t);r!==null&&r.tag===5&&r.type==="form"?Og(r):Ti.r(t)}var Ws=typeof document>"u"?null:document;function hv(t,r,s){var l=Ws;if(l&&typeof r=="string"&&r){var m=Lt(r);m='link[rel="'+t+'"][href="'+m+'"]',typeof s=="string"&&(m+='[crossorigin="'+s+'"]'),fv.has(m)||(fv.add(m),t={rel:t,crossOrigin:s,href:r},l.querySelector(m)===null&&(r=l.createElement("link"),on(r,"link",t),et(r),l.head.appendChild(r)))}}function EE(t){Ti.D(t),hv("dns-prefetch",t,null)}function wE(t,r){Ti.C(t,r),hv("preconnect",t,r)}function TE(t,r,s){Ti.L(t,r,s);var l=Ws;if(l&&t&&r){var m='link[rel="preload"][as="'+Lt(r)+'"]';r==="image"&&s&&s.imageSrcSet?(m+='[imagesrcset="'+Lt(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(m+='[imagesizes="'+Lt(s.imageSizes)+'"]')):m+='[href="'+Lt(t)+'"]';var T=m;switch(r){case"style":T=Js(t);break;case"script":T=eo(t)}dr.has(T)||(t=E({rel:"preload",href:r==="image"&&s&&s.imageSrcSet?void 0:t,as:r},s),dr.set(T,t),l.querySelector(m)!==null||r==="style"&&l.querySelector(fl(T))||r==="script"&&l.querySelector(hl(T))||(r=l.createElement("link"),on(r,"link",t),et(r),l.head.appendChild(r)))}}function AE(t,r){Ti.m(t,r);var s=Ws;if(s&&t){var l=r&&typeof r.as=="string"?r.as:"script",m='link[rel="modulepreload"][as="'+Lt(l)+'"][href="'+Lt(t)+'"]',T=m;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":T=eo(t)}if(!dr.has(T)&&(t=E({rel:"modulepreload",href:t},r),dr.set(T,t),s.querySelector(m)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(hl(T)))return}l=s.createElement("link"),on(l,"link",t),et(l),s.head.appendChild(l)}}}function SE(t,r,s){Ti.S(t,r,s);var l=Ws;if(l&&t){var m=st(l).hoistableStyles,T=Js(t);r=r||"default";var N=m.get(T);if(!N){var P={loading:0,preload:null};if(N=l.querySelector(fl(T)))P.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":r},s),(s=dr.get(T))&&hd(t,s);var q=N=l.createElement("link");et(q),on(q,"link",t),q._p=new Promise(function(ee,ae){q.onload=ee,q.onerror=ae}),q.addEventListener("load",function(){P.loading|=1}),q.addEventListener("error",function(){P.loading|=2}),P.loading|=4,lc(N,r,l)}N={type:"stylesheet",instance:N,count:1,state:P},m.set(T,N)}}}function RE(t,r){Ti.X(t,r);var s=Ws;if(s&&t){var l=st(s).hoistableScripts,m=eo(t),T=l.get(m);T||(T=s.querySelector(hl(m)),T||(t=E({src:t,async:!0},r),(r=dr.get(m))&&dd(t,r),T=s.createElement("script"),et(T),on(T,"link",t),s.head.appendChild(T)),T={type:"script",instance:T,count:1,state:null},l.set(m,T))}}function CE(t,r){Ti.M(t,r);var s=Ws;if(s&&t){var l=st(s).hoistableScripts,m=eo(t),T=l.get(m);T||(T=s.querySelector(hl(m)),T||(t=E({src:t,async:!0,type:"module"},r),(r=dr.get(m))&&dd(t,r),T=s.createElement("script"),et(T),on(T,"link",t),s.head.appendChild(T)),T={type:"script",instance:T,count:1,state:null},l.set(m,T))}}function dv(t,r,s,l){var m=(m=xe.current)?oc(m):null;if(!m)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(r=Js(s.href),s=st(m).hoistableStyles,l=s.get(r),l||(l={type:"style",instance:null,count:0,state:null},s.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=Js(s.href);var T=st(m).hoistableStyles,N=T.get(t);if(N||(m=m.ownerDocument||m,N={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},T.set(t,N),(T=m.querySelector(fl(t)))&&!T._p&&(N.instance=T,N.state.loading=5),dr.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},dr.set(t,s),T||xE(m,t,s,N.state))),r&&l===null)throw Error(a(528,""));return N}if(r&&l!==null)throw Error(a(529,""));return null;case"script":return r=s.async,s=s.src,typeof s=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=eo(s),s=st(m).hoistableScripts,l=s.get(r),l||(l={type:"script",instance:null,count:0,state:null},s.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function Js(t){return'href="'+Lt(t)+'"'}function fl(t){return'link[rel="stylesheet"]['+t+"]"}function mv(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function xE(t,r,s,l){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=t.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),on(r,"link",s),et(r),t.head.appendChild(r))}function eo(t){return'[src="'+Lt(t)+'"]'}function hl(t){return"script[async]"+t}function pv(t,r,s){if(r.count++,r.instance===null)switch(r.type){case"style":var l=t.querySelector('style[data-href~="'+Lt(s.href)+'"]');if(l)return r.instance=l,et(l),l;var m=E({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),et(l),on(l,"style",m),lc(l,s.precedence,t),r.instance=l;case"stylesheet":m=Js(s.href);var T=t.querySelector(fl(m));if(T)return r.state.loading|=4,r.instance=T,et(T),T;l=mv(s),(m=dr.get(m))&&hd(l,m),T=(t.ownerDocument||t).createElement("link"),et(T);var N=T;return N._p=new Promise(function(P,q){N.onload=P,N.onerror=q}),on(T,"link",l),r.state.loading|=4,lc(T,s.precedence,t),r.instance=T;case"script":return T=eo(s.src),(m=t.querySelector(hl(T)))?(r.instance=m,et(m),m):(l=s,(m=dr.get(T))&&(l=E({},s),dd(l,m)),t=t.ownerDocument||t,m=t.createElement("script"),et(m),on(m,"link",l),t.head.appendChild(m),r.instance=m);case"void":return null;default:throw Error(a(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,lc(l,s.precedence,t));return r.instance}function lc(t,r,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=l.length?l[l.length-1]:null,T=m,N=0;N<l.length;N++){var P=l[N];if(P.dataset.precedence===r)T=P;else if(T!==m)break}T?T.parentNode.insertBefore(t,T.nextSibling):(r=s.nodeType===9?s.head:s,r.insertBefore(t,r.firstChild))}function hd(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.title==null&&(t.title=r.title)}function dd(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.integrity==null&&(t.integrity=r.integrity)}var uc=null;function gv(t,r,s){if(uc===null){var l=new Map,m=uc=new Map;m.set(s,l)}else m=uc,l=m.get(s),l||(l=new Map,m.set(s,l));if(l.has(t))return l;for(l.set(t,null),s=s.getElementsByTagName(t),m=0;m<s.length;m++){var T=s[m];if(!(T[Ne]||T[le]||t==="link"&&T.getAttribute("rel")==="stylesheet")&&T.namespaceURI!=="http://www.w3.org/2000/svg"){var N=T.getAttribute(r)||"";N=t+N;var P=l.get(N);P?P.push(T):l.set(N,[T])}}return l}function yv(t,r,s){t=t.ownerDocument||t,t.head.insertBefore(s,r==="title"?t.querySelector("head > title"):null)}function DE(t,r,s){if(s===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return t=r.disabled,typeof r.precedence=="string"&&t==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function vv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var dl=null;function IE(){}function OE(t,r,s){if(dl===null)throw Error(a(475));var l=dl;if(r.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var m=Js(s.href),T=t.querySelector(fl(m));if(T){t=T._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=cc.bind(l),t.then(l,l)),r.state.loading|=4,r.instance=T,et(T);return}T=t.ownerDocument||t,s=mv(s),(m=dr.get(m))&&hd(s,m),T=T.createElement("link"),et(T);var N=T;N._p=new Promise(function(P,q){N.onload=P,N.onerror=q}),on(T,"link",s),r.instance=T}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(r,t),(t=r.state.preload)&&(r.state.loading&3)===0&&(l.count++,r=cc.bind(l),t.addEventListener("load",r),t.addEventListener("error",r))}}function ME(){if(dl===null)throw Error(a(475));var t=dl;return t.stylesheets&&t.count===0&&md(t,t.stylesheets),0<t.count?function(r){var s=setTimeout(function(){if(t.stylesheets&&md(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(s)}}:null}function cc(){if(this.count--,this.count===0){if(this.stylesheets)md(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var fc=null;function md(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,fc=new Map,r.forEach(NE,t),fc=null,cc.call(t))}function NE(t,r){if(!(r.state.loading&4)){var s=fc.get(t);if(s)var l=s.get(null);else{s=new Map,fc.set(t,s);for(var m=t.querySelectorAll("link[data-precedence],style[data-precedence]"),T=0;T<m.length;T++){var N=m[T];(N.nodeName==="LINK"||N.getAttribute("media")!=="not all")&&(s.set(N.dataset.precedence,N),l=N)}l&&s.set(null,l)}m=r.instance,N=m.getAttribute("data-precedence"),T=s.get(N)||l,T===l&&s.set(null,m),s.set(N,m),this.count++,l=cc.bind(this),m.addEventListener("load",l),m.addEventListener("error",l),T?T.parentNode.insertBefore(m,T.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(m,t.firstChild)),r.state.loading|=4}}var ml={$$typeof:D,Provider:null,Consumer:null,_currentValue:ye,_currentValue2:ye,_threadCount:0};function VE(t,r,s,l,m,T,N,P){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=er(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=er(0),this.hiddenUpdates=er(null),this.identifierPrefix=l,this.onUncaughtError=m,this.onCaughtError=T,this.onRecoverableError=N,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=P,this.incompleteTransitions=new Map}function _v(t,r,s,l,m,T,N,P,q,ee,ae,ue){return t=new VE(t,r,s,N,P,q,ee,ue),r=1,T===!0&&(r|=24),T=Pn(3,null,null,r),t.current=T,T.stateNode=t,r=Yf(),r.refCount++,t.pooledCache=r,r.refCount++,T.memoizedState={element:l,isDehydrated:s,cache:r},Jf(T),t}function bv(t){return t?(t=Os,t):Os}function Ev(t,r,s,l,m,T){m=bv(m),l.context===null?l.context=m:l.pendingContext=m,l=$i(r),l.payload={element:s},T=T===void 0?null:T,T!==null&&(l.callback=T),s=Bi(t,l,r),s!==null&&(qn(s,t,r),Fo(s,t,r))}function wv(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<r?s:r}}function pd(t,r){wv(t,r),(t=t.alternate)&&wv(t,r)}function Tv(t){if(t.tag===13){var r=Is(t,67108864);r!==null&&qn(r,t,67108864),pd(t,67108864)}}var hc=!0;function kE(t,r,s,l){var m=Q.T;Q.T=null;var T=se.p;try{se.p=2,gd(t,r,s,l)}finally{se.p=T,Q.T=m}}function jE(t,r,s,l){var m=Q.T;Q.T=null;var T=se.p;try{se.p=8,gd(t,r,s,l)}finally{se.p=T,Q.T=m}}function gd(t,r,s,l){if(hc){var m=yd(l);if(m===null)rd(t,r,l,dc,s),Sv(t,l);else if(PE(m,t,r,s,l))l.stopPropagation();else if(Sv(t,l),r&4&&-1<LE.indexOf(t)){for(;m!==null;){var T=Ye(m);if(T!==null)switch(T.tag){case 3:if(T=T.stateNode,T.current.memoizedState.isDehydrated){var N=Nn(T.pendingLanes);if(N!==0){var P=T;for(P.pendingLanes|=2,P.entangledLanes|=2;N;){var q=1<<31-kt(N);P.entanglements[1]|=q,N&=~q}Fr(T),(dt&6)===0&&(Xu=bn()+500,ol(0))}}break;case 13:P=Is(T,2),P!==null&&qn(P,T,2),Wu(),pd(T,2)}if(T=yd(l),T===null&&rd(t,r,l,dc,s),T===m)break;m=T}m!==null&&l.stopPropagation()}else rd(t,r,l,null,s)}}function yd(t){return t=ir(t),vd(t)}var dc=null;function vd(t){if(dc=null,t=ke(t),t!==null){var r=u(t);if(r===null)t=null;else{var s=r.tag;if(s===13){if(t=f(r),t!==null)return t;t=null}else if(s===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return dc=t,null}function Av(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Eo()){case Ra:return 2;case Ii:return 8;case ei:case gr:return 32;case Zn:return 268435456;default:return 32}default:return 32}}var _d=!1,ta=null,na=null,ra=null,pl=new Map,gl=new Map,ia=[],LE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Sv(t,r){switch(t){case"focusin":case"focusout":ta=null;break;case"dragenter":case"dragleave":na=null;break;case"mouseover":case"mouseout":ra=null;break;case"pointerover":case"pointerout":pl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":gl.delete(r.pointerId)}}function yl(t,r,s,l,m,T){return t===null||t.nativeEvent!==T?(t={blockedOn:r,domEventName:s,eventSystemFlags:l,nativeEvent:T,targetContainers:[m]},r!==null&&(r=Ye(r),r!==null&&Tv(r)),t):(t.eventSystemFlags|=l,r=t.targetContainers,m!==null&&r.indexOf(m)===-1&&r.push(m),t)}function PE(t,r,s,l,m){switch(r){case"focusin":return ta=yl(ta,t,r,s,l,m),!0;case"dragenter":return na=yl(na,t,r,s,l,m),!0;case"mouseover":return ra=yl(ra,t,r,s,l,m),!0;case"pointerover":var T=m.pointerId;return pl.set(T,yl(pl.get(T)||null,t,r,s,l,m)),!0;case"gotpointercapture":return T=m.pointerId,gl.set(T,yl(gl.get(T)||null,t,r,s,l,m)),!0}return!1}function Rv(t){var r=ke(t.target);if(r!==null){var s=u(r);if(s!==null){if(r=s.tag,r===13){if(r=f(s),r!==null){t.blockedOn=r,Y(t.priority,function(){if(s.tag===13){var l=Bn();l=Ir(l);var m=Is(s,l);m!==null&&qn(m,s,l),pd(s,l)}});return}}else if(r===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function mc(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var s=yd(t.nativeEvent);if(s===null){s=t.nativeEvent;var l=new s.constructor(s.type,s);ai=l,s.target.dispatchEvent(l),ai=null}else return r=Ye(s),r!==null&&Tv(r),t.blockedOn=s,!1;r.shift()}return!0}function Cv(t,r,s){mc(t)&&s.delete(r)}function UE(){_d=!1,ta!==null&&mc(ta)&&(ta=null),na!==null&&mc(na)&&(na=null),ra!==null&&mc(ra)&&(ra=null),pl.forEach(Cv),gl.forEach(Cv)}function pc(t,r){t.blockedOn===r&&(t.blockedOn=null,_d||(_d=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,UE)))}var gc=null;function xv(t){gc!==t&&(gc=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){gc===t&&(gc=null);for(var r=0;r<t.length;r+=3){var s=t[r],l=t[r+1],m=t[r+2];if(typeof l!="function"){if(vd(l||s)===null)continue;break}var T=Ye(s);T!==null&&(t.splice(r,3),r-=3,vh(T,{pending:!0,data:m,method:s.method,action:l},l,m))}}))}function vl(t){function r(q){return pc(q,t)}ta!==null&&pc(ta,t),na!==null&&pc(na,t),ra!==null&&pc(ra,t),pl.forEach(r),gl.forEach(r);for(var s=0;s<ia.length;s++){var l=ia[s];l.blockedOn===t&&(l.blockedOn=null)}for(;0<ia.length&&(s=ia[0],s.blockedOn===null);)Rv(s),s.blockedOn===null&&ia.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var m=s[l],T=s[l+1],N=m[ge]||null;if(typeof T=="function")N||xv(s);else if(N){var P=null;if(T&&T.hasAttribute("formAction")){if(m=T,N=T[ge]||null)P=N.formAction;else if(vd(m)!==null)continue}else P=N.action;typeof P=="function"?s[l+1]=P:(s.splice(l,3),l-=3),xv(s)}}}function bd(t){this._internalRoot=t}yc.prototype.render=bd.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(a(409));var s=r.current,l=Bn();Ev(s,l,t,r,null,null)},yc.prototype.unmount=bd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;Ev(t.current,2,null,t,null,null),Wu(),r[Ee]=null}};function yc(t){this._internalRoot=t}yc.prototype.unstable_scheduleHydration=function(t){if(t){var r=H();t={blockedOn:null,target:t,priority:r};for(var s=0;s<ia.length&&r!==0&&r<ia[s].priority;s++);ia.splice(s,0,t),s===0&&Rv(t)}};var Dv=e.version;if(Dv!=="19.1.0")throw Error(a(527,Dv,"19.1.0"));se.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=p(r),t=t!==null?g(t):null,t=t===null?null:t.stateNode,t};var zE={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vc.isDisabled&&vc.supportsFiber)try{lt=vc.inject(zE),Fe=vc}catch{}}return bl.createRoot=function(t,r){if(!o(t))throw Error(a(299));var s=!1,l="",m=Hg,T=Gg,N=Qg,P=null;return r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(m=r.onUncaughtError),r.onCaughtError!==void 0&&(T=r.onCaughtError),r.onRecoverableError!==void 0&&(N=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(P=r.unstable_transitionCallbacks)),r=_v(t,1,!1,null,null,s,l,m,T,N,P,null),t[Ee]=r.current,nd(t),new bd(r)},bl.hydrateRoot=function(t,r,s){if(!o(t))throw Error(a(299));var l=!1,m="",T=Hg,N=Gg,P=Qg,q=null,ee=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(m=s.identifierPrefix),s.onUncaughtError!==void 0&&(T=s.onUncaughtError),s.onCaughtError!==void 0&&(N=s.onCaughtError),s.onRecoverableError!==void 0&&(P=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(q=s.unstable_transitionCallbacks),s.formState!==void 0&&(ee=s.formState)),r=_v(t,1,!0,r,s??null,l,m,T,N,P,q,ee),r.context=bv(null),s=r.current,l=Bn(),l=Ir(l),m=$i(l),m.callback=null,Bi(s,m,l),s=l,r.current.lanes=s,yr(r,s),Fr(r),t[Ee]=r.current,nd(t),new yc(r)},bl.version="19.1.0",bl}var zv;function XE(){if(zv)return Td.exports;zv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Td.exports=YE(),Td.exports}var ZE=XE(),El={},$v;function WE(){if($v)return El;$v=1,Object.defineProperty(El,"__esModule",{value:!0}),El.parse=f,El.serialize=g;const i=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,a=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const y=function(){};return y.prototype=Object.create(null),y})();function f(y,_){const v=new u,b=y.length;if(b<2)return v;const R=(_==null?void 0:_.decode)||E;let w=0;do{const S=y.indexOf("=",w);if(S===-1)break;const D=y.indexOf(";",w),V=D===-1?b:D;if(S>V){w=y.lastIndexOf(";",S-1)+1;continue}const j=c(y,w,S),k=p(y,S,j),O=y.slice(j,k);if(v[O]===void 0){let A=c(y,S+1,V),C=p(y,V,A);const I=R(y.slice(A,C));v[O]=I}w=V+1}while(w<b);return v}function c(y,_,v){do{const b=y.charCodeAt(_);if(b!==32&&b!==9)return _}while(++_<v);return v}function p(y,_,v){for(;_>v;){const b=y.charCodeAt(--_);if(b!==32&&b!==9)return _+1}return v}function g(y,_,v){const b=(v==null?void 0:v.encode)||encodeURIComponent;if(!i.test(y))throw new TypeError(`argument name is invalid: ${y}`);const R=b(_);if(!e.test(R))throw new TypeError(`argument val is invalid: ${_}`);let w=y+"="+R;if(!v)return w;if(v.maxAge!==void 0){if(!Number.isInteger(v.maxAge))throw new TypeError(`option maxAge is invalid: ${v.maxAge}`);w+="; Max-Age="+v.maxAge}if(v.domain){if(!n.test(v.domain))throw new TypeError(`option domain is invalid: ${v.domain}`);w+="; Domain="+v.domain}if(v.path){if(!a.test(v.path))throw new TypeError(`option path is invalid: ${v.path}`);w+="; Path="+v.path}if(v.expires){if(!d(v.expires)||!Number.isFinite(v.expires.valueOf()))throw new TypeError(`option expires is invalid: ${v.expires}`);w+="; Expires="+v.expires.toUTCString()}if(v.httpOnly&&(w+="; HttpOnly"),v.secure&&(w+="; Secure"),v.partitioned&&(w+="; Partitioned"),v.priority)switch(typeof v.priority=="string"?v.priority.toLowerCase():void 0){case"low":w+="; Priority=Low";break;case"medium":w+="; Priority=Medium";break;case"high":w+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${v.priority}`)}if(v.sameSite)switch(typeof v.sameSite=="string"?v.sameSite.toLowerCase():v.sameSite){case!0:case"strict":w+="; SameSite=Strict";break;case"lax":w+="; SameSite=Lax";break;case"none":w+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${v.sameSite}`)}return w}function E(y){if(y.indexOf("%")===-1)return y;try{return decodeURIComponent(y)}catch{return y}}function d(y){return o.call(y)==="[object Date]"}return El}WE();/**
 * react-router v7.5.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var N0=i=>{throw TypeError(i)},JE=(i,e,n)=>e.has(i)||N0("Cannot "+n),Cd=(i,e,n)=>(JE(i,e,"read from private field"),n?n.call(i):e.get(i)),ew=(i,e,n)=>e.has(i)?N0("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(i):e.set(i,n),Bv="popstate";function tw(i={}){function e(o,u){let{pathname:f="/",search:c="",hash:p=""}=Di(o.location.hash.substring(1));return!f.startsWith("/")&&!f.startsWith(".")&&(f="/"+f),kl("",{pathname:f,search:c,hash:p},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function n(o,u){let f=o.document.querySelector("base"),c="";if(f&&f.getAttribute("href")){let p=o.location.href,g=p.indexOf("#");c=g===-1?p:p.slice(0,g)}return c+"#"+(typeof u=="string"?u:ma(u))}function a(o,u){Vt(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return rw(e,n,a,i)}function We(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Vt(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function nw(){return Math.random().toString(36).substring(2,10)}function qv(i,e){return{usr:i.state,key:i.key,idx:e}}function kl(i,e,n=null,a){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?Di(e):e,state:n,key:e&&e.key||a||nw()}}function ma({pathname:i="/",search:e="",hash:n=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function Di(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substring(n),i=i.substring(0,n));let a=i.indexOf("?");a>=0&&(e.search=i.substring(a),i=i.substring(0,a)),i&&(e.pathname=i)}return e}function rw(i,e,n,a={}){let{window:o=document.defaultView,v5Compat:u=!1}=a,f=o.history,c="POP",p=null,g=E();g==null&&(g=0,f.replaceState({...f.state,idx:g},""));function E(){return(f.state||{idx:null}).idx}function d(){c="POP";let R=E(),w=R==null?null:R-g;g=R,p&&p({action:c,location:b.location,delta:w})}function y(R,w){c="PUSH";let S=kl(b.location,R,w);n&&n(S,R),g=E()+1;let D=qv(S,g),V=b.createHref(S);try{f.pushState(D,"",V)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;o.location.assign(V)}u&&p&&p({action:c,location:b.location,delta:1})}function _(R,w){c="REPLACE";let S=kl(b.location,R,w);n&&n(S,R),g=E();let D=qv(S,g),V=b.createHref(S);f.replaceState(D,"",V),u&&p&&p({action:c,location:b.location,delta:0})}function v(R){let w=o.location.origin!=="null"?o.location.origin:o.location.href,S=typeof R=="string"?R:ma(R);return S=S.replace(/ $/,"%20"),We(w,`No window.location.(origin|href) available to create URL for href: ${S}`),new URL(S,w)}let b={get action(){return c},get location(){return i(o,f)},listen(R){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(Bv,d),p=R,()=>{o.removeEventListener(Bv,d),p=null}},createHref(R){return e(o,R)},createURL:v,encodeLocation(R){let w=v(R);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:y,replace:_,go(R){return f.go(R)}};return b}var Sl,Fv=class{constructor(i){if(ew(this,Sl,new Map),i)for(let[e,n]of i)this.set(e,n)}get(i){if(Cd(this,Sl).has(i))return Cd(this,Sl).get(i);if(i.defaultValue!==void 0)return i.defaultValue;throw new Error("No value found for context")}set(i,e){Cd(this,Sl).set(i,e)}};Sl=new WeakMap;var iw=new Set(["lazy","caseSensitive","path","id","index","children"]);function aw(i){return iw.has(i)}var sw=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function ow(i){return sw.has(i)}function lw(i){return i.index===!0}function jc(i,e,n=[],a={}){return i.map((o,u)=>{let f=[...n,String(u)],c=typeof o.id=="string"?o.id:f.join("-");if(We(o.index!==!0||!o.children,"Cannot specify children on an index route"),We(!a[c],`Found a route id collision on id "${c}".  Route id's must be globally unique within Data Router usages`),lw(o)){let p={...o,...e(o),id:c};return a[c]=p,p}else{let p={...o,...e(o),id:c,children:void 0};return a[c]=p,o.children&&(p.children=jc(o.children,e,f,a)),p}})}function oa(i,e,n="/"){return Cc(i,e,n,!1)}function Cc(i,e,n,a){let o=typeof e=="string"?Di(e):e,u=pr(o.pathname||"/",n);if(u==null)return null;let f=V0(i);cw(f);let c=null;for(let p=0;c==null&&p<f.length;++p){let g=Ew(u);c=_w(f[p],g,a)}return c}function uw(i,e){let{route:n,pathname:a,params:o}=i;return{id:n.id,pathname:a,params:o,data:e[n.id],handle:n.handle}}function V0(i,e=[],n=[],a=""){let o=(u,f,c)=>{let p={relativePath:c===void 0?u.path||"":c,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};p.relativePath.startsWith("/")&&(We(p.relativePath.startsWith(a),`Absolute route path "${p.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(a.length));let g=Gr([a,p.relativePath]),E=n.concat(p);u.children&&u.children.length>0&&(We(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),V0(u.children,e,E,g)),!(u.path==null&&!u.index)&&e.push({path:g,score:yw(g,u.index),routesMeta:E})};return i.forEach((u,f)=>{var c;if(u.path===""||!((c=u.path)!=null&&c.includes("?")))o(u,f);else for(let p of k0(u.path))o(u,f,p)}),e}function k0(i){let e=i.split("/");if(e.length===0)return[];let[n,...a]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(a.length===0)return o?[u,""]:[u];let f=k0(a.join("/")),c=[];return c.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&c.push(...f),c.map(p=>i.startsWith("/")&&p===""?"/":p)}function cw(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:vw(e.routesMeta.map(a=>a.childrenIndex),n.routesMeta.map(a=>a.childrenIndex)))}var fw=/^:[\w-]+$/,hw=3,dw=2,mw=1,pw=10,gw=-2,Hv=i=>i==="*";function yw(i,e){let n=i.split("/"),a=n.length;return n.some(Hv)&&(a+=gw),e&&(a+=dw),n.filter(o=>!Hv(o)).reduce((o,u)=>o+(fw.test(u)?hw:u===""?mw:pw),a)}function vw(i,e){return i.length===e.length&&i.slice(0,-1).every((a,o)=>a===e[o])?i[i.length-1]-e[e.length-1]:0}function _w(i,e,n=!1){let{routesMeta:a}=i,o={},u="/",f=[];for(let c=0;c<a.length;++c){let p=a[c],g=c===a.length-1,E=u==="/"?e:e.slice(u.length)||"/",d=Lc({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},E),y=p.route;if(!d&&g&&n&&!a[a.length-1].route.index&&(d=Lc({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!d)return null;Object.assign(o,d.params),f.push({params:o,pathname:Gr([u,d.pathname]),pathnameBase:Aw(Gr([u,d.pathnameBase])),route:y}),d.pathnameBase!=="/"&&(u=Gr([u,d.pathnameBase]))}return f}function Lc(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,a]=bw(i.path,i.caseSensitive,i.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),c=o.slice(1);return{params:a.reduce((g,{paramName:E,isOptional:d},y)=>{if(E==="*"){let v=c[y]||"";f=u.slice(0,u.length-v.length).replace(/(.)\/+$/,"$1")}const _=c[y];return d&&!_?g[E]=void 0:g[E]=(_||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:f,pattern:i}}function bw(i,e=!1,n=!0){Vt(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let a=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,c,p)=>(a.push({paramName:c,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(a.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),a]}function Ew(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Vt(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function pr(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,a=i.charAt(n);return a&&a!=="/"?null:i.slice(n)||"/"}function ww(i,e="/"){let{pathname:n,search:a="",hash:o=""}=typeof i=="string"?Di(i):i;return{pathname:n?n.startsWith("/")?n:Tw(n,e):e,search:Sw(a),hash:Rw(o)}}function Tw(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function xd(i,e,n,a){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function j0(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function vm(i){let e=j0(i);return e.map((n,a)=>a===e.length-1?n.pathname:n.pathnameBase)}function _m(i,e,n,a=!1){let o;typeof i=="string"?o=Di(i):(o={...i},We(!o.pathname||!o.pathname.includes("?"),xd("?","pathname","search",o)),We(!o.pathname||!o.pathname.includes("#"),xd("#","pathname","hash",o)),We(!o.search||!o.search.includes("#"),xd("#","search","hash",o)));let u=i===""||o.pathname==="",f=u?"/":o.pathname,c;if(f==null)c=n;else{let d=e.length-1;if(!a&&f.startsWith("..")){let y=f.split("/");for(;y[0]==="..";)y.shift(),d-=1;o.pathname=y.join("/")}c=d>=0?e[d]:"/"}let p=ww(o,c),g=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||E)&&(p.pathname+="/"),p}var Gr=i=>i.join("/").replace(/\/\/+/g,"/"),Aw=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),Sw=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,Rw=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i,Pc=class{constructor(i,e,n,a=!1){this.status=i,this.statusText=e||"",this.internal=a,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function jl(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var L0=["POST","PUT","PATCH","DELETE"],Cw=new Set(L0),xw=["GET",...L0],Dw=new Set(xw),Iw=new Set([301,302,303,307,308]),Ow=new Set([307,308]),Dd={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Mw={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},wl={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},bm=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Nw=i=>({hasErrorBoundary:!!i.hasErrorBoundary}),P0="remix-router-transitions",U0=Symbol("ResetLoaderData");function Vw(i){const e=i.window?i.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";We(i.routes.length>0,"You must provide a non-empty routes array to createRouter");let a=i.hydrationRouteProperties||[],o=i.mapRouteProperties||Nw,u={},f=jc(i.routes,o,void 0,u),c,p=i.basename||"/",g=i.dataStrategy||Uw,E={unstable_middleware:!1,...i.future},d=null,y=new Set,_=null,v=null,b=null,R=i.hydrationData!=null,w=oa(f,i.history.location,p),S=!1,D=null;if(w==null&&!i.patchRoutesOnNavigation){let H=mr(404,{pathname:i.history.location.pathname}),{matches:Y,route:J}=r_(f);w=Y,D={[J.id]:H}}w&&!i.hydrationData&&En(w,f,i.history.location.pathname).active&&(w=null);let V;if(w)if(w.some(H=>H.route.lazy))V=!1;else if(!w.some(H=>H.route.loader))V=!0;else{let H=i.hydrationData?i.hydrationData.loaderData:null,Y=i.hydrationData?i.hydrationData.errors:null;if(Y){let J=w.findIndex(le=>Y[le.route.id]!==void 0);V=w.slice(0,J+1).every(le=>!Hd(le.route,H,Y))}else V=w.every(J=>!Hd(J.route,H,Y))}else{V=!1,w=[];let H=En(null,f,i.history.location.pathname);H.active&&H.matches&&(S=!0,w=H.matches)}let j,k={historyAction:i.history.action,location:i.history.location,matches:w,initialized:V,navigation:Dd,restoreScrollPosition:i.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:i.hydrationData&&i.hydrationData.loaderData||{},actionData:i.hydrationData&&i.hydrationData.actionData||null,errors:i.hydrationData&&i.hydrationData.errors||D,fetchers:new Map,blockers:new Map},O="POP",A=!1,C,I=!1,L=new Map,$=null,U=!1,de=!1,pe=new Set,Q=new Map,se=0,ye=-1,Ce=new Map,B=new Set,re=new Map,me=new Map,ce=new Set,_e=new Map,Le,xe=null;function wt(){if(d=i.history.listen(({action:H,location:Y,delta:J})=>{if(Le){Le(),Le=void 0;return}Vt(_e.size===0||J!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let le=Ni({currentLocation:k.location,nextLocation:Y,historyAction:H});if(le&&J!=null){let ge=new Promise(Ee=>{Le=Ee});i.history.go(J*-1),Jn(le,{state:"blocked",location:Y,proceed(){Jn(le,{state:"proceeding",proceed:void 0,reset:void 0,location:Y}),ge.then(()=>i.history.go(J))},reset(){let Ee=new Map(k.blockers);Ee.set(le,wl),St({blockers:Ee})}});return}return _n(H,Y)}),n){Xw(e,L);let H=()=>Zw(e,L);e.addEventListener("pagehide",H),$=()=>e.removeEventListener("pagehide",H)}return k.initialized||_n("POP",k.location,{initialHydration:!0}),j}function pt(){d&&d(),$&&$(),y.clear(),C&&C.abort(),k.fetchers.forEach((H,Y)=>kt(Y)),k.blockers.forEach((H,Y)=>ti(Y))}function Xn(H){return y.add(H),()=>y.delete(H)}function St(H,Y={}){k={...k,...H};let J=[],le=[];k.fetchers.forEach((ge,Ee)=>{ge.state==="idle"&&(ce.has(Ee)?J.push(Ee):le.push(Ee))}),ce.forEach(ge=>{!k.fetchers.has(ge)&&!Q.has(ge)&&J.push(ge)}),[...y].forEach(ge=>ge(k,{deletedFetchers:J,viewTransitionOpts:Y.viewTransitionOpts,flushSync:Y.flushSync===!0})),J.forEach(ge=>kt(ge)),le.forEach(ge=>k.fetchers.delete(ge))}function fn(H,Y,{flushSync:J}={}){var De,Ne;let le=k.actionData!=null&&k.navigation.formMethod!=null&&Hn(k.navigation.formMethod)&&k.navigation.state==="loading"&&((De=H.state)==null?void 0:De._isRedirect)!==!0,ge;Y.actionData?Object.keys(Y.actionData).length>0?ge=Y.actionData:ge=null:le?ge=k.actionData:ge=null;let Ee=Y.loaderData?t_(k.loaderData,Y.loaderData,Y.matches||[],Y.errors):k.loaderData,Me=k.blockers;Me.size>0&&(Me=new Map(Me),Me.forEach((Re,ke)=>Me.set(ke,wl)));let we=A===!0||k.navigation.formMethod!=null&&Hn(k.navigation.formMethod)&&((Ne=H.state)==null?void 0:Ne._isRedirect)!==!0;c&&(f=c,c=void 0),U||O==="POP"||(O==="PUSH"?i.history.push(H,H.state):O==="REPLACE"&&i.history.replace(H,H.state));let Se;if(O==="POP"){let Re=L.get(k.location.pathname);Re&&Re.has(H.pathname)?Se={currentLocation:k.location,nextLocation:H}:L.has(H.pathname)&&(Se={currentLocation:H,nextLocation:k.location})}else if(I){let Re=L.get(k.location.pathname);Re?Re.add(H.pathname):(Re=new Set([H.pathname]),L.set(k.location.pathname,Re)),Se={currentLocation:k.location,nextLocation:H}}St({...Y,actionData:ge,loaderData:Ee,historyAction:O,location:H,initialized:!0,navigation:Dd,revalidation:"idle",restoreScrollPosition:Vi(H,Y.matches||k.matches),preventScrollReset:we,blockers:Me},{viewTransitionOpts:Se,flushSync:J===!0}),O="POP",A=!1,I=!1,U=!1,de=!1,xe==null||xe.resolve(),xe=null}async function Sr(H,Y){if(typeof H=="number"){i.history.go(H);return}let J=Fd(k.location,k.matches,p,H,Y==null?void 0:Y.fromRouteId,Y==null?void 0:Y.relative),{path:le,submission:ge,error:Ee}=Gv(!1,J,Y),Me=k.location,we=kl(k.location,le,Y&&Y.state);we={...we,...i.history.encodeLocation(we)};let Se=Y&&Y.replace!=null?Y.replace:void 0,De="PUSH";Se===!0?De="REPLACE":Se===!1||ge!=null&&Hn(ge.formMethod)&&ge.formAction===k.location.pathname+k.location.search&&(De="REPLACE");let Ne=Y&&"preventScrollReset"in Y?Y.preventScrollReset===!0:void 0,Re=(Y&&Y.flushSync)===!0,ke=Ni({currentLocation:Me,nextLocation:we,historyAction:De});if(ke){Jn(ke,{state:"blocked",location:we,proceed(){Jn(ke,{state:"proceeding",proceed:void 0,reset:void 0,location:we}),Sr(H,Y)},reset(){let Ye=new Map(k.blockers);Ye.set(ke,wl),St({blockers:Ye})}});return}await _n(De,we,{submission:ge,pendingError:Ee,preventScrollReset:Ne,replace:Y&&Y.replace,enableViewTransition:Y&&Y.viewTransition,flushSync:Re})}function Jr(){xe||(xe=Ww()),Mi(),St({revalidation:"loading"});let H=xe.promise;return k.navigation.state==="submitting"?H:k.navigation.state==="idle"?(_n(k.historyAction,k.location,{startUninterruptedRevalidation:!0}),H):(_n(O||k.historyAction,k.navigation.location,{overrideNavigation:k.navigation,enableViewTransition:I===!0}),H)}async function _n(H,Y,J){C&&C.abort(),C=null,O=H,U=(J&&J.startUninterruptedRevalidation)===!0,yr(k.location,k.matches),A=(J&&J.preventScrollReset)===!0,I=(J&&J.enableViewTransition)===!0;let le=c||f,ge=J&&J.overrideNavigation,Ee=J!=null&&J.initialHydration&&k.matches&&k.matches.length>0&&!S?k.matches:oa(le,Y,p),Me=(J&&J.flushSync)===!0;if(Ee&&k.initialized&&!de&&Hw(k.location,Y)&&!(J&&J.submission&&Hn(J.submission.formMethod))){fn(Y,{matches:Ee},{flushSync:Me});return}let we=En(Ee,le,Y.pathname);if(we.active&&we.matches&&(Ee=we.matches),!Ee){let{error:st,notFoundMatches:et,route:Qe}=ni(Y.pathname);fn(Y,{matches:et,loaderData:{},errors:{[Qe.id]:st}},{flushSync:Me});return}C=new AbortController;let Se=no(i.history,Y,C.signal,J&&J.submission),De=new Fv(i.unstable_getContext?await i.unstable_getContext():void 0),Ne;if(J&&J.pendingError)Ne=[ts(Ee).route.id,{type:"error",error:J.pendingError}];else if(J&&J.submission&&Hn(J.submission.formMethod)){let st=await Sa(Se,Y,J.submission,Ee,De,we.active,J&&J.initialHydration===!0,{replace:J.replace,flushSync:Me});if(st.shortCircuited)return;if(st.pendingActionResult){let[et,Qe]=st.pendingActionResult;if(Fn(Qe)&&jl(Qe.error)&&Qe.error.status===404){C=null,fn(Y,{matches:st.matches,loaderData:{},errors:{[et]:Qe.error}});return}}Ee=st.matches||Ee,Ne=st.pendingActionResult,ge=Id(Y,J.submission),Me=!1,we.active=!1,Se=no(i.history,Se.url,Se.signal)}let{shortCircuited:Re,matches:ke,loaderData:Ye,errors:ct}=await ps(Se,Y,Ee,De,we.active,ge,J&&J.submission,J&&J.fetcherSubmission,J&&J.replace,J&&J.initialHydration===!0,Me,Ne);Re||(C=null,fn(Y,{matches:ke||Ee,...n_(Ne),loaderData:Ye,errors:ct}))}async function Sa(H,Y,J,le,ge,Ee,Me,we={}){Mi();let Se=Kw(Y,J);if(St({navigation:Se},{flushSync:we.flushSync===!0}),Ee){let Re=await Dr(le,Y.pathname,H.signal);if(Re.type==="aborted")return{shortCircuited:!0};if(Re.type==="error"){let ke=ts(Re.partialMatches).route.id;return{matches:Re.partialMatches,pendingActionResult:[ke,{type:"error",error:Re.error}]}}else if(Re.matches)le=Re.matches;else{let{notFoundMatches:ke,error:Ye,route:ct}=ni(Y.pathname);return{matches:ke,pendingActionResult:[ct.id,{type:"error",error:Ye}]}}}let De,Ne=Rl(le,Y);if(!Ne.route.action&&!Ne.route.lazy)De={type:"error",error:mr(405,{method:H.method,pathname:Y.pathname,routeId:Ne.route.id})};else{let Re=oo(o,u,H,le,Ne,Me?[]:a,ge),ke=await Zn(H,Re,ge,null);if(De=ke[Ne.route.id],!De){for(let Ye of le)if(ke[Ye.route.id]){De=ke[Ye.route.id];break}}if(H.signal.aborted)return{shortCircuited:!0}}if(ns(De)){let Re;return we&&we.replace!=null?Re=we.replace:Re=Wv(De.response.headers.get("Location"),new URL(H.url),p)===k.location.pathname+k.location.search,await gr(H,De,!0,{submission:J,replace:Re}),{shortCircuited:!0}}if(Fn(De)){let Re=ts(le,Ne.route.id);return(we&&we.replace)!==!0&&(O="PUSH"),{matches:le,pendingActionResult:[Re.route.id,De,Ne.route.id]}}return{matches:le,pendingActionResult:[Ne.route.id,De]}}async function ps(H,Y,J,le,ge,Ee,Me,we,Se,De,Ne,Re){let ke=Ee||Id(Y,Me),Ye=Me||we||a_(ke),ct=!U&&!De;if(ge){if(ct){let jt=bn(Re);St({navigation:ke,...jt!==void 0?{actionData:jt}:{}},{flushSync:Ne})}let ze=await Dr(J,Y.pathname,H.signal);if(ze.type==="aborted")return{shortCircuited:!0};if(ze.type==="error"){let jt=ts(ze.partialMatches).route.id;return{matches:ze.partialMatches,loaderData:{},errors:{[jt]:ze.error}}}else if(ze.matches)J=ze.matches;else{let{error:jt,notFoundMatches:kn,route:Rn}=ni(Y.pathname);return{matches:kn,loaderData:{},errors:{[Rn.id]:jt}}}}let st=c||f,{dsMatches:et,revalidatingFetchers:Qe}=Qv(H,le,o,u,i.history,k,J,Ye,Y,De?[]:a,De===!0,de,pe,ce,re,B,st,p,Re);if(ye=++se,!i.dataStrategy&&!et.some(ze=>ze.shouldLoad)&&Qe.length===0){let ze=Cr();return fn(Y,{matches:J,loaderData:{},errors:Re&&Fn(Re[1])?{[Re[0]]:Re[1].error}:null,...n_(Re),...ze?{fetchers:new Map(k.fetchers)}:{}},{flushSync:Ne}),{shortCircuited:!0}}if(ct){let ze={};if(!ge){ze.navigation=ke;let jt=bn(Re);jt!==void 0&&(ze.actionData=jt)}Qe.length>0&&(ze.fetchers=Eo(Qe)),St(ze,{flushSync:Ne})}Qe.forEach(ze=>{Wn(ze.key),ze.controller&&Q.set(ze.key,ze.controller)});let tr=()=>Qe.forEach(ze=>Wn(ze.key));C&&C.signal.addEventListener("abort",tr);let{loaderResults:Bt,fetcherResults:wn}=await Oi(et,Qe,H,le);if(H.signal.aborted)return{shortCircuited:!0};C&&C.signal.removeEventListener("abort",tr),Qe.forEach(ze=>Q.delete(ze.key));let tn=_c(Bt);if(tn)return await gr(H,tn.result,!0,{replace:Se}),{shortCircuited:!0};if(tn=_c(wn),tn)return B.add(tn.key),await gr(H,tn.result,!0,{replace:Se}),{shortCircuited:!0};let{loaderData:Or,errors:Vn}=e_(k,J,Bt,Re,Qe,wn);De&&k.errors&&(Vn={...k.errors,...Vn});let ji=Cr(),dn=xr(ye),Tn=ji||dn||Qe.length>0;return{matches:J,loaderData:Or,errors:Vn,...Tn?{fetchers:new Map(k.fetchers)}:{}}}function bn(H){if(H&&!Fn(H[1]))return{[H[0]]:H[1].data};if(k.actionData)return Object.keys(k.actionData).length===0?null:k.actionData}function Eo(H){return H.forEach(Y=>{let J=k.fetchers.get(Y.key),le=Tl(void 0,J?J.data:void 0);k.fetchers.set(Y.key,le)}),new Map(k.fetchers)}async function Ra(H,Y,J,le){Wn(H);let ge=(le&&le.flushSync)===!0,Ee=c||f,Me=Fd(k.location,k.matches,p,J,Y,le==null?void 0:le.relative),we=oa(Ee,Me,p),Se=En(we,Ee,Me);if(Se.active&&Se.matches&&(we=Se.matches),!we){Fe(H,Y,mr(404,{pathname:Me}),{flushSync:ge});return}let{path:De,submission:Ne,error:Re}=Gv(!0,Me,le);if(Re){Fe(H,Y,Re,{flushSync:ge});return}let ke=Rl(we,De),Ye=new Fv(i.unstable_getContext?await i.unstable_getContext():void 0),ct=(le&&le.preventScrollReset)===!0;if(Ne&&Hn(Ne.formMethod)){await Ii(H,Y,De,ke,we,Ye,Se.active,ge,ct,Ne);return}re.set(H,{routeId:Y,path:De}),await ei(H,Y,De,ke,we,Ye,Se.active,ge,ct,Ne)}async function Ii(H,Y,J,le,ge,Ee,Me,we,Se,De){Mi(),re.delete(H);function Ne(bt){if(!bt.route.action&&!bt.route.lazy){let nr=mr(405,{method:De.formMethod,pathname:J,routeId:Y});return Fe(H,Y,nr,{flushSync:we}),!0}return!1}if(!Me&&Ne(le))return;let Re=k.fetchers.get(H);lt(H,Yw(De,Re),{flushSync:we});let ke=new AbortController,Ye=no(i.history,J,ke.signal,De);if(Me){let bt=await Dr(ge,J,Ye.signal,H);if(bt.type==="aborted")return;if(bt.type==="error"){Fe(H,Y,bt.error,{flushSync:we});return}else if(bt.matches){if(ge=bt.matches,le=Rl(ge,J),Ne(le))return}else{Fe(H,Y,mr(404,{pathname:J}),{flushSync:we});return}}Q.set(H,ke);let ct=se,st=oo(o,u,Ye,ge,le,a,Ee),Qe=(await Zn(Ye,st,Ee,H))[le.route.id];if(Ye.signal.aborted){Q.get(H)===ke&&Q.delete(H);return}if(ce.has(H)){if(ns(Qe)||Fn(Qe)){lt(H,sa(void 0));return}}else{if(ns(Qe))if(Q.delete(H),ye>ct){lt(H,sa(void 0));return}else return B.add(H),lt(H,Tl(De)),gr(Ye,Qe,!1,{fetcherSubmission:De,preventScrollReset:Se});if(Fn(Qe)){Fe(H,Y,Qe.error);return}}let tr=k.navigation.location||k.location,Bt=no(i.history,tr,ke.signal),wn=c||f,tn=k.navigation.state!=="idle"?oa(wn,k.navigation.location,p):k.matches;We(tn,"Didn't find any matches after fetcher action");let Or=++se;Ce.set(H,Or);let Vn=Tl(De,Qe.data);k.fetchers.set(H,Vn);let{dsMatches:ji,revalidatingFetchers:dn}=Qv(Bt,Ee,o,u,i.history,k,tn,De,tr,a,!1,de,pe,ce,re,B,wn,p,[le.route.id,Qe]);dn.filter(bt=>bt.key!==H).forEach(bt=>{let nr=bt.key,ri=k.fetchers.get(nr),nn=Tl(void 0,ri?ri.data:void 0);k.fetchers.set(nr,nn),Wn(nr),bt.controller&&Q.set(nr,bt.controller)}),St({fetchers:new Map(k.fetchers)});let Tn=()=>dn.forEach(bt=>Wn(bt.key));ke.signal.addEventListener("abort",Tn);let{loaderResults:ze,fetcherResults:jt}=await Oi(ji,dn,Bt,Ee);if(ke.signal.aborted)return;ke.signal.removeEventListener("abort",Tn),Ce.delete(H),Q.delete(H),dn.forEach(bt=>Q.delete(bt.key));let kn=_c(ze);if(kn)return gr(Bt,kn.result,!1,{preventScrollReset:Se});if(kn=_c(jt),kn)return B.add(kn.key),gr(Bt,kn.result,!1,{preventScrollReset:Se});let{loaderData:Rn,errors:Mr}=e_(k,tn,ze,void 0,dn,jt);if(k.fetchers.has(H)){let bt=sa(Qe.data);k.fetchers.set(H,bt)}xr(Or),k.navigation.state==="loading"&&Or>ye?(We(O,"Expected pending action"),C&&C.abort(),fn(k.navigation.location,{matches:tn,loaderData:Rn,errors:Mr,fetchers:new Map(k.fetchers)})):(St({errors:Mr,loaderData:t_(k.loaderData,Rn,tn,Mr),fetchers:new Map(k.fetchers)}),de=!1)}async function ei(H,Y,J,le,ge,Ee,Me,we,Se,De){let Ne=k.fetchers.get(H);lt(H,Tl(De,Ne?Ne.data:void 0),{flushSync:we});let Re=new AbortController,ke=no(i.history,J,Re.signal);if(Me){let Qe=await Dr(ge,J,ke.signal,H);if(Qe.type==="aborted")return;if(Qe.type==="error"){Fe(H,Y,Qe.error,{flushSync:we});return}else if(Qe.matches)ge=Qe.matches,le=Rl(ge,J);else{Fe(H,Y,mr(404,{pathname:J}),{flushSync:we});return}}Q.set(H,Re);let Ye=se,ct=oo(o,u,ke,ge,le,a,Ee),et=(await Zn(ke,ct,Ee,H))[le.route.id];if(Q.get(H)===Re&&Q.delete(H),!ke.signal.aborted){if(ce.has(H)){lt(H,sa(void 0));return}if(ns(et))if(ye>Ye){lt(H,sa(void 0));return}else{B.add(H),await gr(ke,et,!1,{preventScrollReset:Se});return}if(Fn(et)){Fe(H,Y,et.error);return}lt(H,sa(et.data))}}async function gr(H,Y,J,{submission:le,fetcherSubmission:ge,preventScrollReset:Ee,replace:Me}={}){Y.response.headers.has("X-Remix-Revalidate")&&(de=!0);let we=Y.response.headers.get("Location");We(we,"Expected a Location header on the redirect Response"),we=Wv(we,new URL(H.url),p);let Se=kl(k.location,we,{_isRedirect:!0});if(n){let ct=!1;if(Y.response.headers.has("X-Remix-Reload-Document"))ct=!0;else if(bm.test(we)){const st=i.history.createURL(we);ct=st.origin!==e.location.origin||pr(st.pathname,p)==null}if(ct){Me?e.location.replace(we):e.location.assign(we);return}}C=null;let De=Me===!0||Y.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Ne,formAction:Re,formEncType:ke}=k.navigation;!le&&!ge&&Ne&&Re&&ke&&(le=a_(k.navigation));let Ye=le||ge;if(Ow.has(Y.response.status)&&Ye&&Hn(Ye.formMethod))await _n(De,Se,{submission:{...Ye,formAction:we},preventScrollReset:Ee||A,enableViewTransition:J?I:void 0});else{let ct=Id(Se,le);await _n(De,Se,{overrideNavigation:ct,fetcherSubmission:ge,preventScrollReset:Ee||A,enableViewTransition:J?I:void 0})}}async function Zn(H,Y,J,le){let ge,Ee={};try{ge=await zw(g,H,Y,le,J,!1)}catch(Me){return Y.filter(we=>we.shouldLoad).forEach(we=>{Ee[we.route.id]={type:"error",error:Me}}),Ee}for(let[Me,we]of Object.entries(ge))if(Gw(we)){let Se=we.result;Ee[Me]={type:"redirect",response:qw(Se,H,Me,Y,p)}}else Ee[Me]=await Bw(we);return Ee}async function Oi(H,Y,J,le){let ge=Zn(J,H,le,null),Ee=Promise.all(Y.map(async Se=>{if(Se.matches&&Se.match&&Se.request&&Se.controller){let Ne=(await Zn(Se.request,Se.matches,le,Se.key))[Se.match.route.id];return{[Se.key]:Ne}}else return Promise.resolve({[Se.key]:{type:"error",error:mr(404,{pathname:Se.path})}})})),Me=await ge,we=(await Ee).reduce((Se,De)=>Object.assign(Se,De),{});return{loaderResults:Me,fetcherResults:we}}function Mi(){de=!0,re.forEach((H,Y)=>{Q.has(Y)&&pe.add(Y),Wn(Y)})}function lt(H,Y,J={}){k.fetchers.set(H,Y),St({fetchers:new Map(k.fetchers)},{flushSync:(J&&J.flushSync)===!0})}function Fe(H,Y,J,le={}){let ge=ts(k.matches,Y);kt(H),St({errors:{[ge.route.id]:J},fetchers:new Map(k.fetchers)},{flushSync:(le&&le.flushSync)===!0})}function hn(H){return me.set(H,(me.get(H)||0)+1),ce.has(H)&&ce.delete(H),k.fetchers.get(H)||Mw}function kt(H){let Y=k.fetchers.get(H);Q.has(H)&&!(Y&&Y.state==="loading"&&Ce.has(H))&&Wn(H),re.delete(H),Ce.delete(H),B.delete(H),ce.delete(H),pe.delete(H),k.fetchers.delete(H)}function gs(H){let Y=(me.get(H)||0)-1;Y<=0?(me.delete(H),ce.add(H)):me.set(H,Y),St({fetchers:new Map(k.fetchers)})}function Wn(H){let Y=Q.get(H);Y&&(Y.abort(),Q.delete(H))}function Rr(H){for(let Y of H){let J=hn(Y),le=sa(J.data);k.fetchers.set(Y,le)}}function Cr(){let H=[],Y=!1;for(let J of B){let le=k.fetchers.get(J);We(le,`Expected fetcher: ${J}`),le.state==="loading"&&(B.delete(J),H.push(J),Y=!0)}return Rr(H),Y}function xr(H){let Y=[];for(let[J,le]of Ce)if(le<H){let ge=k.fetchers.get(J);We(ge,`Expected fetcher: ${J}`),ge.state==="loading"&&(Wn(J),Ce.delete(J),Y.push(J))}return Rr(Y),Y.length>0}function Nn(H,Y){let J=k.blockers.get(H)||wl;return _e.get(H)!==Y&&_e.set(H,Y),J}function ti(H){k.blockers.delete(H),_e.delete(H)}function Jn(H,Y){let J=k.blockers.get(H)||wl;We(J.state==="unblocked"&&Y.state==="blocked"||J.state==="blocked"&&Y.state==="blocked"||J.state==="blocked"&&Y.state==="proceeding"||J.state==="blocked"&&Y.state==="unblocked"||J.state==="proceeding"&&Y.state==="unblocked",`Invalid blocker state transition: ${J.state} -> ${Y.state}`);let le=new Map(k.blockers);le.set(H,Y),St({blockers:le})}function Ni({currentLocation:H,nextLocation:Y,historyAction:J}){if(_e.size===0)return;_e.size>1&&Vt(!1,"A router only supports one blocker at a time");let le=Array.from(_e.entries()),[ge,Ee]=le[le.length-1],Me=k.blockers.get(ge);if(!(Me&&Me.state==="proceeding")&&Ee({currentLocation:H,nextLocation:Y,historyAction:J}))return ge}function ni(H){let Y=mr(404,{pathname:H}),J=c||f,{matches:le,route:ge}=r_(J);return{notFoundMatches:le,route:ge,error:Y}}function Ca(H,Y,J){if(_=H,b=Y,v=J||null,!R&&k.navigation===Dd){R=!0;let le=Vi(k.location,k.matches);le!=null&&St({restoreScrollPosition:le})}return()=>{_=null,b=null,v=null}}function er(H,Y){return v&&v(H,Y.map(le=>uw(le,k.loaderData)))||H.key}function yr(H,Y){if(_&&b){let J=er(H,Y);_[J]=b()}}function Vi(H,Y){if(_){let J=er(H,Y),le=_[J];if(typeof le=="number")return le}return null}function En(H,Y,J){if(i.patchRoutesOnNavigation)if(H){if(Object.keys(H[0].params).length>0)return{active:!0,matches:Cc(Y,J,p,!0)}}else return{active:!0,matches:Cc(Y,J,p,!0)||[]};return{active:!1,matches:null}}async function Dr(H,Y,J,le){if(!i.patchRoutesOnNavigation)return{type:"success",matches:H};let ge=H;for(;;){let Ee=c==null,Me=c||f,we=u;try{await i.patchRoutesOnNavigation({signal:J,path:Y,matches:ge,fetcherKey:le,patch:(Ne,Re)=>{J.aborted||Kv(Ne,Re,Me,we,o)}})}catch(Ne){return{type:"error",error:Ne,partialMatches:ge}}finally{Ee&&!J.aborted&&(f=[...f])}if(J.aborted)return{type:"aborted"};let Se=oa(Me,Y,p);if(Se)return{type:"success",matches:Se};let De=Cc(Me,Y,p,!0);if(!De||ge.length===De.length&&ge.every((Ne,Re)=>Ne.route.id===De[Re].route.id))return{type:"success",matches:null};ge=De}}function Ir(H){u={},c=jc(H,o,void 0,u)}function ki(H,Y){let J=c==null;Kv(H,Y,c||f,u,o),J&&(f=[...f],St({}))}return j={get basename(){return p},get future(){return E},get state(){return k},get routes(){return f},get window(){return e},initialize:wt,subscribe:Xn,enableScrollRestoration:Ca,navigate:Sr,fetch:Ra,revalidate:Jr,createHref:H=>i.history.createHref(H),encodeLocation:H=>i.history.encodeLocation(H),getFetcher:hn,deleteFetcher:gs,dispose:pt,getBlocker:Nn,deleteBlocker:ti,patchRoutes:ki,_internalFetchControllers:Q,_internalSetRoutes:Ir},j}function kw(i){return i!=null&&("formData"in i&&i.formData!=null||"body"in i&&i.body!==void 0)}function Fd(i,e,n,a,o,u){let f,c;if(o){f=[];for(let g of e)if(f.push(g),g.route.id===o){c=g;break}}else f=e,c=e[e.length-1];let p=_m(a||".",vm(f),pr(i.pathname,n)||i.pathname,u==="path");if(a==null&&(p.search=i.search,p.hash=i.hash),(a==null||a===""||a===".")&&c){let g=Em(p.search);if(c.route.index&&!g)p.search=p.search?p.search.replace(/^\?/,"?index&"):"?index";else if(!c.route.index&&g){let E=new URLSearchParams(p.search),d=E.getAll("index");E.delete("index"),d.filter(_=>_).forEach(_=>E.append("index",_));let y=E.toString();p.search=y?`?${y}`:""}}return n!=="/"&&(p.pathname=p.pathname==="/"?n:Gr([n,p.pathname])),ma(p)}function Gv(i,e,n){if(!n||!kw(n))return{path:e};if(n.formMethod&&!Qw(n.formMethod))return{path:e,error:mr(405,{method:n.formMethod})};let a=()=>({path:e,error:mr(400,{type:"invalid-body"})}),u=(n.formMethod||"get").toUpperCase(),f=H0(e);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!Hn(u))return a();let d=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((y,[_,v])=>`${y}${_}=${v}
`,""):String(n.body);return{path:e,submission:{formMethod:u,formAction:f,formEncType:n.formEncType,formData:void 0,json:void 0,text:d}}}else if(n.formEncType==="application/json"){if(!Hn(u))return a();try{let d=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:e,submission:{formMethod:u,formAction:f,formEncType:n.formEncType,formData:void 0,json:d,text:void 0}}}catch{return a()}}}We(typeof FormData=="function","FormData is not available in this environment");let c,p;if(n.formData)c=Qd(n.formData),p=n.formData;else if(n.body instanceof FormData)c=Qd(n.body),p=n.body;else if(n.body instanceof URLSearchParams)c=n.body,p=Jv(c);else if(n.body==null)c=new URLSearchParams,p=new FormData;else try{c=new URLSearchParams(n.body),p=Jv(c)}catch{return a()}let g={formMethod:u,formAction:f,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:p,json:void 0,text:void 0};if(Hn(g.formMethod))return{path:e,submission:g};let E=Di(e);return i&&E.search&&Em(E.search)&&c.append("index",""),E.search=`?${c}`,{path:ma(E),submission:g}}function Qv(i,e,n,a,o,u,f,c,p,g,E,d,y,_,v,b,R,w,S){var $;let D=S?Fn(S[1])?S[1].error:S[1].data:void 0,V=o.createURL(u.location),j=o.createURL(p),k;if(E&&u.errors){let U=Object.keys(u.errors)[0];k=f.findIndex(de=>de.route.id===U)}else if(S&&Fn(S[1])){let U=S[0];k=f.findIndex(de=>de.route.id===U)-1}let O=S?S[1].statusCode:void 0,A=O&&O>=400,C={currentUrl:V,currentParams:(($=u.matches[0])==null?void 0:$.params)||{},nextUrl:j,nextParams:f[0].params,...c,actionResult:D,actionStatus:O},I=f.map((U,de)=>{let{route:pe}=U,Q=null;if(k!=null&&de>k?Q=!1:pe.lazy?Q=!0:pe.loader==null?Q=!1:E?Q=Hd(pe,u.loaderData,u.errors):jw(u.loaderData,u.matches[de],U)&&(Q=!0),Q!==null)return Gd(n,a,i,U,g,e,Q);let se=A?!1:d||V.pathname+V.search===j.pathname+j.search||V.search!==j.search||Lw(u.matches[de],U),ye={...C,defaultShouldRevalidate:se},Ce=Uc(U,ye);return Gd(n,a,i,U,g,e,Ce,ye)}),L=[];return v.forEach((U,de)=>{if(E||!f.some(re=>re.route.id===U.routeId)||_.has(de))return;let pe=oa(R,U.path,w);if(!pe){L.push({key:de,routeId:U.routeId,path:U.path,matches:null,match:null,request:null,controller:null});return}if(b.has(de))return;let Q=u.fetchers.get(de),se=Rl(pe,U.path),ye=new AbortController,Ce=no(o,U.path,ye.signal),B=null;if(y.has(de))y.delete(de),B=oo(n,a,Ce,pe,se,g,e);else if(Q&&Q.state!=="idle"&&Q.data===void 0)d&&(B=oo(n,a,Ce,pe,se,g,e));else{let re={...C,defaultShouldRevalidate:A?!1:d};Uc(se,re)&&(B=oo(n,a,Ce,pe,se,g,e,re))}B&&L.push({key:de,routeId:U.routeId,path:U.path,matches:B,match:se,request:Ce,controller:ye})}),{dsMatches:I,revalidatingFetchers:L}}function Hd(i,e,n){if(i.lazy)return!0;if(!i.loader)return!1;let a=e!=null&&e[i.id]!==void 0,o=n!=null&&n[i.id]!==void 0;return!a&&o?!1:typeof i.loader=="function"&&i.loader.hydrate===!0?!0:!a&&!o}function jw(i,e,n){let a=!e||n.route.id!==e.route.id,o=!i.hasOwnProperty(n.route.id);return a||o}function Lw(i,e){let n=i.route.path;return i.pathname!==e.pathname||n!=null&&n.endsWith("*")&&i.params["*"]!==e.params["*"]}function Uc(i,e){if(i.route.shouldRevalidate){let n=i.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function Kv(i,e,n,a,o){let u;if(i){let p=a[i];We(p,`No route found to patch children into: routeId = ${i}`),p.children||(p.children=[]),u=p.children}else u=n;let f=e.filter(p=>!u.some(g=>z0(p,g))),c=jc(f,o,[i||"_","patch",String((u==null?void 0:u.length)||"0")],a);u.push(...c)}function z0(i,e){return"id"in i&&"id"in e&&i.id===e.id?!0:i.index===e.index&&i.path===e.path&&i.caseSensitive===e.caseSensitive?(!i.children||i.children.length===0)&&(!e.children||e.children.length===0)?!0:i.children.every((n,a)=>{var o;return(o=e.children)==null?void 0:o.some(u=>z0(n,u))}):!1}var Yv=new WeakMap,$0=({key:i,route:e,manifest:n,mapRouteProperties:a})=>{let o=n[e.id];if(We(o,"No route found in manifest"),!o.lazy||typeof o.lazy!="object")return;let u=o.lazy[i];if(!u)return;let f=Yv.get(o);f||(f={},Yv.set(o,f));let c=f[i];if(c)return c;let p=(async()=>{let g=aw(i),d=o[i]!==void 0&&i!=="hasErrorBoundary";if(g)Vt(!g,"Route property "+i+" is not a supported lazy route property. This property will be ignored."),f[i]=Promise.resolve();else if(d)Vt(!1,`Route "${o.id}" has a static property "${i}" defined. The lazy property will be ignored.`);else{let y=await u();y!=null&&(Object.assign(o,{[i]:y}),Object.assign(o,a(o)))}typeof o.lazy=="object"&&(o.lazy[i]=void 0,Object.values(o.lazy).every(y=>y===void 0)&&(o.lazy=void 0))})();return f[i]=p,p},Xv=new WeakMap;function Pw(i,e,n,a,o){let u=n[i.id];if(We(u,"No route found in manifest"),!i.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof i.lazy=="function"){let E=Xv.get(u);if(E)return{lazyRoutePromise:E,lazyHandlerPromise:E};let d=(async()=>{We(typeof i.lazy=="function","No lazy route function found");let y=await i.lazy(),_={};for(let v in y){let b=y[v];if(b===void 0)continue;let R=ow(v),S=u[v]!==void 0&&v!=="hasErrorBoundary";R?Vt(!R,"Route property "+v+" is not a supported property to be returned from a lazy route function. This property will be ignored."):S?Vt(!S,`Route "${u.id}" has a static property "${v}" defined but its lazy function is also returning a value for this property. The lazy route property "${v}" will be ignored.`):_[v]=b}Object.assign(u,_),Object.assign(u,{...a(u),lazy:void 0})})();return Xv.set(u,d),d.catch(()=>{}),{lazyRoutePromise:d,lazyHandlerPromise:d}}let f=Object.keys(i.lazy),c=[],p;for(let E of f){if(o&&o.includes(E))continue;let d=$0({key:E,route:i,manifest:n,mapRouteProperties:a});d&&(c.push(d),E===e&&(p=d))}let g=c.length>0?Promise.all(c).then(()=>{}):void 0;return g==null||g.catch(()=>{}),p==null||p.catch(()=>{}),{lazyRoutePromise:g,lazyHandlerPromise:p}}async function Zv(i){let e=i.matches.filter(o=>o.shouldLoad),n={};return(await Promise.all(e.map(o=>o.resolve()))).forEach((o,u)=>{n[e[u].route.id]=o}),n}async function Uw(i){return i.matches.some(e=>e.route.unstable_middleware)?B0(i,!1,()=>Zv(i),(e,n)=>({[n]:{type:"error",result:e}})):Zv(i)}async function B0(i,e,n,a){let{matches:o,request:u,params:f,context:c}=i,p={handlerResult:void 0};try{let g=o.flatMap(d=>d.route.unstable_middleware?d.route.unstable_middleware.map(y=>[d.route.id,y]):[]),E=await q0({request:u,params:f,context:c},g,e,p,n);return e?E:p.handlerResult}catch(g){if(!p.middlewareError)throw g;let E=await a(p.middlewareError.error,p.middlewareError.routeId);return p.handlerResult?Object.assign(p.handlerResult,E):E}}async function q0(i,e,n,a,o,u=0){let{request:f}=i;if(f.signal.aborted)throw f.signal.reason?f.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${f.method} ${f.url}`);let c=e[u];if(!c)return a.handlerResult=await o(),a.handlerResult;let[p,g]=c,E=!1,d,y=async()=>{if(E)throw new Error("You may only call `next()` once per middleware");E=!0,await q0(i,e,n,a,o,u+1)};try{let _=await g({request:i.request,params:i.params,context:i.context},y);return E?_===void 0?d:_:y()}catch(_){throw a.middlewareError?a.middlewareError.error!==_&&(a.middlewareError={routeId:p,error:_}):a.middlewareError={routeId:p,error:_},_}}function F0(i,e,n,a,o){let u=$0({key:"unstable_middleware",route:a.route,manifest:e,mapRouteProperties:i}),f=Pw(a.route,Hn(n.method)?"action":"loader",e,i,o);return{middleware:u,route:f.lazyRoutePromise,handler:f.lazyHandlerPromise}}function Gd(i,e,n,a,o,u,f,c=null){let p=!1,g=F0(i,e,n,a,o);return{...a,_lazyPromises:g,shouldLoad:f,unstable_shouldRevalidateArgs:c,unstable_shouldCallHandler(E){return p=!0,c?typeof E=="boolean"?Uc(a,{...c,defaultShouldRevalidate:E}):Uc(a,c):f},resolve(E){return p||f||E&&n.method==="GET"&&(a.route.lazy||a.route.loader)?$w({request:n,match:a,lazyHandlerPromise:g==null?void 0:g.handler,lazyRoutePromise:g==null?void 0:g.route,handlerOverride:E,scopedContext:u}):Promise.resolve({type:"data",result:void 0})}}}function oo(i,e,n,a,o,u,f,c=null){return a.map(p=>p.route.id!==o.route.id?{...p,shouldLoad:!1,unstable_shouldRevalidateArgs:c,unstable_shouldCallHandler:()=>!1,_lazyPromises:F0(i,e,n,p,u),resolve:()=>Promise.resolve({type:"data",result:void 0})}:Gd(i,e,n,p,u,f,!0,c))}async function zw(i,e,n,a,o,u){n.some(g=>{var E;return(E=g._lazyPromises)==null?void 0:E.middleware})&&await Promise.all(n.map(g=>{var E;return(E=g._lazyPromises)==null?void 0:E.middleware}));let f={request:e,params:n[0].params,context:o,matches:n},p=await i({...f,fetcherKey:a,unstable_runClientMiddleware:g=>{let E=f;return B0(E,!1,()=>g({...E,fetcherKey:a,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}}),(d,y)=>({[y]:{type:"error",result:d}}))}});try{await Promise.all(n.flatMap(g=>{var E,d;return[(E=g._lazyPromises)==null?void 0:E.handler,(d=g._lazyPromises)==null?void 0:d.route]}))}catch{}return p}async function $w({request:i,match:e,lazyHandlerPromise:n,lazyRoutePromise:a,handlerOverride:o,scopedContext:u}){let f,c,p=Hn(i.method),g=p?"action":"loader",E=d=>{let y,_=new Promise((R,w)=>y=w);c=()=>y(),i.signal.addEventListener("abort",c);let v=R=>typeof d!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${g}" [routeId: ${e.route.id}]`)):d({request:i,params:e.params,context:u},...R!==void 0?[R]:[]),b=(async()=>{try{return{type:"data",result:await(o?o(w=>v(w)):v())}}catch(R){return{type:"error",result:R}}})();return Promise.race([b,_])};try{let d=p?e.route.action:e.route.loader;if(n||a)if(d){let y,[_]=await Promise.all([E(d).catch(v=>{y=v}),n,a]);if(y!==void 0)throw y;f=_}else{await n;let y=p?e.route.action:e.route.loader;if(y)[f]=await Promise.all([E(y),a]);else if(g==="action"){let _=new URL(i.url),v=_.pathname+_.search;throw mr(405,{method:i.method,pathname:v,routeId:e.route.id})}else return{type:"data",result:void 0}}else if(d)f=await E(d);else{let y=new URL(i.url),_=y.pathname+y.search;throw mr(404,{pathname:_})}}catch(d){return{type:"error",result:d}}finally{c&&i.signal.removeEventListener("abort",c)}return f}async function Bw(i){var a,o,u,f,c,p;let{result:e,type:n}=i;if(G0(e)){let g;try{let E=e.headers.get("Content-Type");E&&/\bapplication\/json\b/.test(E)?e.body==null?g=null:g=await e.json():g=await e.text()}catch(E){return{type:"error",error:E}}return n==="error"?{type:"error",error:new Pc(e.status,e.statusText,g),statusCode:e.status,headers:e.headers}:{type:"data",data:g,statusCode:e.status,headers:e.headers}}return n==="error"?i_(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:(a=e.init)==null?void 0:a.status,headers:(o=e.init)!=null&&o.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new Pc(((u=e.init)==null?void 0:u.status)||500,void 0,e.data),statusCode:jl(e)?e.status:void 0,headers:(f=e.init)!=null&&f.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:jl(e)?e.status:void 0}:i_(e)?{type:"data",data:e.data,statusCode:(c=e.init)==null?void 0:c.status,headers:(p=e.init)!=null&&p.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function qw(i,e,n,a,o){let u=i.headers.get("Location");if(We(u,"Redirects returned/thrown from loaders/actions must have a Location header"),!bm.test(u)){let f=a.slice(0,a.findIndex(c=>c.route.id===n)+1);u=Fd(new URL(e.url),f,o,u),i.headers.set("Location",u)}return i}function Wv(i,e,n){if(bm.test(i)){let a=i,o=a.startsWith("//")?new URL(e.protocol+a):new URL(a),u=pr(o.pathname,n)!=null;if(o.origin===e.origin&&u)return o.pathname+o.search+o.hash}return i}function no(i,e,n,a){let o=i.createURL(H0(e)).toString(),u={signal:n};if(a&&Hn(a.formMethod)){let{formMethod:f,formEncType:c}=a;u.method=f.toUpperCase(),c==="application/json"?(u.headers=new Headers({"Content-Type":c}),u.body=JSON.stringify(a.json)):c==="text/plain"?u.body=a.text:c==="application/x-www-form-urlencoded"&&a.formData?u.body=Qd(a.formData):u.body=a.formData}return new Request(o,u)}function Qd(i){let e=new URLSearchParams;for(let[n,a]of i.entries())e.append(n,typeof a=="string"?a:a.name);return e}function Jv(i){let e=new FormData;for(let[n,a]of i.entries())e.append(n,a);return e}function Fw(i,e,n,a=!1,o=!1){let u={},f=null,c,p=!1,g={},E=n&&Fn(n[1])?n[1].error:void 0;return i.forEach(d=>{if(!(d.route.id in e))return;let y=d.route.id,_=e[y];if(We(!ns(_),"Cannot handle redirect results in processLoaderData"),Fn(_)){let v=_.error;if(E!==void 0&&(v=E,E=void 0),f=f||{},o)f[y]=v;else{let b=ts(i,y);f[b.route.id]==null&&(f[b.route.id]=v)}a||(u[y]=U0),p||(p=!0,c=jl(_.error)?_.error.status:500),_.headers&&(g[y]=_.headers)}else u[y]=_.data,_.statusCode&&_.statusCode!==200&&!p&&(c=_.statusCode),_.headers&&(g[y]=_.headers)}),E!==void 0&&n&&(f={[n[0]]:E},n[2]&&(u[n[2]]=void 0)),{loaderData:u,errors:f,statusCode:c||200,loaderHeaders:g}}function e_(i,e,n,a,o,u){let{loaderData:f,errors:c}=Fw(e,n,a);return o.filter(p=>!p.matches||p.matches.some(g=>g.shouldLoad)).forEach(p=>{let{key:g,match:E,controller:d}=p,y=u[g];if(We(y,"Did not find corresponding fetcher result"),!(d&&d.signal.aborted))if(Fn(y)){let _=ts(i.matches,E==null?void 0:E.route.id);c&&c[_.route.id]||(c={...c,[_.route.id]:y.error}),i.fetchers.delete(g)}else if(ns(y))We(!1,"Unhandled fetcher revalidation redirect");else{let _=sa(y.data);i.fetchers.set(g,_)}}),{loaderData:f,errors:c}}function t_(i,e,n,a){let o=Object.entries(e).filter(([,u])=>u!==U0).reduce((u,[f,c])=>(u[f]=c,u),{});for(let u of n){let f=u.route.id;if(!e.hasOwnProperty(f)&&i.hasOwnProperty(f)&&u.route.loader&&(o[f]=i[f]),a&&a.hasOwnProperty(f))break}return o}function n_(i){return i?Fn(i[1])?{actionData:{}}:{actionData:{[i[0]]:i[1].data}}:{}}function ts(i,e){return(e?i.slice(0,i.findIndex(a=>a.route.id===e)+1):[...i]).reverse().find(a=>a.route.hasErrorBoundary===!0)||i[0]}function r_(i){let e=i.length===1?i[0]:i.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function mr(i,{pathname:e,routeId:n,method:a,type:o,message:u}={}){let f="Unknown Server Error",c="Unknown @remix-run/router error";return i===400?(f="Bad Request",a&&e&&n?c=`You made a ${a} request to "${e}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:o==="invalid-body"&&(c="Unable to encode submission body")):i===403?(f="Forbidden",c=`Route "${n}" does not match URL "${e}"`):i===404?(f="Not Found",c=`No route matches URL "${e}"`):i===405&&(f="Method Not Allowed",a&&e&&n?c=`You made a ${a.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:a&&(c=`Invalid request method "${a.toUpperCase()}"`)),new Pc(i||500,f,new Error(c),!0)}function _c(i){let e=Object.entries(i);for(let n=e.length-1;n>=0;n--){let[a,o]=e[n];if(ns(o))return{key:a,result:o}}}function H0(i){let e=typeof i=="string"?Di(i):i;return ma({...e,hash:""})}function Hw(i,e){return i.pathname!==e.pathname||i.search!==e.search?!1:i.hash===""?e.hash!=="":i.hash===e.hash?!0:e.hash!==""}function Gw(i){return G0(i.result)&&Iw.has(i.result.status)}function Fn(i){return i.type==="error"}function ns(i){return(i&&i.type)==="redirect"}function i_(i){return typeof i=="object"&&i!=null&&"type"in i&&"data"in i&&"init"in i&&i.type==="DataWithResponseInit"}function G0(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.headers=="object"&&typeof i.body<"u"}function Qw(i){return Dw.has(i.toUpperCase())}function Hn(i){return Cw.has(i.toUpperCase())}function Em(i){return new URLSearchParams(i).getAll("index").some(e=>e==="")}function Rl(i,e){let n=typeof e=="string"?Di(e).search:e.search;if(i[i.length-1].route.index&&Em(n||""))return i[i.length-1];let a=j0(i);return a[a.length-1]}function a_(i){let{formMethod:e,formAction:n,formEncType:a,text:o,formData:u,json:f}=i;if(!(!e||!n||!a)){if(o!=null)return{formMethod:e,formAction:n,formEncType:a,formData:void 0,json:void 0,text:o};if(u!=null)return{formMethod:e,formAction:n,formEncType:a,formData:u,json:void 0,text:void 0};if(f!==void 0)return{formMethod:e,formAction:n,formEncType:a,formData:void 0,json:f,text:void 0}}}function Id(i,e){return e?{state:"loading",location:i,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:i,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function Kw(i,e){return{state:"submitting",location:i,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Tl(i,e){return i?{state:"loading",formMethod:i.formMethod,formAction:i.formAction,formEncType:i.formEncType,formData:i.formData,json:i.json,text:i.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function Yw(i,e){return{state:"submitting",formMethod:i.formMethod,formAction:i.formAction,formEncType:i.formEncType,formData:i.formData,json:i.json,text:i.text,data:e?e.data:void 0}}function sa(i){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:i}}function Xw(i,e){try{let n=i.sessionStorage.getItem(P0);if(n){let a=JSON.parse(n);for(let[o,u]of Object.entries(a||{}))u&&Array.isArray(u)&&e.set(o,new Set(u||[]))}}catch{}}function Zw(i,e){if(e.size>0){let n={};for(let[a,o]of e)n[a]=[...o];try{i.sessionStorage.setItem(P0,JSON.stringify(n))}catch(a){Vt(!1,`Failed to save applied view transitions in sessionStorage (${a}).`)}}}function Ww(){let i,e,n=new Promise((a,o)=>{i=async u=>{a(u);try{await n}catch{}},e=async u=>{o(u);try{await n}catch{}}});return{promise:n,resolve:i,reject:e}}var cs=W.createContext(null);cs.displayName="DataRouter";var Hl=W.createContext(null);Hl.displayName="DataRouterState";var wm=W.createContext({isTransitioning:!1});wm.displayName="ViewTransition";var Q0=W.createContext(new Map);Q0.displayName="Fetchers";var Jw=W.createContext(null);Jw.displayName="Await";var Zr=W.createContext(null);Zr.displayName="Navigation";var rf=W.createContext(null);rf.displayName="Location";var Wr=W.createContext({outlet:null,matches:[],isDataRoute:!1});Wr.displayName="Route";var Tm=W.createContext(null);Tm.displayName="RouteError";function eT(i,{relative:e}={}){We(Gl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:a}=W.useContext(Zr),{hash:o,pathname:u,search:f}=Ql(i,{relative:e}),c=u;return n!=="/"&&(c=u==="/"?n:Gr([n,u])),a.createHref({pathname:c,search:f,hash:o})}function Gl(){return W.useContext(rf)!=null}function fs(){return We(Gl(),"useLocation() may be used only in the context of a <Router> component."),W.useContext(rf).location}var K0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Y0(i){W.useContext(Zr).static||W.useLayoutEffect(i)}function X0(){let{isDataRoute:i}=W.useContext(Wr);return i?pT():tT()}function tT(){We(Gl(),"useNavigate() may be used only in the context of a <Router> component.");let i=W.useContext(cs),{basename:e,navigator:n}=W.useContext(Zr),{matches:a}=W.useContext(Wr),{pathname:o}=fs(),u=JSON.stringify(vm(a)),f=W.useRef(!1);return Y0(()=>{f.current=!0}),W.useCallback((p,g={})=>{if(Vt(f.current,K0),!f.current)return;if(typeof p=="number"){n.go(p);return}let E=_m(p,JSON.parse(u),o,g.relative==="path");i==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:Gr([e,E.pathname])),(g.replace?n.replace:n.push)(E,g.state,g)},[e,n,u,o,i])}var nT=W.createContext(null);function rT(i){let e=W.useContext(Wr).outlet;return e&&W.createElement(nT.Provider,{value:i},e)}function Ql(i,{relative:e}={}){let{matches:n}=W.useContext(Wr),{pathname:a}=fs(),o=JSON.stringify(vm(n));return W.useMemo(()=>_m(i,JSON.parse(o),a,e==="path"),[i,o,a,e])}function iT(i,e,n,a){We(Gl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:u}=W.useContext(Zr),{matches:f}=W.useContext(Wr),c=f[f.length-1],p=c?c.params:{},g=c?c.pathname:"/",E=c?c.pathnameBase:"/",d=c&&c.route;{let S=d&&d.path||"";Z0(g,!d||S.endsWith("*")||S.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${S}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${S}"> to <Route path="${S==="/"?"*":`${S}/*`}">.`)}let y=fs(),_;_=y;let v=_.pathname||"/",b=v;if(E!=="/"){let S=E.replace(/^\//,"").split("/");b="/"+v.replace(/^\//,"").split("/").slice(S.length).join("/")}let R=!u&&n&&n.matches&&n.matches.length>0?n.matches:oa(i,{pathname:b});return Vt(d||R!=null,`No routes matched location "${_.pathname}${_.search}${_.hash}" `),Vt(R==null||R[R.length-1].route.element!==void 0||R[R.length-1].route.Component!==void 0||R[R.length-1].route.lazy!==void 0,`Matched leaf route at location "${_.pathname}${_.search}${_.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),uT(R&&R.map(S=>Object.assign({},S,{params:Object.assign({},p,S.params),pathname:Gr([E,o.encodeLocation?o.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?E:Gr([E,o.encodeLocation?o.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),f,n,a)}function aT(){let i=mT(),e=jl(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,a="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:a},u={padding:"2px 4px",backgroundColor:a},f=null;return console.error("Error handled by React Router default ErrorBoundary:",i),f=W.createElement(W.Fragment,null,W.createElement("p",null," Hey developer "),W.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",W.createElement("code",{style:u},"ErrorBoundary")," or"," ",W.createElement("code",{style:u},"errorElement")," prop on your route.")),W.createElement(W.Fragment,null,W.createElement("h2",null,"Unexpected Application Error!"),W.createElement("h3",{style:{fontStyle:"italic"}},e),n?W.createElement("pre",{style:o},n):null,f)}var sT=W.createElement(aT,null),oT=class extends W.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){console.error("React Router caught the following error during render",i,e)}render(){return this.state.error!==void 0?W.createElement(Wr.Provider,{value:this.props.routeContext},W.createElement(Tm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function lT({routeContext:i,match:e,children:n}){let a=W.useContext(cs);return a&&a.static&&a.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=e.route.id),W.createElement(Wr.Provider,{value:i},n)}function uT(i,e=[],n=null,a=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let o=i,u=n==null?void 0:n.errors;if(u!=null){let p=o.findIndex(g=>g.route.id&&(u==null?void 0:u[g.route.id])!==void 0);We(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let f=!1,c=-1;if(n)for(let p=0;p<o.length;p++){let g=o[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(c=p),g.route.id){let{loaderData:E,errors:d}=n,y=g.route.loader&&!E.hasOwnProperty(g.route.id)&&(!d||d[g.route.id]===void 0);if(g.route.lazy||y){f=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((p,g,E)=>{let d,y=!1,_=null,v=null;n&&(d=u&&g.route.id?u[g.route.id]:void 0,_=g.route.errorElement||sT,f&&(c<0&&E===0?(Z0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),y=!0,v=null):c===E&&(y=!0,v=g.route.hydrateFallbackElement||null)));let b=e.concat(o.slice(0,E+1)),R=()=>{let w;return d?w=_:y?w=v:g.route.Component?w=W.createElement(g.route.Component,null):g.route.element?w=g.route.element:w=p,W.createElement(lT,{match:g,routeContext:{outlet:p,matches:b,isDataRoute:n!=null},children:w})};return n&&(g.route.ErrorBoundary||g.route.errorElement||E===0)?W.createElement(oT,{location:n.location,revalidation:n.revalidation,component:_,error:d,children:R(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):R()},null)}function Am(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function cT(i){let e=W.useContext(cs);return We(e,Am(i)),e}function fT(i){let e=W.useContext(Hl);return We(e,Am(i)),e}function hT(i){let e=W.useContext(Wr);return We(e,Am(i)),e}function Sm(i){let e=hT(i),n=e.matches[e.matches.length-1];return We(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function dT(){return Sm("useRouteId")}function mT(){var a;let i=W.useContext(Tm),e=fT("useRouteError"),n=Sm("useRouteError");return i!==void 0?i:(a=e.errors)==null?void 0:a[n]}function pT(){let{router:i}=cT("useNavigate"),e=Sm("useNavigate"),n=W.useRef(!1);return Y0(()=>{n.current=!0}),W.useCallback(async(o,u={})=>{Vt(n.current,K0),n.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:e,...u}))},[i,e])}var s_={};function Z0(i,e,n){!e&&!s_[i]&&(s_[i]=!0,Vt(!1,n))}var o_={};function l_(i,e){!i&&!o_[e]&&(o_[e]=!0,console.warn(e))}function gT(i){let e={hasErrorBoundary:i.hasErrorBoundary||i.ErrorBoundary!=null||i.errorElement!=null};return i.Component&&(i.element&&Vt(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:W.createElement(i.Component),Component:void 0})),i.HydrateFallback&&(i.hydrateFallbackElement&&Vt(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:W.createElement(i.HydrateFallback),HydrateFallback:void 0})),i.ErrorBoundary&&(i.errorElement&&Vt(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:W.createElement(i.ErrorBoundary),ErrorBoundary:void 0})),e}var yT=["HydrateFallback","hydrateFallbackElement"],vT=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=a=>{this.status==="pending"&&(this.status="resolved",e(a))},this.reject=a=>{this.status==="pending"&&(this.status="rejected",n(a))}})}};function _T({router:i,flushSync:e}){let[n,a]=W.useState(i.state),[o,u]=W.useState(),[f,c]=W.useState({isTransitioning:!1}),[p,g]=W.useState(),[E,d]=W.useState(),[y,_]=W.useState(),v=W.useRef(new Map),b=W.useCallback((D,{deletedFetchers:V,flushSync:j,viewTransitionOpts:k})=>{D.fetchers.forEach((A,C)=>{A.data!==void 0&&v.current.set(C,A.data)}),V.forEach(A=>v.current.delete(A)),l_(j===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let O=i.window!=null&&i.window.document!=null&&typeof i.window.document.startViewTransition=="function";if(l_(k==null||O,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!k||!O){e&&j?e(()=>a(D)):W.startTransition(()=>a(D));return}if(e&&j){e(()=>{E&&(p&&p.resolve(),E.skipTransition()),c({isTransitioning:!0,flushSync:!0,currentLocation:k.currentLocation,nextLocation:k.nextLocation})});let A=i.window.document.startViewTransition(()=>{e(()=>a(D))});A.finished.finally(()=>{e(()=>{g(void 0),d(void 0),u(void 0),c({isTransitioning:!1})})}),e(()=>d(A));return}E?(p&&p.resolve(),E.skipTransition(),_({state:D,currentLocation:k.currentLocation,nextLocation:k.nextLocation})):(u(D),c({isTransitioning:!0,flushSync:!1,currentLocation:k.currentLocation,nextLocation:k.nextLocation}))},[i.window,e,E,p]);W.useLayoutEffect(()=>i.subscribe(b),[i,b]),W.useEffect(()=>{f.isTransitioning&&!f.flushSync&&g(new vT)},[f]),W.useEffect(()=>{if(p&&o&&i.window){let D=o,V=p.promise,j=i.window.document.startViewTransition(async()=>{W.startTransition(()=>a(D)),await V});j.finished.finally(()=>{g(void 0),d(void 0),u(void 0),c({isTransitioning:!1})}),d(j)}},[o,p,i.window]),W.useEffect(()=>{p&&o&&n.location.key===o.location.key&&p.resolve()},[p,E,n.location,o]),W.useEffect(()=>{!f.isTransitioning&&y&&(u(y.state),c({isTransitioning:!0,flushSync:!1,currentLocation:y.currentLocation,nextLocation:y.nextLocation}),_(void 0))},[f.isTransitioning,y]);let R=W.useMemo(()=>({createHref:i.createHref,encodeLocation:i.encodeLocation,go:D=>i.navigate(D),push:(D,V,j)=>i.navigate(D,{state:V,preventScrollReset:j==null?void 0:j.preventScrollReset}),replace:(D,V,j)=>i.navigate(D,{replace:!0,state:V,preventScrollReset:j==null?void 0:j.preventScrollReset})}),[i]),w=i.basename||"/",S=W.useMemo(()=>({router:i,navigator:R,static:!1,basename:w}),[i,R,w]);return W.createElement(W.Fragment,null,W.createElement(cs.Provider,{value:S},W.createElement(Hl.Provider,{value:n},W.createElement(Q0.Provider,{value:v.current},W.createElement(wm.Provider,{value:f},W.createElement(TT,{basename:w,location:n.location,navigationType:n.historyAction,navigator:R},W.createElement(bT,{routes:i.routes,future:i.future,state:n})))))),null)}var bT=W.memo(ET);function ET({routes:i,future:e,state:n}){return iT(i,void 0,n,e)}function wT(i){return rT(i.context)}function TT({basename:i="/",children:e=null,location:n,navigationType:a="POP",navigator:o,static:u=!1}){We(!Gl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=i.replace(/^\/*/,"/"),c=W.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=Di(n));let{pathname:p="/",search:g="",hash:E="",state:d=null,key:y="default"}=n,_=W.useMemo(()=>{let v=pr(p,f);return v==null?null:{location:{pathname:v,search:g,hash:E,state:d,key:y},navigationType:a}},[f,p,g,E,d,y,a]);return Vt(_!=null,`<Router basename="${f}"> is not able to match the URL "${p}${g}${E}" because it does not start with the basename, so the <Router> won't render anything.`),_==null?null:W.createElement(Zr.Provider,{value:c},W.createElement(rf.Provider,{children:e,value:_}))}var xc="get",Dc="application/x-www-form-urlencoded";function af(i){return i!=null&&typeof i.tagName=="string"}function AT(i){return af(i)&&i.tagName.toLowerCase()==="button"}function ST(i){return af(i)&&i.tagName.toLowerCase()==="form"}function RT(i){return af(i)&&i.tagName.toLowerCase()==="input"}function CT(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function xT(i,e){return i.button===0&&(!e||e==="_self")&&!CT(i)}var bc=null;function DT(){if(bc===null)try{new FormData(document.createElement("form"),0),bc=!1}catch{bc=!0}return bc}var IT=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Od(i){return i!=null&&!IT.has(i)?(Vt(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Dc}"`),null):i}function OT(i,e){let n,a,o,u,f;if(ST(i)){let c=i.getAttribute("action");a=c?pr(c,e):null,n=i.getAttribute("method")||xc,o=Od(i.getAttribute("enctype"))||Dc,u=new FormData(i)}else if(AT(i)||RT(i)&&(i.type==="submit"||i.type==="image")){let c=i.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=i.getAttribute("formaction")||c.getAttribute("action");if(a=p?pr(p,e):null,n=i.getAttribute("formmethod")||c.getAttribute("method")||xc,o=Od(i.getAttribute("formenctype"))||Od(c.getAttribute("enctype"))||Dc,u=new FormData(c,i),!DT()){let{name:g,type:E,value:d}=i;if(E==="image"){let y=g?`${g}.`:"";u.append(`${y}x`,"0"),u.append(`${y}y`,"0")}else g&&u.append(g,d)}}else{if(af(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=xc,a=null,o=Dc,f=i}return u&&o==="text/plain"&&(f=u,u=void 0),{action:a,method:n.toLowerCase(),encType:o,formData:u,body:f}}function Rm(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}async function MT(i,e){if(i.id in e)return e[i.id];try{let n=await import(i.module);return e[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function NT(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function VT(i,e,n){let a=await Promise.all(i.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await MT(u,n);return f.links?f.links():[]}return[]}));return PT(a.flat(1).filter(NT).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function u_(i,e,n,a,o,u){let f=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,c=(p,g)=>{var E;return n[g].pathname!==p.pathname||((E=n[g].route.path)==null?void 0:E.endsWith("*"))&&n[g].params["*"]!==p.params["*"]};return u==="assets"?e.filter((p,g)=>f(p,g)||c(p,g)):u==="data"?e.filter((p,g)=>{var d;let E=a.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(f(p,g)||c(p,g))return!0;if(p.route.shouldRevalidate){let y=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((d=n[0])==null?void 0:d.params)||{},nextUrl:new URL(i,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function kT(i,e,{includeHydrateFallback:n}={}){return jT(i.map(a=>{let o=e.routes[a.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function jT(i){return[...new Set(i)]}function LT(i){let e={},n=Object.keys(i).sort();for(let a of n)e[a]=i[a];return e}function PT(i,e){let n=new Set;return new Set(e),i.reduce((a,o)=>{let u=JSON.stringify(LT(o));return n.has(u)||(n.add(u),a.push({key:u,link:o})),a},[])}var UT=new Set([100,101,204,205]);function zT(i,e){let n=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return n.pathname==="/"?n.pathname="_root.data":e&&pr(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function W0(){let i=W.useContext(cs);return Rm(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function $T(){let i=W.useContext(Hl);return Rm(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Cm=W.createContext(void 0);Cm.displayName="FrameworkContext";function J0(){let i=W.useContext(Cm);return Rm(i,"You must render this element inside a <HydratedRouter> element"),i}function BT(i,e){let n=W.useContext(Cm),[a,o]=W.useState(!1),[u,f]=W.useState(!1),{onFocus:c,onBlur:p,onMouseEnter:g,onMouseLeave:E,onTouchStart:d}=e,y=W.useRef(null);W.useEffect(()=>{if(i==="render"&&f(!0),i==="viewport"){let b=w=>{w.forEach(S=>{f(S.isIntersecting)})},R=new IntersectionObserver(b,{threshold:.5});return y.current&&R.observe(y.current),()=>{R.disconnect()}}},[i]),W.useEffect(()=>{if(a){let b=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(b)}}},[a]);let _=()=>{o(!0)},v=()=>{o(!1),f(!1)};return n?i!=="intent"?[u,y,{}]:[u,y,{onFocus:Al(c,_),onBlur:Al(p,v),onMouseEnter:Al(g,_),onMouseLeave:Al(E,v),onTouchStart:Al(d,_)}]:[!1,y,{}]}function Al(i,e){return n=>{i&&i(n),n.defaultPrevented||e(n)}}function qT({page:i,...e}){let{router:n}=W0(),a=W.useMemo(()=>oa(n.routes,i,n.basename),[n.routes,i,n.basename]);return a?W.createElement(HT,{page:i,matches:a,...e}):null}function FT(i){let{manifest:e,routeModules:n}=J0(),[a,o]=W.useState([]);return W.useEffect(()=>{let u=!1;return VT(i,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[i,e,n]),a}function HT({page:i,matches:e,...n}){let a=fs(),{manifest:o,routeModules:u}=J0(),{basename:f}=W0(),{loaderData:c,matches:p}=$T(),g=W.useMemo(()=>u_(i,e,p,o,a,"data"),[i,e,p,o,a]),E=W.useMemo(()=>u_(i,e,p,o,a,"assets"),[i,e,p,o,a]),d=W.useMemo(()=>{if(i===a.pathname+a.search+a.hash)return[];let v=new Set,b=!1;if(e.forEach(w=>{var D;let S=o.routes[w.route.id];!S||!S.hasLoader||(!g.some(V=>V.route.id===w.route.id)&&w.route.id in c&&((D=u[w.route.id])!=null&&D.shouldRevalidate)||S.hasClientLoader?b=!0:v.add(w.route.id))}),v.size===0)return[];let R=zT(i,f);return b&&v.size>0&&R.searchParams.set("_routes",e.filter(w=>v.has(w.route.id)).map(w=>w.route.id).join(",")),[R.pathname+R.search]},[f,c,a,o,g,e,i,u]),y=W.useMemo(()=>kT(E,o),[E,o]),_=FT(E);return W.createElement(W.Fragment,null,d.map(v=>W.createElement("link",{key:v,rel:"prefetch",as:"fetch",href:v,...n})),y.map(v=>W.createElement("link",{key:v,rel:"modulepreload",href:v,...n})),_.map(({key:v,link:b})=>W.createElement("link",{key:v,...b})))}function GT(...i){return e=>{i.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var eb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{eb&&(window.__reactRouterVersion="7.5.3")}catch{}function QT(i,e){return Vw({basename:e==null?void 0:e.basename,unstable_getContext:e==null?void 0:e.unstable_getContext,future:e==null?void 0:e.future,history:tw({window:e==null?void 0:e.window}),hydrationData:KT(),routes:i,mapRouteProperties:gT,hydrationRouteProperties:yT,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function KT(){let i=window==null?void 0:window.__staticRouterHydrationData;return i&&i.errors&&(i={...i,errors:YT(i.errors)}),i}function YT(i){if(!i)return null;let e=Object.entries(i),n={};for(let[a,o]of e)if(o&&o.__type==="RouteErrorResponse")n[a]=new Pc(o.status,o.statusText,o.data,o.internal===!0);else if(o&&o.__type==="Error"){if(o.__subType){let u=window[o.__subType];if(typeof u=="function")try{let f=new u(o.message);f.stack="",n[a]=f}catch{}}if(n[a]==null){let u=new Error(o.message);u.stack="",n[a]=u}}else n[a]=o;return n}var tb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,nb=W.forwardRef(function({onClick:e,discover:n="render",prefetch:a="none",relative:o,reloadDocument:u,replace:f,state:c,target:p,to:g,preventScrollReset:E,viewTransition:d,...y},_){let{basename:v}=W.useContext(Zr),b=typeof g=="string"&&tb.test(g),R,w=!1;if(typeof g=="string"&&b&&(R=g,eb))try{let C=new URL(window.location.href),I=g.startsWith("//")?new URL(C.protocol+g):new URL(g),L=pr(I.pathname,v);I.origin===C.origin&&L!=null?g=L+I.search+I.hash:w=!0}catch{Vt(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let S=eT(g,{relative:o}),[D,V,j]=BT(a,y),k=WT(g,{replace:f,state:c,target:p,preventScrollReset:E,relative:o,viewTransition:d});function O(C){e&&e(C),C.defaultPrevented||k(C)}let A=W.createElement("a",{...y,...j,href:R||S,onClick:w||u?e:O,ref:GT(_,V),target:p,"data-discover":!b&&n==="render"?"true":void 0});return D&&!b?W.createElement(W.Fragment,null,A,W.createElement(qT,{page:S})):A});nb.displayName="Link";var Gn=W.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:a="",end:o=!1,style:u,to:f,viewTransition:c,children:p,...g},E){let d=Ql(f,{relative:g.relative}),y=fs(),_=W.useContext(Hl),{navigator:v,basename:b}=W.useContext(Zr),R=_!=null&&rA(d)&&c===!0,w=v.encodeLocation?v.encodeLocation(d).pathname:d.pathname,S=y.pathname,D=_&&_.navigation&&_.navigation.location?_.navigation.location.pathname:null;n||(S=S.toLowerCase(),D=D?D.toLowerCase():null,w=w.toLowerCase()),D&&b&&(D=pr(D,b)||D);const V=w!=="/"&&w.endsWith("/")?w.length-1:w.length;let j=S===w||!o&&S.startsWith(w)&&S.charAt(V)==="/",k=D!=null&&(D===w||!o&&D.startsWith(w)&&D.charAt(w.length)==="/"),O={isActive:j,isPending:k,isTransitioning:R},A=j?e:void 0,C;typeof a=="function"?C=a(O):C=[a,j?"active":null,k?"pending":null,R?"transitioning":null].filter(Boolean).join(" ");let I=typeof u=="function"?u(O):u;return W.createElement(nb,{...g,"aria-current":A,className:C,ref:E,style:I,to:f,viewTransition:c},typeof p=="function"?p(O):p)});Gn.displayName="NavLink";var XT=W.forwardRef(({discover:i="render",fetcherKey:e,navigate:n,reloadDocument:a,replace:o,state:u,method:f=xc,action:c,onSubmit:p,relative:g,preventScrollReset:E,viewTransition:d,...y},_)=>{let v=tA(),b=nA(c,{relative:g}),R=f.toLowerCase()==="get"?"get":"post",w=typeof c=="string"&&tb.test(c),S=D=>{if(p&&p(D),D.defaultPrevented)return;D.preventDefault();let V=D.nativeEvent.submitter,j=(V==null?void 0:V.getAttribute("formmethod"))||f;v(V||D.currentTarget,{fetcherKey:e,method:j,navigate:n,replace:o,state:u,relative:g,preventScrollReset:E,viewTransition:d})};return W.createElement("form",{ref:_,method:R,action:b,onSubmit:a?p:S,...y,"data-discover":!w&&i==="render"?"true":void 0})});XT.displayName="Form";function ZT(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function rb(i){let e=W.useContext(cs);return We(e,ZT(i)),e}function WT(i,{target:e,replace:n,state:a,preventScrollReset:o,relative:u,viewTransition:f}={}){let c=X0(),p=fs(),g=Ql(i,{relative:u});return W.useCallback(E=>{if(xT(E,e)){E.preventDefault();let d=n!==void 0?n:ma(p)===ma(g);c(i,{replace:d,state:a,preventScrollReset:o,relative:u,viewTransition:f})}},[p,c,g,n,a,e,i,o,u,f])}var JT=0,eA=()=>`__${String(++JT)}__`;function tA(){let{router:i}=rb("useSubmit"),{basename:e}=W.useContext(Zr),n=dT();return W.useCallback(async(a,o={})=>{let{action:u,method:f,encType:c,formData:p,body:g}=OT(a,e);if(o.navigate===!1){let E=o.fetcherKey||eA();await i.fetch(E,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||c,flushSync:o.flushSync})}else await i.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||c,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,e,n])}function nA(i,{relative:e}={}){let{basename:n}=W.useContext(Zr),a=W.useContext(Wr);We(a,"useFormAction must be used inside a RouteContext");let[o]=a.matches.slice(-1),u={...Ql(i||".",{relative:e})},f=fs();if(i==null){u.search=f.search;let c=new URLSearchParams(u.search),p=c.getAll("index");if(p.some(E=>E==="")){c.delete("index"),p.filter(d=>d).forEach(d=>c.append("index",d));let E=c.toString();u.search=E?`?${E}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:Gr([n,u.pathname])),ma(u)}function rA(i,e={}){let n=W.useContext(wm);We(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=rb("useViewTransitionState"),o=Ql(i,{relative:e.relative});if(!n.isTransitioning)return!1;let u=pr(n.currentLocation.pathname,a)||n.currentLocation.pathname,f=pr(n.nextLocation.pathname,a)||n.nextLocation.pathname;return Lc(o.pathname,f)!=null||Lc(o.pathname,u)!=null}new TextEncoder;[...UT];const ib="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEUAAABFCAYAAAAcjSspAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAARJSURBVHgB7ZtdUtswEMc3ITOE4aE5gnsC4IEZ4MmcADgB6QmgJ2g4QeEEDSegnKB+4WOGl/QE9Q2aPjADMwnpbmoYqkjOSitbice/BxJsxVbWK+1/VwpATU1NTU2hNN7/s7OzEzM+k97f36dQYVqvb9AgUaPR+DHvA9imjy+foMI0wZLJZNKN47gDFcbaKMTT09MpVBgno+AQOqmytzgZBelU2VveJtp2uz3EL3qmaUMT8LF6kLwFJ2dYFrC/g7u7u++stpxGu7u7v/Fl6YcLRc7b29u5kZM1fDDiXEAFoMjJ0WIso+DQOseXIVSDaF4DllGSJBlWxVuQZF4DdvSpgrfQnMJJUVgT7Ss4Hnt44S+aUyl60iJJf4qY39SD2MePHKO0wALylufn5xOYjUQR/cEbJrAA4MPraw5fcBNZK/GWN7cYPKh0KLpodBV58jn3Gi6Ktm84HjNLD4WiGzbNZrNnU+6wNgpdHK1+CfoOBfUWfChdmA256c3NzSVY4JT7oOVNrkjeEkEgdA+FvAQscTIKSuUBGOI9dixIori3t0cGiZTDA1svIVyzZApvZ4ZTx2WXFcg7ScKrx0ejkZNMcDZKFn4TzakQZYUeKF5CQu3h4WEADjgbhTB5S5lFqKy2PFPaeHl5OQNHREZZEG/pqQe4ct6EyChESG8xCTWJlxBio4T0Fp1QAws5b0JsFCJHzJ1AQZiEGpYc2XLehFWWnAeWLH+BpoBDQm88Hv8Ez2RCLVLu1XXRJSpWWXIe5C06RYnj+xSPQwmkPgxCeBk+0ws1m6xKeVH4rOd4Mwp5BAQiC8EJeMKLUba3tzd1AqokxCFYxYtRWq3WFQSAPGR1dXXL99YQ8URrCI1TiqrbojGGaIyEKoFQAGKjmApL9BRRM/RhCRENH9QmJM4i3Tnf47xMnI2SVdi0EUeakIVG4ikx6L0kXWYvIZyNgt6waTi19BsFnSdajCwdg3yPszwoNNc40TsJSolRBjmCLYLAYN8+gCPOw2dtba0PFcXZKNkS6lJPqCakNdpeFQ0jVrRkGNQsCb7t4jjegAXZG4cP6w/U1BSKtzohLWc8Pj5GKysrnXa7PSgqg1XviSsGUxHp855io2QdO8f55AD+n08SKh0UoW6pqIU1nK/wL9V4g3IuSjGk9xQZ5d3PYSJDEwrbRz5LhaiWD/GF1ntMEzrtn9kPtkI4xyAEpQJXvlYKs8ycPCTvepFhkYyNpHQQA0/Oe1spzPa+RIymoq1mkiz50KLtAfhhg9vQpn8qkk07NkPCl6CLuA2DJIRUPOa2RQOm4AHLezorWomnsFcE8ct4WUvGcHvNbWvTP5UitnepWG3szcPi9wGpRAZIt3fRuk6a04S+wGdfAi4rVxxBvmGmOgUESEsH0w7o9qfgsWQ0Gu1zf6JmcU9Sylsw66VDXyuGXnOfIvIQzj3H4/FwfX09LeOeNTU1NTUe+AtrP+sqSyKS8gAAAABJRU5ErkJggg==",c_=i=>{let e;const n=new Set,a=(g,E)=>{const d=typeof g=="function"?g(e):g;if(!Object.is(d,e)){const y=e;e=E??(typeof d!="object"||d===null)?d:Object.assign({},e,d),n.forEach(_=>_(e,y))}},o=()=>e,c={setState:a,getState:o,getInitialState:()=>p,subscribe:g=>(n.add(g),()=>n.delete(g))},p=e=i(a,o,c);return c},iA=i=>i?c_(i):c_,aA=i=>i;function sA(i,e=aA){const n=Vv.useSyncExternalStore(i.subscribe,()=>e(i.getState()),()=>e(i.getInitialState()));return Vv.useDebugValue(n),n}const f_=i=>{const e=iA(i),n=a=>sA(e,a);return Object.assign(n,e),n},oA=i=>i?f_(i):f_,Ai=oA(i=>({cartItems:[],addToCart:e=>{i(n=>n.cartItems.find(o=>o.id===e.id)?{cartItems:n.cartItems.map(o=>o.id===e.id?{...o,quantity:(o.quantity||1)+1}:o)}:{cartItems:[...n.cartItems,{...e,quantity:1}]})},removeFromCart:e=>{i(n=>({cartItems:n.cartItems.map(a=>a.id===e.id?a.quantity>1?{...a,quantity:a.quantity-1}:null:a).filter(a=>a!==null)}))},getTotalPrice:()=>Ai.getState().cartItems.reduce((e,n)=>e+n.price*(n.quantity||1),0),getTotalItems:()=>Ai.getState().cartItems.reduce((e,n)=>e+(n.quantity||1),0)})),ab="/webbshop/assets/logo-Du0dz096.png",lA=()=>{const e=Ai(n=>n.cartItems).reduce((n,a)=>n+(a.quantity||1),0);return F.jsxs("header",{className:"header-wrapper",children:[F.jsx("div",{className:"logo-container",children:F.jsx(Gn,{to:"/",className:"logo",children:F.jsx("img",{src:ab,alt:"",style:{}})})}),F.jsx("nav",{className:"nav-wrapper",children:F.jsxs("ul",{className:"nav-list",children:[F.jsx("li",{className:"nav-item",children:F.jsx(Gn,{to:"/pages/products/:productId?",className:"nav-link",children:"Produkter"})}),F.jsx("li",{className:"nav-item",children:F.jsx(Gn,{to:"/pages/about/",className:"nav-link",children:"Om oss"})})]})}),F.jsxs("div",{className:"shopping-cart",children:[F.jsx(Gn,{to:"/components/cart/:cartId?",className:"navlink cart-icon",children:F.jsx("img",{src:ib,alt:"Shopping cart icon"})}),F.jsx("span",{className:"cart-count",children:e})]})]})},uA=()=>F.jsxs("footer",{children:[F.jsxs("div",{className:"footer-content",children:[F.jsx("div",{className:"footer-left",children:F.jsx(Gn,{to:"/",className:"logo",children:F.jsx("img",{src:ab,alt:"",style:{}})})}),F.jsxs("div",{className:"footer-middle",children:[F.jsx("h4",{style:{textDecoration:"underline"},children:"Kundtjnst"}),F.jsx("p",{children:"E-post: support@toylandia.se"}),F.jsx("p",{children:"ppettider: MndagFredag, 09.0017.00"})]}),F.jsxs("div",{className:"footer-right",children:[F.jsx("h4",{style:{textDecoration:"underline"},children:"Snabblnkar"}),F.jsxs("ul",{children:[F.jsx("li",{children:F.jsx(Gn,{to:"/",className:"footer-links",children:"Hem"})}),F.jsx("li",{children:F.jsx(Gn,{to:"/pages/products/:productId?",className:"footer-links",children:"Produkter"})}),F.jsx("li",{children:F.jsx(Gn,{to:"/pages/about/",className:"footer-links",children:"Om oss"})}),F.jsx("li",{children:F.jsx(Gn,{to:"/components/adminStartPage/",className:"footer-links",children:"Admin Login"})})]})]})]}),F.jsxs("div",{className:"payment-methods",children:[F.jsx("div",{className:"underline"}),F.jsxs("div",{className:"svg-icons",children:[F.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"53",height:"35",viewBox:"0 0 53 35",fill:"none",children:[F.jsx("rect",{x:"1.21167",y:"0.724487",width:"51.2723",height:"33.7755",rx:"3.5",fill:"white",stroke:"#D9D9D9"}),F.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.5804 23.7823H13.4137L11.0391 14.993C10.9264 14.5887 10.6871 14.2312 10.335 14.0628C9.45652 13.6394 8.48845 13.3025 7.43237 13.1326V12.7942H12.5337C13.2377 12.7942 13.7658 13.3025 13.8538 13.8929L15.0859 20.2329L18.251 12.7942H21.3297L16.5804 23.7823ZM23.0898 23.7823H20.0991L22.5618 12.7942H25.5525L23.0898 23.7823ZM29.4217 15.8382C29.5097 15.2464 30.0377 14.908 30.6537 14.908C31.6218 14.8231 32.6764 14.993 33.5564 15.4149L34.0845 13.0491C33.2044 12.7107 32.2363 12.5408 31.3578 12.5408C28.4551 12.5408 26.343 14.0628 26.343 16.1752C26.343 17.7821 27.8391 18.6259 28.8952 19.1342C30.0377 19.6411 30.4777 19.9795 30.3897 20.4863C30.3897 21.2466 29.5097 21.585 28.6311 21.585C27.5751 21.585 26.519 21.3316 25.5525 20.9082L25.0244 23.2755C26.0805 23.6974 27.223 23.8673 28.2791 23.8673C31.5338 23.9508 33.5564 22.4302 33.5564 20.1479C33.5564 17.2738 29.4217 17.1054 29.4217 15.8382V15.8382ZM44.023 23.7823L41.6484 12.7942H39.0977C38.5697 12.7942 38.0417 13.1326 37.8656 13.6394L33.4684 23.7823H36.5471L37.1616 22.1768H40.9443L41.2963 23.7823H44.023ZM39.5378 15.7533L40.4163 19.8945H37.9536L39.5378 15.7533Z",fill:"#172B85"})]}),F.jsx("div",{className:"card",children:F.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"35",height:"21",viewBox:"0 0 35 21",fill:"none",children:[F.jsx("path",{d:"M11.0363 0.793945C16.6646 0.794018 21.2275 5.27199 21.2277 10.7959C21.2277 16.32 16.6647 20.7988 11.0363 20.7988C5.40777 20.7988 0.844849 16.32 0.844849 10.7959C0.845031 5.27194 5.40789 0.793945 11.0363 0.793945Z",fill:"#ED0006"}),F.jsx("path",{d:"M24.2574 0.793945C29.8857 0.794018 34.4486 5.27199 34.4488 10.7959C34.4488 16.32 29.8858 20.7988 24.2574 20.7988C18.6289 20.7988 14.066 16.32 14.066 10.7959C14.0662 5.27194 18.629 0.793945 24.2574 0.793945Z",fill:"#0099DF"}),F.jsx("path",{d:"M17.6461 3.18616C19.8367 5.02075 21.2272 7.74863 21.2272 10.7965C21.2271 13.844 19.8363 16.5704 17.6461 18.4049C15.4563 16.5704 14.0661 13.8436 14.066 10.7965C14.066 7.74895 15.4559 5.02075 17.6461 3.18616Z",fill:"#6C6BBD"})]})}),F.jsx("div",{className:"card",children:F.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"35",height:"21",viewBox:"0 0 35 21",fill:"none",children:[F.jsx("path",{d:"M23.8395 0.46936C29.4678 0.46936 34.0307 4.94736 34.0309 10.4713C34.0309 15.9954 29.468 20.4742 23.8395 20.4742C21.3162 20.4742 19.0089 19.5716 17.2291 18.0807C15.4493 19.5715 13.1421 20.4742 10.6188 20.4742C4.99029 20.4742 0.427368 15.9954 0.427368 10.4713C0.427551 4.94736 4.9904 0.46936 10.6188 0.46936C13.1419 0.469393 15.4493 1.37125 17.2291 2.86194C19.0089 1.37124 21.3163 0.469425 23.8395 0.46936Z",fill:"#ED0006"}),F.jsx("path",{d:"M23.8395 0.46936C29.4679 0.46936 34.0308 4.94736 34.0309 10.4713C34.0309 15.9954 29.468 20.4742 23.8395 20.4742C21.3162 20.4742 19.009 19.5715 17.2292 18.0807C19.4194 16.2461 20.8102 13.5188 20.8102 10.4713C20.8101 7.42378 19.4195 4.69646 17.2292 2.86194C19.009 1.37124 21.3164 0.46941 23.8395 0.46936Z",fill:"#F9A000"}),F.jsx("path",{d:"M17.2286 2.86169C19.4193 4.69629 20.8097 7.42416 20.8097 10.472C20.8096 13.5195 19.4188 16.2459 17.2286 18.0804C15.0389 16.2459 13.6487 13.5192 13.6486 10.472C13.6486 7.42448 15.0384 4.69629 17.2286 2.86169Z",fill:"#FF5E00"})]})}),F.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"54",height:"35",viewBox:"0 0 54 35",fill:"none",children:[F.jsx("rect",{x:"0.723633",y:"0.724487",width:"51.878",height:"33.7755",rx:"2",fill:"#FEB4C7",stroke:"#D9D9D9"}),F.jsx("path",{d:"M21.4368 15.9391C22.1505 15.9391 22.8123 16.1563 23.3606 16.525V16.1158H25.302V22.5074H23.3606V22.0983C22.8124 22.4668 22.1503 22.6842 21.4368 22.6842C19.5482 22.6838 18.017 21.1734 18.0168 19.3112C18.0171 17.449 19.5482 15.9395 21.4368 15.9391ZM41.9114 15.9391C42.6252 15.9391 43.2879 16.1563 43.8362 16.525V16.1158H45.7766V22.5074H43.8362V22.0983C43.288 22.4668 42.6251 22.6842 41.9114 22.6842C40.0228 22.6838 38.4917 21.1733 38.4915 19.3112C38.4917 17.449 40.0229 15.9395 41.9114 15.9391ZM47.8372 20.2399C48.5096 20.24 49.0548 20.777 49.0549 21.4401C49.0549 22.1031 48.5097 22.6411 47.8372 22.6412C47.1646 22.6412 46.6194 22.1032 46.6194 21.4401C46.6195 20.7769 47.1646 20.2399 47.8372 20.2399ZM8.41821 13.2653V22.5094H6.26685V13.2653H8.41821ZM13.7903 13.2653C13.7903 15.2665 12.9994 17.1286 11.5901 18.5123L14.5627 22.5094H11.9065L8.67505 18.1647L9.50903 17.5494C10.892 16.5279 11.6848 14.9664 11.6848 13.2653H13.7903ZM35.0432 15.944C36.6066 15.944 37.8059 16.9557 37.8059 18.443V22.5074H35.8674V19.1354C35.8674 18.2031 35.3766 17.7008 34.5237 17.7008C33.7281 17.701 33.0677 18.1765 33.0676 19.1481V22.5074H31.1116V16.1158H33.0432V16.8356C33.5338 16.1808 34.2679 15.944 35.0432 15.944ZM17.2219 22.5065H15.1897V13.2672H17.2219V22.5065ZM28.304 16.9479C28.693 16.4486 29.4182 16.1159 30.2063 16.1158V17.9752C30.1987 17.9751 30.1915 17.9743 30.1838 17.9742C29.4161 17.9742 28.3092 18.5156 28.3088 19.5221V22.5065H26.3176V16.1149H28.304V16.9479ZM21.5969 17.6676C20.6259 17.6677 19.8381 18.404 19.8381 19.3121C19.8385 20.2199 20.6261 20.9566 21.5969 20.9567C22.5678 20.9565 23.3543 20.2199 23.3547 19.3121C23.3547 18.4041 22.568 17.6678 21.5969 17.6676ZM42.0715 17.6676C41.1004 17.6678 40.3127 18.404 40.3127 19.3121C40.3131 20.2199 41.1007 20.9565 42.0715 20.9567C43.0424 20.9565 43.8289 20.2199 43.8293 19.3121C43.8293 18.404 43.0426 17.6678 42.0715 17.6676Z",fill:"#17120F"})]}),F.jsx("div",{className:"card",children:F.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"31",height:"27",viewBox:"0 0 31 27",fill:"none",children:[F.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.51329 18.3083H2.18999C2.031 18.3083 1.89579 18.4205 1.87099 18.5727L0.931331 24.3527C0.912655 24.4668 1.0037 24.5696 1.12294 24.5696H2.23211C2.39109 24.5696 2.52631 24.4575 2.5511 24.305L2.80454 22.7461C2.82899 22.5934 2.96453 22.4814 3.12319 22.4814H3.85867C5.38911 22.4814 6.27232 21.7629 6.5031 20.3391C6.60702 19.7162 6.50751 19.2267 6.20676 18.8838C5.87662 18.5075 5.29085 18.3083 4.51329 18.3083ZM4.78133 20.4194C4.65431 21.2283 4.01732 21.2283 3.40142 21.2283H3.05083L3.29678 19.7177C3.31139 19.6265 3.39292 19.5592 3.48804 19.5592H3.64873C4.06828 19.5592 4.46409 19.5592 4.66862 19.7912C4.79045 19.9297 4.82787 20.1353 4.78133 20.4194ZM11.4582 20.3935H10.3456C10.2508 20.3935 10.1689 20.4608 10.1543 20.5521L10.1051 20.854L10.0273 20.7446C9.78644 20.4054 9.24941 20.2921 8.71332 20.2921C7.48378 20.2921 6.43377 21.1955 6.22924 22.4628C6.12297 23.0949 6.27405 23.6993 6.64365 24.1209C6.98275 24.5085 7.4679 24.67 8.04502 24.67C9.03561 24.67 9.58506 24.052 9.58506 24.052L9.53538 24.352C9.51667 24.4667 9.60769 24.5695 9.72623 24.5695H10.7284C10.8879 24.5695 11.0223 24.4574 11.0474 24.3048L11.6488 20.6104C11.6678 20.4968 11.5771 20.3935 11.4582 20.3935ZM9.90734 22.4944C9.79996 23.111 9.29547 23.525 8.65217 23.525C8.3291 23.525 8.07081 23.4245 7.90511 23.234C7.74066 23.0448 7.67809 22.7755 7.73045 22.4756C7.83075 21.8642 8.34372 21.4368 8.97728 21.4368C9.29312 21.4368 9.55 21.5385 9.71916 21.7307C9.88863 21.9249 9.95592 22.1957 9.90734 22.4944ZM16.2656 20.3934H17.3836C17.5402 20.3934 17.6316 20.5637 17.5426 20.6883L13.8241 25.8958C13.7639 25.9802 13.6647 26.0304 13.5587 26.0304H12.442C12.2848 26.0304 12.193 25.8586 12.284 25.7337L13.4419 24.1481L12.2105 20.6418C12.1679 20.52 12.2606 20.3934 12.3942 20.3934H13.4928C13.6356 20.3934 13.7615 20.4843 13.8027 20.6168L14.4562 22.7345L15.9983 20.5308C16.0587 20.4448 16.159 20.3934 16.2656 20.3934Z",fill:"#253B80"}),F.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M28.3875 24.3527L29.341 18.4669C29.3556 18.3756 29.4372 18.3083 29.532 18.308H30.6054C30.7239 18.308 30.815 18.4111 30.7963 18.5252L29.856 24.3049C29.8315 24.4575 29.6963 24.5696 29.537 24.5696H28.5783C28.4598 24.5696 28.3688 24.4668 28.3875 24.3527ZM21.0852 18.3083H18.7615C18.6029 18.3083 18.4677 18.4204 18.4428 18.5726L17.5032 24.3527C17.4845 24.4668 17.5755 24.5696 17.6942 24.5696H18.8865C18.9973 24.5696 19.0921 24.4912 19.1094 24.3844L19.376 22.746C19.4005 22.5933 19.5361 22.4814 19.6947 22.4814H20.4298C21.9606 22.4814 22.8436 21.7628 23.0746 20.339C23.1788 19.7161 23.0786 19.2266 22.7781 18.8838C22.4481 18.5075 21.8628 18.3083 21.0852 18.3083ZM21.3533 20.4194C21.2265 21.2282 20.5895 21.2282 19.9733 21.2282H19.623L19.8693 19.7176C19.884 19.6264 19.9648 19.5591 20.0602 19.5591H20.2209C20.6402 19.5591 21.0363 19.5591 21.2407 19.7911C21.3627 19.9296 21.3998 20.1352 21.3533 20.4194ZM28.0295 20.3935H26.9177C26.8221 20.3935 26.741 20.4607 26.7267 20.5521L26.6775 20.8539L26.5994 20.7446C26.3585 20.4053 25.8218 20.292 25.2857 20.292C24.0562 20.292 23.0065 21.1954 22.802 22.4628C22.696 23.0948 22.8464 23.6993 23.216 24.1208C23.5558 24.5084 24.0403 24.6699 24.6174 24.6699C25.608 24.6699 26.1573 24.0519 26.1573 24.0519L26.1078 24.3519C26.0891 24.4666 26.1801 24.5694 26.2994 24.5694H27.3012C27.4598 24.5694 27.595 24.4573 27.6198 24.3048L28.2215 20.6103C28.2399 20.4967 28.1488 20.3935 28.0295 20.3935ZM26.4788 22.4943C26.372 23.111 25.8669 23.5249 25.2235 23.5249C24.901 23.5249 24.6423 23.4244 24.4764 23.2339C24.312 23.0448 24.2502 22.7754 24.3019 22.4756C24.4027 21.8641 24.915 21.4367 25.5486 21.4367C25.8646 21.4367 26.1213 21.5385 26.2906 21.7306C26.4607 21.9248 26.528 22.1957 26.4788 22.4943Z",fill:"#179BD7"}),F.jsx("path",{d:"M13.1113 16.2405L13.397 14.4803L12.7607 14.466H9.72266L11.834 1.47757C11.8404 1.43836 11.8618 1.4018 11.8929 1.37584C11.9241 1.34988 11.964 1.33557 12.0055 1.33557H17.1282C18.8289 1.33557 20.0025 1.67892 20.6153 2.3566C20.9025 2.67452 21.0855 3.00674 21.174 3.37234C21.2668 3.75597 21.2685 4.21429 21.1778 4.77329L21.1712 4.81409V5.17226L21.4586 5.33017C21.7005 5.45468 21.8926 5.59721 22.0401 5.76041C22.286 6.03223 22.4449 6.3777 22.512 6.78727C22.5814 7.20851 22.5584 7.70975 22.4449 8.27724C22.3138 8.93003 22.1019 9.49856 21.8158 9.96378C21.5524 10.3924 21.2171 10.7479 20.819 11.0235C20.4389 11.2852 19.9872 11.484 19.4766 11.6112C18.9817 11.7361 18.4176 11.7992 17.7989 11.7992H17.4002C17.1152 11.7992 16.8382 11.8988 16.6209 12.0774C16.403 12.2597 16.2587 12.5086 16.2145 12.781L16.1845 12.9395L15.6798 16.0417L15.6569 16.1556C15.6509 16.1918 15.6405 16.2098 15.6253 16.222C15.6116 16.233 15.5919 16.2405 15.5728 16.2405H13.1113Z",fill:"#253B80"}),F.jsx("path",{d:"M21.7306 4.85571C21.7153 4.95055 21.6979 5.04751 21.6782 5.14713C21.0025 8.51226 18.6914 9.67477 15.7394 9.67477H14.2365C13.8756 9.67477 13.5713 9.92909 13.5151 10.2746L12.7455 15.0094L12.5276 16.3515C12.491 16.5783 12.6713 16.7828 12.9071 16.7828H15.573C15.8886 16.7828 16.1567 16.5603 16.2064 16.2583L16.2326 16.1268L16.7346 13.0367L16.7668 12.8672C16.8159 12.5641 17.0845 12.3416 17.4002 12.3416H17.7989C20.3815 12.3416 22.4034 11.3243 22.9944 8.38032C23.2412 7.15052 23.1134 6.12366 22.4602 5.40146C22.2626 5.18369 22.0173 5.00301 21.7306 4.85571Z",fill:"#179BD7"}),F.jsx("path",{d:"M21.0236 4.58242C20.9205 4.55327 20.8139 4.52678 20.7046 4.50294C20.5949 4.47964 20.4823 4.45897 20.3666 4.44096C19.9613 4.37737 19.5174 4.34717 19.0417 4.34717H15.0265C14.9276 4.34717 14.8338 4.36889 14.7497 4.4081C14.5645 4.49446 14.4269 4.66456 14.3936 4.87278L13.5393 10.1216L13.5148 10.2747C13.5711 9.92921 13.8753 9.67488 14.2362 9.67488H15.7391C18.6911 9.67488 21.0024 8.51185 21.6779 5.14725C21.698 5.04764 21.715 4.95068 21.7303 4.85584C21.5594 4.76788 21.3742 4.69264 21.1748 4.62851C21.1258 4.61262 21.075 4.59726 21.0236 4.58242Z",fill:"#222D65"}),F.jsx("path",{d:"M14.3936 4.87271C14.4269 4.66447 14.5647 4.49439 14.7497 4.40855C14.8344 4.36933 14.9278 4.34761 15.0265 4.34761H19.0418C19.5176 4.34761 19.9615 4.37781 20.3667 4.4414C20.4825 4.45941 20.5951 4.48008 20.7048 4.50339C20.8141 4.52724 20.9205 4.55374 21.0238 4.58287C21.075 4.59771 21.1258 4.61307 21.1755 4.62844C21.3748 4.69255 21.56 4.76832 21.7309 4.85575C21.932 3.61217 21.7294 2.76546 21.0364 1.99875C20.2723 1.1547 18.8933 0.793335 17.1288 0.793335H12.0059C11.6454 0.793335 11.3381 1.04765 11.2823 1.39366L9.1486 14.5156C9.10647 14.7752 9.31289 15.0095 9.58266 15.0095H12.7454L13.5395 10.1215L14.3936 4.87271Z",fill:"#253B80"})]})})]})]})]});function cA(){return F.jsxs(F.Fragment,{children:[F.jsx(lA,{}),F.jsx("main",{children:F.jsx(wT,{})}),F.jsx(uA,{})]})}const fA="/webbshop/assets/baby-CYwz_nHF.jpg",hA="/webbshop/assets/children-Cz8BOIZV.jpg",dA=()=>F.jsxs("section",{className:"discounts-section",children:[F.jsx("h2",{children:"Aktuella Kampanjer"}),F.jsxs("div",{className:"discount-grid",children:[F.jsxs("div",{className:"discount-card",children:[F.jsx("img",{src:hA,alt:"Vattenlek"}),F.jsxs("div",{className:"discount-overlay left",children:[F.jsxs("h3",{children:["15% rabatt p",F.jsx("br",{}),"vattenlek",F.jsx("br",{}),"med koden SPLASH15"]}),F.jsxs("p",{children:["Gller alla vattenleksaker",F.jsx("br",{}),"fram till 30 juni!"]})]})]}),F.jsxs("div",{className:"discount-card",children:[F.jsx("img",{src:fA,alt:"Sommarleksaker"}),F.jsxs("div",{className:"discount-overlay right",children:[F.jsxs("h3",{children:["10% rabatt",F.jsx("br",{}),"med koden SOMMAR10"]}),F.jsxs("p",{children:["Gller alla sommarleksaker",F.jsx("br",{}),"fram till 15 juni!"]})]})]})]})]}),mA=()=>{};var h_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sb=function(i){const e=[];let n=0;for(let a=0;a<i.length;a++){let o=i.charCodeAt(a);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&a+1<i.length&&(i.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++a)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},pA=function(i){const e=[];let n=0,a=0;for(;n<i.length;){const o=i[n++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[n++];e[a++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[n++],f=i[n++],c=i[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|c&63)-65536;e[a++]=String.fromCharCode(55296+(p>>10)),e[a++]=String.fromCharCode(56320+(p&1023))}else{const u=i[n++],f=i[n++];e[a++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},ob={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<i.length;o+=3){const u=i[o],f=o+1<i.length,c=f?i[o+1]:0,p=o+2<i.length,g=p?i[o+2]:0,E=u>>2,d=(u&3)<<4|c>>4;let y=(c&15)<<2|g>>6,_=g&63;p||(_=64,f||(y=64)),a.push(n[E],n[d],n[y],n[_])}return a.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(sb(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):pA(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<i.length;){const u=n[i.charAt(o++)],c=o<i.length?n[i.charAt(o)]:0;++o;const g=o<i.length?n[i.charAt(o)]:64;++o;const d=o<i.length?n[i.charAt(o)]:64;if(++o,u==null||c==null||g==null||d==null)throw new gA;const y=u<<2|c>>4;if(a.push(y),g!==64){const _=c<<4&240|g>>2;if(a.push(_),d!==64){const v=g<<6&192|d;a.push(v)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class gA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const yA=function(i){const e=sb(i);return ob.encodeByteArray(e,!0)},zc=function(i){return yA(i).replace(/\./g,"")},vA=function(i){try{return ob.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _A(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bA=()=>_A().__FIREBASE_DEFAULTS__,EA=()=>{if(typeof process>"u"||typeof h_>"u")return;const i=h_.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},wA=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&vA(i[1]);return e&&JSON.parse(e)},xm=()=>{try{return mA()||bA()||EA()||wA()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},TA=i=>{var e,n;return(n=(e=xm())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[i]},AA=i=>{const e=TA(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),a]:[e.substring(0,n),a]},lb=()=>{var i;return(i=xm())===null||i===void 0?void 0:i.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,a)=>{n?this.reject(n):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,a))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RA(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},a=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},i);return[zc(JSON.stringify(n)),zc(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CA(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function xA(){var i;const e=(i=xm())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function DA(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function IA(){return!xA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ub(){try{return typeof indexedDB=="object"}catch{return!1}}function cb(){return new Promise((i,e)=>{try{let n=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(a),i(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}function OA(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MA="FirebaseError";class wa extends Error{constructor(e,n,a){super(n),this.code=e,this.customData=a,this.name=MA,Object.setPrototypeOf(this,wa.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,sf.prototype.create)}}class sf{constructor(e,n,a){this.service=e,this.serviceName=n,this.errors=a}create(e,...n){const a=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?NA(u,a):"Error",c=`${this.serviceName}: ${f} (${o}).`;return new wa(o,c,a)}}function NA(i,e){return i.replace(VA,(n,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const VA=/\{\$([^}]+)}/g;function Ll(i,e){if(i===e)return!0;const n=Object.keys(i),a=Object.keys(e);for(const o of n){if(!a.includes(o))return!1;const u=i[o],f=e[o];if(d_(u)&&d_(f)){if(!Ll(u,f))return!1}else if(u!==f)return!1}for(const o of a)if(!n.includes(o))return!1;return!0}function d_(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kA=1e3,jA=2,LA=4*60*60*1e3,PA=.5;function m_(i,e=kA,n=jA){const a=e*Math.pow(n,i),o=Math.round(PA*a*(Math.random()-.5)*2);return Math.min(LA,a+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tr(i){return i&&i._delegate?i._delegate:i}class Si{constructor(e,n,a){this.name=e,this.instanceFactory=n,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const es="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UA{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const a=new SA;if(this.instancesDeferred.set(n,a),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const a=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if($A(e))try{this.getOrInitializeService({instanceIdentifier:es})}catch{}for(const[n,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch{}}}}clearInstance(e=es){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=es){return this.instances.has(e)}getOptions(e=es){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:n});for(const[u,f]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(u);a===c&&f.resolve(o)}return o}onInit(e,n){var a;const o=this.normalizeInstanceIdentifier(n),u=(a=this.onInitCallbacks.get(o))!==null&&a!==void 0?a:new Set;u.add(e),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&e(f,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const a=this.onInitCallbacks.get(n);if(a)for(const o of a)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:zA(e),options:n}),this.instances.set(e,a),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=es){return this.component?this.component.multipleInstances?e:es:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function zA(i){return i===es?void 0:i}function $A(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new UA(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var at;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(at||(at={}));const qA={debug:at.DEBUG,verbose:at.VERBOSE,info:at.INFO,warn:at.WARN,error:at.ERROR,silent:at.SILENT},FA=at.INFO,HA={[at.DEBUG]:"log",[at.VERBOSE]:"log",[at.INFO]:"info",[at.WARN]:"warn",[at.ERROR]:"error"},GA=(i,e,...n)=>{if(e<i.logLevel)return;const a=new Date().toISOString(),o=HA[e];if(o)console[o](`[${a}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Dm{constructor(e){this.name=e,this._logLevel=FA,this._logHandler=GA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in at))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?qA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,at.DEBUG,...e),this._logHandler(this,at.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,at.VERBOSE,...e),this._logHandler(this,at.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,at.INFO,...e),this._logHandler(this,at.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,at.WARN,...e),this._logHandler(this,at.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,at.ERROR,...e),this._logHandler(this,at.ERROR,...e)}}const QA=(i,e)=>e.some(n=>i instanceof n);let p_,g_;function KA(){return p_||(p_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function YA(){return g_||(g_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const fb=new WeakMap,Kd=new WeakMap,hb=new WeakMap,Md=new WeakMap,Im=new WeakMap;function XA(i){const e=new Promise((n,a)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",f)},u=()=>{n(ua(i.result)),o()},f=()=>{a(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&fb.set(n,i)}).catch(()=>{}),Im.set(e,i),e}function ZA(i){if(Kd.has(i))return;const e=new Promise((n,a)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",f),i.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{a(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",f),i.addEventListener("abort",f)});Kd.set(i,e)}let Yd={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return Kd.get(i);if(e==="objectStoreNames")return i.objectStoreNames||hb.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ua(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function WA(i){Yd=i(Yd)}function JA(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const a=i.call(Nd(this),e,...n);return hb.set(a,e.sort?e.sort():[e]),ua(a)}:YA().includes(i)?function(...e){return i.apply(Nd(this),e),ua(fb.get(this))}:function(...e){return ua(i.apply(Nd(this),e))}}function eS(i){return typeof i=="function"?JA(i):(i instanceof IDBTransaction&&ZA(i),QA(i,KA())?new Proxy(i,Yd):i)}function ua(i){if(i instanceof IDBRequest)return XA(i);if(Md.has(i))return Md.get(i);const e=eS(i);return e!==i&&(Md.set(i,e),Im.set(e,i)),e}const Nd=i=>Im.get(i);function db(i,e,{blocked:n,upgrade:a,blocking:o,terminated:u}={}){const f=indexedDB.open(i,e),c=ua(f);return a&&f.addEventListener("upgradeneeded",p=>{a(ua(f.result),p.oldVersion,p.newVersion,ua(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),c.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),c}const tS=["get","getKey","getAll","getAllKeys","count"],nS=["put","add","delete","clear"],Vd=new Map;function y_(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Vd.get(e))return Vd.get(e);const n=e.replace(/FromIndex$/,""),a=e!==n,o=nS.includes(n);if(!(n in(a?IDBIndex:IDBObjectStore).prototype)||!(o||tS.includes(n)))return;const u=async function(f,...c){const p=this.transaction(f,o?"readwrite":"readonly");let g=p.store;return a&&(g=g.index(c.shift())),(await Promise.all([g[n](...c),o&&p.done]))[0]};return Vd.set(e,u),u}WA(i=>({...i,get:(e,n,a)=>y_(e,n)||i.get(e,n,a),has:(e,n)=>!!y_(e,n)||i.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(iS(n)){const a=n.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(n=>n).join(" ")}}function iS(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Xd="@firebase/app",v_="0.11.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ri=new Dm("@firebase/app"),aS="@firebase/app-compat",sS="@firebase/analytics-compat",oS="@firebase/analytics",lS="@firebase/app-check-compat",uS="@firebase/app-check",cS="@firebase/auth",fS="@firebase/auth-compat",hS="@firebase/database",dS="@firebase/data-connect",mS="@firebase/database-compat",pS="@firebase/functions",gS="@firebase/functions-compat",yS="@firebase/installations",vS="@firebase/installations-compat",_S="@firebase/messaging",bS="@firebase/messaging-compat",ES="@firebase/performance",wS="@firebase/performance-compat",TS="@firebase/remote-config",AS="@firebase/remote-config-compat",SS="@firebase/storage",RS="@firebase/storage-compat",CS="@firebase/firestore",xS="@firebase/vertexai",DS="@firebase/firestore-compat",IS="firebase",OS="11.6.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zd="[DEFAULT]",MS={[Xd]:"fire-core",[aS]:"fire-core-compat",[oS]:"fire-analytics",[sS]:"fire-analytics-compat",[uS]:"fire-app-check",[lS]:"fire-app-check-compat",[cS]:"fire-auth",[fS]:"fire-auth-compat",[hS]:"fire-rtdb",[dS]:"fire-data-connect",[mS]:"fire-rtdb-compat",[pS]:"fire-fn",[gS]:"fire-fn-compat",[yS]:"fire-iid",[vS]:"fire-iid-compat",[_S]:"fire-fcm",[bS]:"fire-fcm-compat",[ES]:"fire-perf",[wS]:"fire-perf-compat",[TS]:"fire-rc",[AS]:"fire-rc-compat",[SS]:"fire-gcs",[RS]:"fire-gcs-compat",[CS]:"fire-fst",[DS]:"fire-fst-compat",[xS]:"fire-vertex","fire-js":"fire-js",[IS]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $c=new Map,NS=new Map,Wd=new Map;function __(i,e){try{i.container.addComponent(e)}catch(n){Ri.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function pa(i){const e=i.name;if(Wd.has(e))return Ri.debug(`There were multiple attempts to register component ${e}.`),!1;Wd.set(e,i);for(const n of $c.values())__(n,i);for(const n of NS.values())__(n,i);return!0}function Kl(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function VS(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ca=new sf("app","Firebase",kS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{constructor(e,n,a){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Si("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ca.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LS=OS;function mb(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const a=Object.assign({name:Zd,automaticDataCollectionEnabled:!1},e),o=a.name;if(typeof o!="string"||!o)throw ca.create("bad-app-name",{appName:String(o)});if(n||(n=lb()),!n)throw ca.create("no-options");const u=$c.get(o);if(u){if(Ll(n,u.options)&&Ll(a,u.config))return u;throw ca.create("duplicate-app",{appName:o})}const f=new BA(o);for(const p of Wd.values())f.addComponent(p);const c=new jS(n,a,f);return $c.set(o,c),c}function pb(i=Zd){const e=$c.get(i);if(!e&&i===Zd&&lb())return mb();if(!e)throw ca.create("no-app",{appName:i});return e}function Qr(i,e,n){var a;let o=(a=MS[i])!==null&&a!==void 0?a:i;n&&(o+=`-${n}`);const u=o.match(/\s|\//),f=e.match(/\s|\//);if(u||f){const c=[`Unable to register library "${o}" with version "${e}":`];u&&c.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&c.push("and"),f&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ri.warn(c.join(" "));return}pa(new Si(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PS="firebase-heartbeat-database",US=1,Pl="firebase-heartbeat-store";let kd=null;function gb(){return kd||(kd=db(PS,US,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(Pl)}catch(n){console.warn(n)}}}}).catch(i=>{throw ca.create("idb-open",{originalErrorMessage:i.message})})),kd}async function zS(i){try{const n=(await gb()).transaction(Pl),a=await n.objectStore(Pl).get(yb(i));return await n.done,a}catch(e){if(e instanceof wa)Ri.warn(e.message);else{const n=ca.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ri.warn(n.message)}}}async function b_(i,e){try{const a=(await gb()).transaction(Pl,"readwrite");await a.objectStore(Pl).put(e,yb(i)),await a.done}catch(n){if(n instanceof wa)Ri.warn(n.message);else{const a=ca.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ri.warn(a.message)}}}function yb(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $S=1024,BS=30;class qS{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new HS(n),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=E_();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>BS){const f=GS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){Ri.warn(a)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=E_(),{heartbeatsToSend:a,unsentEntries:o}=FS(this._heartbeatsCache.heartbeats),u=zc(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return Ri.warn(n),""}}}function E_(){return new Date().toISOString().substring(0,10)}function FS(i,e=$S){const n=[];let a=i.slice();for(const o of i){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),w_(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),w_(n)>e){n.pop();break}a=a.slice(1)}return{heartbeatsToSend:n,unsentEntries:a}}class HS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ub()?cb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await zS(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return b_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return b_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function w_(i){return zc(JSON.stringify({version:2,heartbeats:i})).length}function GS(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let a=1;a<i.length;a++)i[a].date<n&&(n=i[a].date,e=a);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QS(i){pa(new Si("platform-logger",e=>new rS(e),"PRIVATE")),pa(new Si("heartbeat",e=>new qS(e),"PRIVATE")),Qr(Xd,v_,i),Qr(Xd,v_,"esm2017"),Qr("fire-js","")}QS("");var KS="firebase",YS="11.6.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Qr(KS,YS,"app");const vb="@firebase/installations",Om="0.6.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _b=1e4,bb=`w:${Om}`,Eb="FIS_v2",XS="https://firebaseinstallations.googleapis.com/v1",ZS=60*60*1e3,WS="installations",JS="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e4={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},as=new sf(WS,JS,e4);function wb(i){return i instanceof wa&&i.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tb({projectId:i}){return`${XS}/projects/${i}/installations`}function Ab(i){return{token:i.token,requestStatus:2,expiresIn:n4(i.expiresIn),creationTime:Date.now()}}async function Sb(i,e){const a=(await e.json()).error;return as.create("request-failed",{requestName:i,serverCode:a.code,serverMessage:a.message,serverStatus:a.status})}function Rb({apiKey:i}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":i})}function t4(i,{refreshToken:e}){const n=Rb(i);return n.append("Authorization",r4(e)),n}async function Cb(i){const e=await i();return e.status>=500&&e.status<600?i():e}function n4(i){return Number(i.replace("s","000"))}function r4(i){return`${Eb} ${i}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i4({appConfig:i,heartbeatServiceProvider:e},{fid:n}){const a=Tb(i),o=Rb(i),u=e.getImmediate({optional:!0});if(u){const g=await u.getHeartbeatsHeader();g&&o.append("x-firebase-client",g)}const f={fid:n,authVersion:Eb,appId:i.appId,sdkVersion:bb},c={method:"POST",headers:o,body:JSON.stringify(f)},p=await Cb(()=>fetch(a,c));if(p.ok){const g=await p.json();return{fid:g.fid||n,registrationStatus:2,refreshToken:g.refreshToken,authToken:Ab(g.authToken)}}else throw await Sb("Create Installation",p)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xb(i){return new Promise(e=>{setTimeout(e,i)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a4(i){return btoa(String.fromCharCode(...i)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s4=/^[cdef][\w-]{21}$/,Jd="";function o4(){try{const i=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(i),i[0]=112+i[0]%16;const n=l4(i);return s4.test(n)?n:Jd}catch{return Jd}}function l4(i){return a4(i).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function of(i){return`${i.appName}!${i.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Db=new Map;function Ib(i,e){const n=of(i);Ob(n,e),u4(n,e)}function Ob(i,e){const n=Db.get(i);if(n)for(const a of n)a(e)}function u4(i,e){const n=c4();n&&n.postMessage({key:i,fid:e}),f4()}let rs=null;function c4(){return!rs&&"BroadcastChannel"in self&&(rs=new BroadcastChannel("[Firebase] FID Change"),rs.onmessage=i=>{Ob(i.data.key,i.data.fid)}),rs}function f4(){Db.size===0&&rs&&(rs.close(),rs=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h4="firebase-installations-database",d4=1,ss="firebase-installations-store";let jd=null;function Mm(){return jd||(jd=db(h4,d4,{upgrade:(i,e)=>{switch(e){case 0:i.createObjectStore(ss)}}})),jd}async function Bc(i,e){const n=of(i),o=(await Mm()).transaction(ss,"readwrite"),u=o.objectStore(ss),f=await u.get(n);return await u.put(e,n),await o.done,(!f||f.fid!==e.fid)&&Ib(i,e.fid),e}async function Mb(i){const e=of(i),a=(await Mm()).transaction(ss,"readwrite");await a.objectStore(ss).delete(e),await a.done}async function lf(i,e){const n=of(i),o=(await Mm()).transaction(ss,"readwrite"),u=o.objectStore(ss),f=await u.get(n),c=e(f);return c===void 0?await u.delete(n):await u.put(c,n),await o.done,c&&(!f||f.fid!==c.fid)&&Ib(i,c.fid),c}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nm(i){let e;const n=await lf(i.appConfig,a=>{const o=m4(a),u=p4(i,o);return e=u.registrationPromise,u.installationEntry});return n.fid===Jd?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function m4(i){const e=i||{fid:o4(),registrationStatus:0};return Nb(e)}function p4(i,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(as.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},a=g4(i,n);return{installationEntry:n,registrationPromise:a}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:y4(i)}:{installationEntry:e}}async function g4(i,e){try{const n=await i4(i,e);return Bc(i.appConfig,n)}catch(n){throw wb(n)&&n.customData.serverCode===409?await Mb(i.appConfig):await Bc(i.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function y4(i){let e=await T_(i.appConfig);for(;e.registrationStatus===1;)await xb(100),e=await T_(i.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:a}=await Nm(i);return a||n}return e}function T_(i){return lf(i,e=>{if(!e)throw as.create("installation-not-found");return Nb(e)})}function Nb(i){return v4(i)?{fid:i.fid,registrationStatus:0}:i}function v4(i){return i.registrationStatus===1&&i.registrationTime+_b<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _4({appConfig:i,heartbeatServiceProvider:e},n){const a=b4(i,n),o=t4(i,n),u=e.getImmediate({optional:!0});if(u){const g=await u.getHeartbeatsHeader();g&&o.append("x-firebase-client",g)}const f={installation:{sdkVersion:bb,appId:i.appId}},c={method:"POST",headers:o,body:JSON.stringify(f)},p=await Cb(()=>fetch(a,c));if(p.ok){const g=await p.json();return Ab(g)}else throw await Sb("Generate Auth Token",p)}function b4(i,{fid:e}){return`${Tb(i)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vm(i,e=!1){let n;const a=await lf(i.appConfig,u=>{if(!Vb(u))throw as.create("not-registered");const f=u.authToken;if(!e&&T4(f))return u;if(f.requestStatus===1)return n=E4(i,e),u;{if(!navigator.onLine)throw as.create("app-offline");const c=S4(u);return n=w4(i,c),c}});return n?await n:a.authToken}async function E4(i,e){let n=await A_(i.appConfig);for(;n.authToken.requestStatus===1;)await xb(100),n=await A_(i.appConfig);const a=n.authToken;return a.requestStatus===0?Vm(i,e):a}function A_(i){return lf(i,e=>{if(!Vb(e))throw as.create("not-registered");const n=e.authToken;return R4(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function w4(i,e){try{const n=await _4(i,e),a=Object.assign(Object.assign({},e),{authToken:n});return await Bc(i.appConfig,a),n}catch(n){if(wb(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await Mb(i.appConfig);else{const a=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Bc(i.appConfig,a)}throw n}}function Vb(i){return i!==void 0&&i.registrationStatus===2}function T4(i){return i.requestStatus===2&&!A4(i)}function A4(i){const e=Date.now();return e<i.creationTime||i.creationTime+i.expiresIn<e+ZS}function S4(i){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},i),{authToken:e})}function R4(i){return i.requestStatus===1&&i.requestTime+_b<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C4(i){const e=i,{installationEntry:n,registrationPromise:a}=await Nm(e);return a?a.catch(console.error):Vm(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x4(i,e=!1){const n=i;return await D4(n),(await Vm(n,e)).token}async function D4(i){const{registrationPromise:e}=await Nm(i);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I4(i){if(!i||!i.options)throw Ld("App Configuration");if(!i.name)throw Ld("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!i.options[n])throw Ld(n);return{appName:i.name,projectId:i.options.projectId,apiKey:i.options.apiKey,appId:i.options.appId}}function Ld(i){return as.create("missing-app-config-values",{valueName:i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kb="installations",O4="installations-internal",M4=i=>{const e=i.getProvider("app").getImmediate(),n=I4(e),a=Kl(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:a,_delete:()=>Promise.resolve()}},N4=i=>{const e=i.getProvider("app").getImmediate(),n=Kl(e,kb).getImmediate();return{getId:()=>C4(n),getToken:o=>x4(n,o)}};function V4(){pa(new Si(kb,M4,"PUBLIC")),pa(new Si(O4,N4,"PRIVATE"))}V4();Qr(vb,Om);Qr(vb,Om,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qc="analytics",k4="firebase_id",j4="origin",L4=60*1e3,P4="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",km="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mn=new Dm("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U4={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Kn=new sf("analytics","Analytics",U4);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z4(i){if(!i.startsWith(km)){const e=Kn.create("invalid-gtag-resource",{gtagURL:i});return Mn.warn(e.message),""}return i}function jb(i){return Promise.all(i.map(e=>e.catch(n=>n)))}function $4(i,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(i,e)),n}function B4(i,e){const n=$4("firebase-js-sdk-policy",{createScriptURL:z4}),a=document.createElement("script"),o=`${km}?l=${i}&id=${e}`;a.src=n?n==null?void 0:n.createScriptURL(o):o,a.async=!0,document.head.appendChild(a)}function q4(i){let e=[];return Array.isArray(window[i])?e=window[i]:window[i]=e,e}async function F4(i,e,n,a,o,u){const f=a[o];try{if(f)await e[f];else{const p=(await jb(n)).find(g=>g.measurementId===o);p&&await e[p.appId]}}catch(c){Mn.error(c)}i("config",o,u)}async function H4(i,e,n,a,o){try{let u=[];if(o&&o.send_to){let f=o.send_to;Array.isArray(f)||(f=[f]);const c=await jb(n);for(const p of f){const g=c.find(d=>d.measurementId===p),E=g&&e[g.appId];if(E)u.push(E);else{u=[];break}}}u.length===0&&(u=Object.values(e)),await Promise.all(u),i("event",a,o||{})}catch(u){Mn.error(u)}}function G4(i,e,n,a){async function o(u,...f){try{if(u==="event"){const[c,p]=f;await H4(i,e,n,c,p)}else if(u==="config"){const[c,p]=f;await F4(i,e,n,a,c,p)}else if(u==="consent"){const[c,p]=f;i("consent",c,p)}else if(u==="get"){const[c,p,g]=f;i("get",c,p,g)}else if(u==="set"){const[c]=f;i("set",c)}else i(u,...f)}catch(c){Mn.error(c)}}return o}function Q4(i,e,n,a,o){let u=function(...f){window[a].push(arguments)};return window[o]&&typeof window[o]=="function"&&(u=window[o]),window[o]=G4(u,i,e,n),{gtagCore:u,wrappedGtag:window[o]}}function K4(i){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(km)&&n.src.includes(i))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y4=30,X4=1e3;class Z4{constructor(e={},n=X4){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const Lb=new Z4;function W4(i){return new Headers({Accept:"application/json","x-goog-api-key":i})}async function J4(i){var e;const{appId:n,apiKey:a}=i,o={method:"GET",headers:W4(a)},u=P4.replace("{app-id}",n),f=await fetch(u,o);if(f.status!==200&&f.status!==304){let c="";try{const p=await f.json();!((e=p.error)===null||e===void 0)&&e.message&&(c=p.error.message)}catch{}throw Kn.create("config-fetch-failed",{httpStatus:f.status,responseMessage:c})}return f.json()}async function eR(i,e=Lb,n){const{appId:a,apiKey:o,measurementId:u}=i.options;if(!a)throw Kn.create("no-app-id");if(!o){if(u)return{measurementId:u,appId:a};throw Kn.create("no-api-key")}const f=e.getThrottleMetadata(a)||{backoffCount:0,throttleEndTimeMillis:Date.now()},c=new rR;return setTimeout(async()=>{c.abort()},L4),Pb({appId:a,apiKey:o,measurementId:u},f,c,e)}async function Pb(i,{throttleEndTimeMillis:e,backoffCount:n},a,o=Lb){var u;const{appId:f,measurementId:c}=i;try{await tR(a,e)}catch(p){if(c)return Mn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${p==null?void 0:p.message}]`),{appId:f,measurementId:c};throw p}try{const p=await J4(i);return o.deleteThrottleMetadata(f),p}catch(p){const g=p;if(!nR(g)){if(o.deleteThrottleMetadata(f),c)return Mn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${g==null?void 0:g.message}]`),{appId:f,measurementId:c};throw p}const E=Number((u=g==null?void 0:g.customData)===null||u===void 0?void 0:u.httpStatus)===503?m_(n,o.intervalMillis,Y4):m_(n,o.intervalMillis),d={throttleEndTimeMillis:Date.now()+E,backoffCount:n+1};return o.setThrottleMetadata(f,d),Mn.debug(`Calling attemptFetch again in ${E} millis`),Pb(i,d,a,o)}}function tR(i,e){return new Promise((n,a)=>{const o=Math.max(e-Date.now(),0),u=setTimeout(n,o);i.addEventListener(()=>{clearTimeout(u),a(Kn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function nR(i){if(!(i instanceof wa)||!i.customData)return!1;const e=Number(i.customData.httpStatus);return e===429||e===500||e===503||e===504}class rR{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function iR(i,e,n,a,o){if(o&&o.global){i("event",n,a);return}else{const u=await e,f=Object.assign(Object.assign({},a),{send_to:u});i("event",n,f)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aR(){if(ub())try{await cb()}catch(i){return Mn.warn(Kn.create("indexeddb-unavailable",{errorInfo:i==null?void 0:i.toString()}).message),!1}else return Mn.warn(Kn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function sR(i,e,n,a,o,u,f){var c;const p=eR(i);p.then(_=>{n[_.measurementId]=_.appId,i.options.measurementId&&_.measurementId!==i.options.measurementId&&Mn.warn(`The measurement ID in the local Firebase config (${i.options.measurementId}) does not match the measurement ID fetched from the server (${_.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(_=>Mn.error(_)),e.push(p);const g=aR().then(_=>{if(_)return a.getId()}),[E,d]=await Promise.all([p,g]);K4(u)||B4(u,E.measurementId),o("js",new Date);const y=(c=f==null?void 0:f.config)!==null&&c!==void 0?c:{};return y[j4]="firebase",y.update=!0,d!=null&&(y[k4]=d),o("config",E.measurementId,y),E.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{constructor(e){this.app=e}_delete(){return delete Il[this.app.options.appId],Promise.resolve()}}let Il={},S_=[];const R_={};let Pd="dataLayer",lR="gtag",C_,Ub,x_=!1;function uR(){const i=[];if(DA()&&i.push("This is a browser extension environment."),OA()||i.push("Cookies are not available."),i.length>0){const e=i.map((a,o)=>`(${o+1}) ${a}`).join(" "),n=Kn.create("invalid-analytics-context",{errorInfo:e});Mn.warn(n.message)}}function cR(i,e,n){uR();const a=i.options.appId;if(!a)throw Kn.create("no-app-id");if(!i.options.apiKey)if(i.options.measurementId)Mn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${i.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Kn.create("no-api-key");if(Il[a]!=null)throw Kn.create("already-exists",{id:a});if(!x_){q4(Pd);const{wrappedGtag:u,gtagCore:f}=Q4(Il,S_,R_,Pd,lR);Ub=u,C_=f,x_=!0}return Il[a]=sR(i,S_,R_,e,C_,Pd,n),new oR(i)}function fR(i=pb()){i=Tr(i);const e=Kl(i,qc);return e.isInitialized()?e.getImmediate():hR(i)}function hR(i,e={}){const n=Kl(i,qc);if(n.isInitialized()){const o=n.getImmediate();if(Ll(e,n.getOptions()))return o;throw Kn.create("already-initialized")}return n.initialize({options:e})}function dR(i,e,n,a){i=Tr(i),iR(Ub,Il[i.app.options.appId],e,n,a).catch(o=>Mn.error(o))}const D_="@firebase/analytics",I_="0.10.12";function mR(){pa(new Si(qc,(e,{options:n})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return cR(a,o,n)},"PUBLIC")),pa(new Si("analytics-internal",i,"PRIVATE")),Qr(D_,I_),Qr(D_,I_,"esm2017");function i(e){try{const n=e.getProvider(qc).getImmediate();return{logEvent:(a,o,u)=>dR(n,a,o,u)}}catch(n){throw Kn.create("interop-component-reg-failed",{reason:n})}}}mR();var O_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var fa,zb;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,A){function C(){}C.prototype=A.prototype,O.D=A.prototype,O.prototype=new C,O.prototype.constructor=O,O.C=function(I,L,$){for(var U=Array(arguments.length-2),de=2;de<arguments.length;de++)U[de-2]=arguments[de];return A.prototype[L].apply(I,U)}}function n(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(a,n),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(O,A,C){C||(C=0);var I=Array(16);if(typeof A=="string")for(var L=0;16>L;++L)I[L]=A.charCodeAt(C++)|A.charCodeAt(C++)<<8|A.charCodeAt(C++)<<16|A.charCodeAt(C++)<<24;else for(L=0;16>L;++L)I[L]=A[C++]|A[C++]<<8|A[C++]<<16|A[C++]<<24;A=O.g[0],C=O.g[1],L=O.g[2];var $=O.g[3],U=A+($^C&(L^$))+I[0]+3614090360&4294967295;A=C+(U<<7&4294967295|U>>>25),U=$+(L^A&(C^L))+I[1]+3905402710&4294967295,$=A+(U<<12&4294967295|U>>>20),U=L+(C^$&(A^C))+I[2]+606105819&4294967295,L=$+(U<<17&4294967295|U>>>15),U=C+(A^L&($^A))+I[3]+3250441966&4294967295,C=L+(U<<22&4294967295|U>>>10),U=A+($^C&(L^$))+I[4]+4118548399&4294967295,A=C+(U<<7&4294967295|U>>>25),U=$+(L^A&(C^L))+I[5]+1200080426&4294967295,$=A+(U<<12&4294967295|U>>>20),U=L+(C^$&(A^C))+I[6]+2821735955&4294967295,L=$+(U<<17&4294967295|U>>>15),U=C+(A^L&($^A))+I[7]+4249261313&4294967295,C=L+(U<<22&4294967295|U>>>10),U=A+($^C&(L^$))+I[8]+1770035416&4294967295,A=C+(U<<7&4294967295|U>>>25),U=$+(L^A&(C^L))+I[9]+2336552879&4294967295,$=A+(U<<12&4294967295|U>>>20),U=L+(C^$&(A^C))+I[10]+4294925233&4294967295,L=$+(U<<17&4294967295|U>>>15),U=C+(A^L&($^A))+I[11]+2304563134&4294967295,C=L+(U<<22&4294967295|U>>>10),U=A+($^C&(L^$))+I[12]+1804603682&4294967295,A=C+(U<<7&4294967295|U>>>25),U=$+(L^A&(C^L))+I[13]+4254626195&4294967295,$=A+(U<<12&4294967295|U>>>20),U=L+(C^$&(A^C))+I[14]+2792965006&4294967295,L=$+(U<<17&4294967295|U>>>15),U=C+(A^L&($^A))+I[15]+1236535329&4294967295,C=L+(U<<22&4294967295|U>>>10),U=A+(L^$&(C^L))+I[1]+4129170786&4294967295,A=C+(U<<5&4294967295|U>>>27),U=$+(C^L&(A^C))+I[6]+3225465664&4294967295,$=A+(U<<9&4294967295|U>>>23),U=L+(A^C&($^A))+I[11]+643717713&4294967295,L=$+(U<<14&4294967295|U>>>18),U=C+($^A&(L^$))+I[0]+3921069994&4294967295,C=L+(U<<20&4294967295|U>>>12),U=A+(L^$&(C^L))+I[5]+3593408605&4294967295,A=C+(U<<5&4294967295|U>>>27),U=$+(C^L&(A^C))+I[10]+38016083&4294967295,$=A+(U<<9&4294967295|U>>>23),U=L+(A^C&($^A))+I[15]+3634488961&4294967295,L=$+(U<<14&4294967295|U>>>18),U=C+($^A&(L^$))+I[4]+3889429448&4294967295,C=L+(U<<20&4294967295|U>>>12),U=A+(L^$&(C^L))+I[9]+568446438&4294967295,A=C+(U<<5&4294967295|U>>>27),U=$+(C^L&(A^C))+I[14]+3275163606&4294967295,$=A+(U<<9&4294967295|U>>>23),U=L+(A^C&($^A))+I[3]+4107603335&4294967295,L=$+(U<<14&4294967295|U>>>18),U=C+($^A&(L^$))+I[8]+1163531501&4294967295,C=L+(U<<20&4294967295|U>>>12),U=A+(L^$&(C^L))+I[13]+2850285829&4294967295,A=C+(U<<5&4294967295|U>>>27),U=$+(C^L&(A^C))+I[2]+4243563512&4294967295,$=A+(U<<9&4294967295|U>>>23),U=L+(A^C&($^A))+I[7]+1735328473&4294967295,L=$+(U<<14&4294967295|U>>>18),U=C+($^A&(L^$))+I[12]+2368359562&4294967295,C=L+(U<<20&4294967295|U>>>12),U=A+(C^L^$)+I[5]+4294588738&4294967295,A=C+(U<<4&4294967295|U>>>28),U=$+(A^C^L)+I[8]+2272392833&4294967295,$=A+(U<<11&4294967295|U>>>21),U=L+($^A^C)+I[11]+1839030562&4294967295,L=$+(U<<16&4294967295|U>>>16),U=C+(L^$^A)+I[14]+4259657740&4294967295,C=L+(U<<23&4294967295|U>>>9),U=A+(C^L^$)+I[1]+2763975236&4294967295,A=C+(U<<4&4294967295|U>>>28),U=$+(A^C^L)+I[4]+1272893353&4294967295,$=A+(U<<11&4294967295|U>>>21),U=L+($^A^C)+I[7]+4139469664&4294967295,L=$+(U<<16&4294967295|U>>>16),U=C+(L^$^A)+I[10]+3200236656&4294967295,C=L+(U<<23&4294967295|U>>>9),U=A+(C^L^$)+I[13]+681279174&4294967295,A=C+(U<<4&4294967295|U>>>28),U=$+(A^C^L)+I[0]+3936430074&4294967295,$=A+(U<<11&4294967295|U>>>21),U=L+($^A^C)+I[3]+3572445317&4294967295,L=$+(U<<16&4294967295|U>>>16),U=C+(L^$^A)+I[6]+76029189&4294967295,C=L+(U<<23&4294967295|U>>>9),U=A+(C^L^$)+I[9]+3654602809&4294967295,A=C+(U<<4&4294967295|U>>>28),U=$+(A^C^L)+I[12]+3873151461&4294967295,$=A+(U<<11&4294967295|U>>>21),U=L+($^A^C)+I[15]+530742520&4294967295,L=$+(U<<16&4294967295|U>>>16),U=C+(L^$^A)+I[2]+3299628645&4294967295,C=L+(U<<23&4294967295|U>>>9),U=A+(L^(C|~$))+I[0]+4096336452&4294967295,A=C+(U<<6&4294967295|U>>>26),U=$+(C^(A|~L))+I[7]+1126891415&4294967295,$=A+(U<<10&4294967295|U>>>22),U=L+(A^($|~C))+I[14]+2878612391&4294967295,L=$+(U<<15&4294967295|U>>>17),U=C+($^(L|~A))+I[5]+4237533241&4294967295,C=L+(U<<21&4294967295|U>>>11),U=A+(L^(C|~$))+I[12]+1700485571&4294967295,A=C+(U<<6&4294967295|U>>>26),U=$+(C^(A|~L))+I[3]+2399980690&4294967295,$=A+(U<<10&4294967295|U>>>22),U=L+(A^($|~C))+I[10]+4293915773&4294967295,L=$+(U<<15&4294967295|U>>>17),U=C+($^(L|~A))+I[1]+2240044497&4294967295,C=L+(U<<21&4294967295|U>>>11),U=A+(L^(C|~$))+I[8]+1873313359&4294967295,A=C+(U<<6&4294967295|U>>>26),U=$+(C^(A|~L))+I[15]+4264355552&4294967295,$=A+(U<<10&4294967295|U>>>22),U=L+(A^($|~C))+I[6]+2734768916&4294967295,L=$+(U<<15&4294967295|U>>>17),U=C+($^(L|~A))+I[13]+1309151649&4294967295,C=L+(U<<21&4294967295|U>>>11),U=A+(L^(C|~$))+I[4]+4149444226&4294967295,A=C+(U<<6&4294967295|U>>>26),U=$+(C^(A|~L))+I[11]+3174756917&4294967295,$=A+(U<<10&4294967295|U>>>22),U=L+(A^($|~C))+I[2]+718787259&4294967295,L=$+(U<<15&4294967295|U>>>17),U=C+($^(L|~A))+I[9]+3951481745&4294967295,O.g[0]=O.g[0]+A&4294967295,O.g[1]=O.g[1]+(L+(U<<21&4294967295|U>>>11))&4294967295,O.g[2]=O.g[2]+L&4294967295,O.g[3]=O.g[3]+$&4294967295}a.prototype.u=function(O,A){A===void 0&&(A=O.length);for(var C=A-this.blockSize,I=this.B,L=this.h,$=0;$<A;){if(L==0)for(;$<=C;)o(this,O,$),$+=this.blockSize;if(typeof O=="string"){for(;$<A;)if(I[L++]=O.charCodeAt($++),L==this.blockSize){o(this,I),L=0;break}}else for(;$<A;)if(I[L++]=O[$++],L==this.blockSize){o(this,I),L=0;break}}this.h=L,this.o+=A},a.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var A=1;A<O.length-8;++A)O[A]=0;var C=8*this.o;for(A=O.length-8;A<O.length;++A)O[A]=C&255,C/=256;for(this.u(O),O=Array(16),A=C=0;4>A;++A)for(var I=0;32>I;I+=8)O[C++]=this.g[A]>>>I&255;return O};function u(O,A){var C=c;return Object.prototype.hasOwnProperty.call(C,O)?C[O]:C[O]=A(O)}function f(O,A){this.h=A;for(var C=[],I=!0,L=O.length-1;0<=L;L--){var $=O[L]|0;I&&$==A||(C[L]=$,I=!1)}this.g=C}var c={};function p(O){return-128<=O&&128>O?u(O,function(A){return new f([A|0],0>A?-1:0)}):new f([O|0],0>O?-1:0)}function g(O){if(isNaN(O)||!isFinite(O))return d;if(0>O)return R(g(-O));for(var A=[],C=1,I=0;O>=C;I++)A[I]=O/C|0,C*=4294967296;return new f(A,0)}function E(O,A){if(O.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(O.charAt(0)=="-")return R(E(O.substring(1),A));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=g(Math.pow(A,8)),I=d,L=0;L<O.length;L+=8){var $=Math.min(8,O.length-L),U=parseInt(O.substring(L,L+$),A);8>$?($=g(Math.pow(A,$)),I=I.j($).add(g(U))):(I=I.j(C),I=I.add(g(U)))}return I}var d=p(0),y=p(1),_=p(16777216);i=f.prototype,i.m=function(){if(b(this))return-R(this).m();for(var O=0,A=1,C=0;C<this.g.length;C++){var I=this.i(C);O+=(0<=I?I:4294967296+I)*A,A*=4294967296}return O},i.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(v(this))return"0";if(b(this))return"-"+R(this).toString(O);for(var A=g(Math.pow(O,6)),C=this,I="";;){var L=V(C,A).g;C=w(C,L.j(A));var $=((0<C.g.length?C.g[0]:C.h)>>>0).toString(O);if(C=L,v(C))return $+I;for(;6>$.length;)$="0"+$;I=$+I}},i.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function v(O){if(O.h!=0)return!1;for(var A=0;A<O.g.length;A++)if(O.g[A]!=0)return!1;return!0}function b(O){return O.h==-1}i.l=function(O){return O=w(this,O),b(O)?-1:v(O)?0:1};function R(O){for(var A=O.g.length,C=[],I=0;I<A;I++)C[I]=~O.g[I];return new f(C,~O.h).add(y)}i.abs=function(){return b(this)?R(this):this},i.add=function(O){for(var A=Math.max(this.g.length,O.g.length),C=[],I=0,L=0;L<=A;L++){var $=I+(this.i(L)&65535)+(O.i(L)&65535),U=($>>>16)+(this.i(L)>>>16)+(O.i(L)>>>16);I=U>>>16,$&=65535,U&=65535,C[L]=U<<16|$}return new f(C,C[C.length-1]&-2147483648?-1:0)};function w(O,A){return O.add(R(A))}i.j=function(O){if(v(this)||v(O))return d;if(b(this))return b(O)?R(this).j(R(O)):R(R(this).j(O));if(b(O))return R(this.j(R(O)));if(0>this.l(_)&&0>O.l(_))return g(this.m()*O.m());for(var A=this.g.length+O.g.length,C=[],I=0;I<2*A;I++)C[I]=0;for(I=0;I<this.g.length;I++)for(var L=0;L<O.g.length;L++){var $=this.i(I)>>>16,U=this.i(I)&65535,de=O.i(L)>>>16,pe=O.i(L)&65535;C[2*I+2*L]+=U*pe,S(C,2*I+2*L),C[2*I+2*L+1]+=$*pe,S(C,2*I+2*L+1),C[2*I+2*L+1]+=U*de,S(C,2*I+2*L+1),C[2*I+2*L+2]+=$*de,S(C,2*I+2*L+2)}for(I=0;I<A;I++)C[I]=C[2*I+1]<<16|C[2*I];for(I=A;I<2*A;I++)C[I]=0;return new f(C,0)};function S(O,A){for(;(O[A]&65535)!=O[A];)O[A+1]+=O[A]>>>16,O[A]&=65535,A++}function D(O,A){this.g=O,this.h=A}function V(O,A){if(v(A))throw Error("division by zero");if(v(O))return new D(d,d);if(b(O))return A=V(R(O),A),new D(R(A.g),R(A.h));if(b(A))return A=V(O,R(A)),new D(R(A.g),A.h);if(30<O.g.length){if(b(O)||b(A))throw Error("slowDivide_ only works with positive integers.");for(var C=y,I=A;0>=I.l(O);)C=j(C),I=j(I);var L=k(C,1),$=k(I,1);for(I=k(I,2),C=k(C,2);!v(I);){var U=$.add(I);0>=U.l(O)&&(L=L.add(C),$=U),I=k(I,1),C=k(C,1)}return A=w(O,L.j(A)),new D(L,A)}for(L=d;0<=O.l(A);){for(C=Math.max(1,Math.floor(O.m()/A.m())),I=Math.ceil(Math.log(C)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),$=g(C),U=$.j(A);b(U)||0<U.l(O);)C-=I,$=g(C),U=$.j(A);v($)&&($=y),L=L.add($),O=w(O,U)}return new D(L,O)}i.A=function(O){return V(this,O).h},i.and=function(O){for(var A=Math.max(this.g.length,O.g.length),C=[],I=0;I<A;I++)C[I]=this.i(I)&O.i(I);return new f(C,this.h&O.h)},i.or=function(O){for(var A=Math.max(this.g.length,O.g.length),C=[],I=0;I<A;I++)C[I]=this.i(I)|O.i(I);return new f(C,this.h|O.h)},i.xor=function(O){for(var A=Math.max(this.g.length,O.g.length),C=[],I=0;I<A;I++)C[I]=this.i(I)^O.i(I);return new f(C,this.h^O.h)};function j(O){for(var A=O.g.length+1,C=[],I=0;I<A;I++)C[I]=O.i(I)<<1|O.i(I-1)>>>31;return new f(C,O.h)}function k(O,A){var C=A>>5;A%=32;for(var I=O.g.length-C,L=[],$=0;$<I;$++)L[$]=0<A?O.i($+C)>>>A|O.i($+C+1)<<32-A:O.i($+C);return new f(L,O.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,zb=a,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=E,fa=f}).apply(typeof O_<"u"?O_:typeof self<"u"?self:typeof window<"u"?window:{});var Ec=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var $b,Cl,Bb,Ic,em,qb,Fb,Hb;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,x,M){return h==Array.prototype||h==Object.prototype||(h[x]=M.value),h};function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ec=="object"&&Ec];for(var x=0;x<h.length;++x){var M=h[x];if(M&&M.Math==Math)return M}throw Error("Cannot find global object")}var a=n(this);function o(h,x){if(x)e:{var M=a;h=h.split(".");for(var z=0;z<h.length-1;z++){var X=h[z];if(!(X in M))break e;M=M[X]}h=h[h.length-1],z=M[h],x=x(z),x!=z&&x!=null&&e(M,h,{configurable:!0,writable:!0,value:x})}}function u(h,x){h instanceof String&&(h+="");var M=0,z=!1,X={next:function(){if(!z&&M<h.length){var ie=M++;return{value:x(ie,h[ie]),done:!1}}return z=!0,{done:!0,value:void 0}}};return X[Symbol.iterator]=function(){return X},X}o("Array.prototype.values",function(h){return h||function(){return u(this,function(x,M){return M})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},c=this||self;function p(h){var x=typeof h;return x=x!="object"?x:h?Array.isArray(h)?"array":x:"null",x=="array"||x=="object"&&typeof h.length=="number"}function g(h){var x=typeof h;return x=="object"&&h!=null||x=="function"}function E(h,x,M){return h.call.apply(h.bind,arguments)}function d(h,x,M){if(!h)throw Error();if(2<arguments.length){var z=Array.prototype.slice.call(arguments,2);return function(){var X=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(X,z),h.apply(x,X)}}return function(){return h.apply(x,arguments)}}function y(h,x,M){return y=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:d,y.apply(null,arguments)}function _(h,x){var M=Array.prototype.slice.call(arguments,1);return function(){var z=M.slice();return z.push.apply(z,arguments),h.apply(this,z)}}function v(h,x){function M(){}M.prototype=x.prototype,h.aa=x.prototype,h.prototype=new M,h.prototype.constructor=h,h.Qb=function(z,X,ie){for(var ve=Array(arguments.length-2),tt=2;tt<arguments.length;tt++)ve[tt-2]=arguments[tt];return x.prototype[X].apply(z,ve)}}function b(h){const x=h.length;if(0<x){const M=Array(x);for(let z=0;z<x;z++)M[z]=h[z];return M}return[]}function R(h,x){for(let M=1;M<arguments.length;M++){const z=arguments[M];if(p(z)){const X=h.length||0,ie=z.length||0;h.length=X+ie;for(let ve=0;ve<ie;ve++)h[X+ve]=z[ve]}else h.push(z)}}class w{constructor(x,M){this.i=x,this.j=M,this.h=0,this.g=null}get(){let x;return 0<this.h?(this.h--,x=this.g,this.g=x.next,x.next=null):x=this.i(),x}}function S(h){return/^[\s\xa0]*$/.test(h)}function D(){var h=c.navigator;return h&&(h=h.userAgent)?h:""}function V(h){return V[" "](h),h}V[" "]=function(){};var j=D().indexOf("Gecko")!=-1&&!(D().toLowerCase().indexOf("webkit")!=-1&&D().indexOf("Edge")==-1)&&!(D().indexOf("Trident")!=-1||D().indexOf("MSIE")!=-1)&&D().indexOf("Edge")==-1;function k(h,x,M){for(const z in h)x.call(M,h[z],z,h)}function O(h,x){for(const M in h)x.call(void 0,h[M],M,h)}function A(h){const x={};for(const M in h)x[M]=h[M];return x}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(h,x){let M,z;for(let X=1;X<arguments.length;X++){z=arguments[X];for(M in z)h[M]=z[M];for(let ie=0;ie<C.length;ie++)M=C[ie],Object.prototype.hasOwnProperty.call(z,M)&&(h[M]=z[M])}}function L(h){var x=1;h=h.split(":");const M=[];for(;0<x&&h.length;)M.push(h.shift()),x--;return h.length&&M.push(h.join(":")),M}function $(h){c.setTimeout(()=>{throw h},0)}function U(){var h=Ce;let x=null;return h.g&&(x=h.g,h.g=h.g.next,h.g||(h.h=null),x.next=null),x}class de{constructor(){this.h=this.g=null}add(x,M){const z=pe.get();z.set(x,M),this.h?this.h.next=z:this.g=z,this.h=z}}var pe=new w(()=>new Q,h=>h.reset());class Q{constructor(){this.next=this.g=this.h=null}set(x,M){this.h=x,this.g=M,this.next=null}reset(){this.next=this.g=this.h=null}}let se,ye=!1,Ce=new de,B=()=>{const h=c.Promise.resolve(void 0);se=()=>{h.then(re)}};var re=()=>{for(var h;h=U();){try{h.h.call(h.g)}catch(M){$(M)}var x=pe;x.j(h),100>x.h&&(x.h++,h.next=x.g,x.g=h)}ye=!1};function me(){this.s=this.s,this.C=this.C}me.prototype.s=!1,me.prototype.ma=function(){this.s||(this.s=!0,this.N())},me.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ce(h,x){this.type=h,this.g=this.target=x,this.defaultPrevented=!1}ce.prototype.h=function(){this.defaultPrevented=!0};var _e=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,x=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const M=()=>{};c.addEventListener("test",M,x),c.removeEventListener("test",M,x)}catch{}return h}();function Le(h,x){if(ce.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var M=this.type=h.type,z=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=x,x=h.relatedTarget){if(j){e:{try{V(x.nodeName);var X=!0;break e}catch{}X=!1}X||(x=null)}}else M=="mouseover"?x=h.fromElement:M=="mouseout"&&(x=h.toElement);this.relatedTarget=x,z?(this.clientX=z.clientX!==void 0?z.clientX:z.pageX,this.clientY=z.clientY!==void 0?z.clientY:z.pageY,this.screenX=z.screenX||0,this.screenY=z.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:xe[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&Le.aa.h.call(this)}}v(Le,ce);var xe={2:"touch",3:"pen",4:"mouse"};Le.prototype.h=function(){Le.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var wt="closure_listenable_"+(1e6*Math.random()|0),pt=0;function Xn(h,x,M,z,X){this.listener=h,this.proxy=null,this.src=x,this.type=M,this.capture=!!z,this.ha=X,this.key=++pt,this.da=this.fa=!1}function St(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function fn(h){this.src=h,this.g={},this.h=0}fn.prototype.add=function(h,x,M,z,X){var ie=h.toString();h=this.g[ie],h||(h=this.g[ie]=[],this.h++);var ve=Jr(h,x,z,X);return-1<ve?(x=h[ve],M||(x.fa=!1)):(x=new Xn(x,this.src,ie,!!z,X),x.fa=M,h.push(x)),x};function Sr(h,x){var M=x.type;if(M in h.g){var z=h.g[M],X=Array.prototype.indexOf.call(z,x,void 0),ie;(ie=0<=X)&&Array.prototype.splice.call(z,X,1),ie&&(St(x),h.g[M].length==0&&(delete h.g[M],h.h--))}}function Jr(h,x,M,z){for(var X=0;X<h.length;++X){var ie=h[X];if(!ie.da&&ie.listener==x&&ie.capture==!!M&&ie.ha==z)return X}return-1}var _n="closure_lm_"+(1e6*Math.random()|0),Sa={};function ps(h,x,M,z,X){if(Array.isArray(x)){for(var ie=0;ie<x.length;ie++)ps(h,x[ie],M,z,X);return null}return M=Mi(M),h&&h[wt]?h.K(x,M,g(z)?!!z.capture:!1,X):bn(h,x,M,!1,z,X)}function bn(h,x,M,z,X,ie){if(!x)throw Error("Invalid event type");var ve=g(X)?!!X.capture:!!X,tt=Zn(h);if(tt||(h[_n]=tt=new fn(h)),M=tt.add(x,M,z,ve,ie),M.proxy)return M;if(z=Eo(),M.proxy=z,z.src=h,z.listener=M,h.addEventListener)_e||(X=ve),X===void 0&&(X=!1),h.addEventListener(x.toString(),z,X);else if(h.attachEvent)h.attachEvent(ei(x.toString()),z);else if(h.addListener&&h.removeListener)h.addListener(z);else throw Error("addEventListener and attachEvent are unavailable.");return M}function Eo(){function h(M){return x.call(h.src,h.listener,M)}const x=gr;return h}function Ra(h,x,M,z,X){if(Array.isArray(x))for(var ie=0;ie<x.length;ie++)Ra(h,x[ie],M,z,X);else z=g(z)?!!z.capture:!!z,M=Mi(M),h&&h[wt]?(h=h.i,x=String(x).toString(),x in h.g&&(ie=h.g[x],M=Jr(ie,M,z,X),-1<M&&(St(ie[M]),Array.prototype.splice.call(ie,M,1),ie.length==0&&(delete h.g[x],h.h--)))):h&&(h=Zn(h))&&(x=h.g[x.toString()],h=-1,x&&(h=Jr(x,M,z,X)),(M=-1<h?x[h]:null)&&Ii(M))}function Ii(h){if(typeof h!="number"&&h&&!h.da){var x=h.src;if(x&&x[wt])Sr(x.i,h);else{var M=h.type,z=h.proxy;x.removeEventListener?x.removeEventListener(M,z,h.capture):x.detachEvent?x.detachEvent(ei(M),z):x.addListener&&x.removeListener&&x.removeListener(z),(M=Zn(x))?(Sr(M,h),M.h==0&&(M.src=null,x[_n]=null)):St(h)}}}function ei(h){return h in Sa?Sa[h]:Sa[h]="on"+h}function gr(h,x){if(h.da)h=!0;else{x=new Le(x,this);var M=h.listener,z=h.ha||h.src;h.fa&&Ii(h),h=M.call(z,x)}return h}function Zn(h){return h=h[_n],h instanceof fn?h:null}var Oi="__closure_events_fn_"+(1e9*Math.random()>>>0);function Mi(h){return typeof h=="function"?h:(h[Oi]||(h[Oi]=function(x){return h.handleEvent(x)}),h[Oi])}function lt(){me.call(this),this.i=new fn(this),this.M=this,this.F=null}v(lt,me),lt.prototype[wt]=!0,lt.prototype.removeEventListener=function(h,x,M,z){Ra(this,h,x,M,z)};function Fe(h,x){var M,z=h.F;if(z)for(M=[];z;z=z.F)M.push(z);if(h=h.M,z=x.type||x,typeof x=="string")x=new ce(x,h);else if(x instanceof ce)x.target=x.target||h;else{var X=x;x=new ce(z,h),I(x,X)}if(X=!0,M)for(var ie=M.length-1;0<=ie;ie--){var ve=x.g=M[ie];X=hn(ve,z,!0,x)&&X}if(ve=x.g=h,X=hn(ve,z,!0,x)&&X,X=hn(ve,z,!1,x)&&X,M)for(ie=0;ie<M.length;ie++)ve=x.g=M[ie],X=hn(ve,z,!1,x)&&X}lt.prototype.N=function(){if(lt.aa.N.call(this),this.i){var h=this.i,x;for(x in h.g){for(var M=h.g[x],z=0;z<M.length;z++)St(M[z]);delete h.g[x],h.h--}}this.F=null},lt.prototype.K=function(h,x,M,z){return this.i.add(String(h),x,!1,M,z)},lt.prototype.L=function(h,x,M,z){return this.i.add(String(h),x,!0,M,z)};function hn(h,x,M,z){if(x=h.i.g[String(x)],!x)return!0;x=x.concat();for(var X=!0,ie=0;ie<x.length;++ie){var ve=x[ie];if(ve&&!ve.da&&ve.capture==M){var tt=ve.listener,qt=ve.ha||ve.src;ve.fa&&Sr(h.i,ve),X=tt.call(qt,z)!==!1&&X}}return X&&!z.defaultPrevented}function kt(h,x,M){if(typeof h=="function")M&&(h=y(h,M));else if(h&&typeof h.handleEvent=="function")h=y(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(x)?-1:c.setTimeout(h,x||0)}function gs(h){h.g=kt(()=>{h.g=null,h.i&&(h.i=!1,gs(h))},h.l);const x=h.h;h.h=null,h.m.apply(null,x)}class Wn extends me{constructor(x,M){super(),this.m=x,this.l=M,this.h=null,this.i=!1,this.g=null}j(x){this.h=arguments,this.g?this.i=!0:gs(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Rr(h){me.call(this),this.h=h,this.g={}}v(Rr,me);var Cr=[];function xr(h){k(h.g,function(x,M){this.g.hasOwnProperty(M)&&Ii(x)},h),h.g={}}Rr.prototype.N=function(){Rr.aa.N.call(this),xr(this)},Rr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Nn=c.JSON.stringify,ti=c.JSON.parse,Jn=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function Ni(){}Ni.prototype.h=null;function ni(h){return h.h||(h.h=h.i())}function Ca(){}var er={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function yr(){ce.call(this,"d")}v(yr,ce);function Vi(){ce.call(this,"c")}v(Vi,ce);var En={},Dr=null;function Ir(){return Dr=Dr||new lt}En.La="serverreachability";function ki(h){ce.call(this,En.La,h)}v(ki,ce);function H(h){const x=Ir();Fe(x,new ki(x))}En.STAT_EVENT="statevent";function Y(h,x){ce.call(this,En.STAT_EVENT,h),this.stat=x}v(Y,ce);function J(h){const x=Ir();Fe(x,new Y(x,h))}En.Ma="timingevent";function le(h,x){ce.call(this,En.Ma,h),this.size=x}v(le,ce);function ge(h,x){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},x)}function Ee(){this.g=!0}Ee.prototype.xa=function(){this.g=!1};function Me(h,x,M,z,X,ie){h.info(function(){if(h.g)if(ie)for(var ve="",tt=ie.split("&"),qt=0;qt<tt.length;qt++){var nt=tt[qt].split("=");if(1<nt.length){var Xt=nt[0];nt=nt[1];var Ft=Xt.split("_");ve=2<=Ft.length&&Ft[1]=="type"?ve+(Xt+"="+nt+"&"):ve+(Xt+"=redacted&")}}else ve=null;else ve=ie;return"XMLHTTP REQ ("+z+") [attempt "+X+"]: "+x+`
`+M+`
`+ve})}function we(h,x,M,z,X,ie,ve){h.info(function(){return"XMLHTTP RESP ("+z+") [ attempt "+X+"]: "+x+`
`+M+`
`+ie+" "+ve})}function Se(h,x,M,z){h.info(function(){return"XMLHTTP TEXT ("+x+"): "+Ne(h,M)+(z?" "+z:"")})}function De(h,x){h.info(function(){return"TIMEOUT: "+x})}Ee.prototype.info=function(){};function Ne(h,x){if(!h.g)return x;if(!x)return null;try{var M=JSON.parse(x);if(M){for(h=0;h<M.length;h++)if(Array.isArray(M[h])){var z=M[h];if(!(2>z.length)){var X=z[1];if(Array.isArray(X)&&!(1>X.length)){var ie=X[0];if(ie!="noop"&&ie!="stop"&&ie!="close")for(var ve=1;ve<X.length;ve++)X[ve]=""}}}}return Nn(M)}catch{return x}}var Re={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ke={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ye;function ct(){}v(ct,Ni),ct.prototype.g=function(){return new XMLHttpRequest},ct.prototype.i=function(){return{}},Ye=new ct;function st(h,x,M,z){this.j=h,this.i=x,this.l=M,this.R=z||1,this.U=new Rr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new et}function et(){this.i=null,this.g="",this.h=!1}var Qe={},tr={};function Bt(h,x,M){h.L=1,h.v=Ia(jn(x)),h.m=M,h.P=!0,wn(h,null)}function wn(h,x){h.F=Date.now(),Vn(h),h.A=jn(h.v);var M=h.A,z=h.R;Array.isArray(z)||(z=[String(z)]),Ro(M.i,"t",z),h.C=0,M=h.j.J,h.h=new et,h.g=pu(h.j,M?x:null,!h.m),0<h.O&&(h.M=new Wn(y(h.Y,h,h.g),h.O)),x=h.U,M=h.g,z=h.ca;var X="readystatechange";Array.isArray(X)||(X&&(Cr[0]=X.toString()),X=Cr);for(var ie=0;ie<X.length;ie++){var ve=ps(M,X[ie],z||x.handleEvent,!1,x.h||x);if(!ve)break;x.g[ve.key]=ve}x=h.H?A(h.H):{},h.m?(h.u||(h.u="POST"),x["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,x)):(h.u="GET",h.g.ea(h.A,h.u,null,x)),H(),Me(h.i,h.u,h.A,h.l,h.R,h.m)}st.prototype.ca=function(h){h=h.target;const x=this.M;x&&sr(h)==3?x.j():this.Y(h)},st.prototype.Y=function(h){try{if(h==this.g)e:{const Ft=sr(this.g);var x=this.g.Ba();const ci=this.g.Z();if(!(3>Ft)&&(Ft!=3||this.g&&(this.h.h||this.g.oa()||ou(this.g)))){this.J||Ft!=4||x==7||(x==8||0>=ci?H(3):H(2)),dn(this);var M=this.g.Z();this.X=M;t:if(tn(this)){var z=ou(this.g);h="";var X=z.length,ie=sr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ze(this),Tn(this);var ve="";break t}this.h.i=new c.TextDecoder}for(x=0;x<X;x++)this.h.h=!0,h+=this.h.i.decode(z[x],{stream:!(ie&&x==X-1)});z.length=0,this.h.g+=h,this.C=0,ve=this.h.g}else ve=this.g.oa();if(this.o=M==200,we(this.i,this.u,this.A,this.l,this.R,Ft,M),this.o){if(this.T&&!this.K){t:{if(this.g){var tt,qt=this.g;if((tt=qt.g?qt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!S(tt)){var nt=tt;break t}}nt=null}if(M=nt)Se(this.i,this.l,M,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,jt(this,M);else{this.o=!1,this.s=3,J(12),ze(this),Tn(this);break e}}if(this.P){M=!0;let rn;for(;!this.J&&this.C<ve.length;)if(rn=Or(this,ve),rn==tr){Ft==4&&(this.s=4,J(14),M=!1),Se(this.i,this.l,null,"[Incomplete Response]");break}else if(rn==Qe){this.s=4,J(15),Se(this.i,this.l,ve,"[Invalid Chunk]"),M=!1;break}else Se(this.i,this.l,rn,null),jt(this,rn);if(tn(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ft!=4||ve.length!=0||this.h.h||(this.s=1,J(16),M=!1),this.o=this.o&&M,!M)Se(this.i,this.l,ve,"[Invalid Chunked Response]"),ze(this),Tn(this);else if(0<ve.length&&!this.W){this.W=!0;var Xt=this.j;Xt.g==this&&Xt.ba&&!Xt.M&&(Xt.j.info("Great, no buffering proxy detected. Bytes received: "+ve.length),Pa(Xt),Xt.M=!0,J(11))}}else Se(this.i,this.l,ve,null),jt(this,ve);Ft==4&&ze(this),this.o&&!this.J&&(Ft==4?hu(this.j,this):(this.o=!1,Vn(this)))}else Df(this.g),M==400&&0<ve.indexOf("Unknown SID")?(this.s=3,J(12)):(this.s=0,J(13)),ze(this),Tn(this)}}}catch{}finally{}};function tn(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function Or(h,x){var M=h.C,z=x.indexOf(`
`,M);return z==-1?tr:(M=Number(x.substring(M,z)),isNaN(M)?Qe:(z+=1,z+M>x.length?tr:(x=x.slice(z,z+M),h.C=z+M,x)))}st.prototype.cancel=function(){this.J=!0,ze(this)};function Vn(h){h.S=Date.now()+h.I,ji(h,h.I)}function ji(h,x){if(h.B!=null)throw Error("WatchDog timer not null");h.B=ge(y(h.ba,h),x)}function dn(h){h.B&&(c.clearTimeout(h.B),h.B=null)}st.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(De(this.i,this.A),this.L!=2&&(H(),J(17)),ze(this),this.s=2,Tn(this)):ji(this,this.S-h)};function Tn(h){h.j.G==0||h.J||hu(h.j,h)}function ze(h){dn(h);var x=h.M;x&&typeof x.ma=="function"&&x.ma(),h.M=null,xr(h.U),h.g&&(x=h.g,h.g=null,x.abort(),x.ma())}function jt(h,x){try{var M=h.j;if(M.G!=0&&(M.g==h||nr(M.h,h))){if(!h.K&&nr(M.h,h)&&M.G==3){try{var z=M.Da.g.parse(x)}catch{z=null}if(Array.isArray(z)&&z.length==3){var X=z;if(X[0]==0){e:if(!M.u){if(M.g)if(M.g.F+3e3<h.F)Ss(M),Ts(M);else break e;Oo(M),J(18)}}else M.za=X[1],0<M.za-M.T&&37500>X[2]&&M.F&&M.v==0&&!M.C&&(M.C=ge(y(M.Za,M),6e3));if(1>=bt(M.h)&&M.ca){try{M.ca()}catch{}M.ca=void 0}}else ui(M,11)}else if((h.K||M.g==h)&&Ss(M),!S(x))for(X=M.Da.g.parse(x),x=0;x<X.length;x++){let nt=X[x];if(M.T=nt[0],nt=nt[1],M.G==2)if(nt[0]=="c"){M.K=nt[1],M.ia=nt[2];const Xt=nt[3];Xt!=null&&(M.la=Xt,M.j.info("VER="+M.la));const Ft=nt[4];Ft!=null&&(M.Aa=Ft,M.j.info("SVER="+M.Aa));const ci=nt[5];ci!=null&&typeof ci=="number"&&0<ci&&(z=1.5*ci,M.L=z,M.j.info("backChannelRequestTimeoutMs_="+z)),z=M;const rn=h.g;if(rn){const Ur=rn.g?rn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ur){var ie=z.h;ie.g||Ur.indexOf("spdy")==-1&&Ur.indexOf("quic")==-1&&Ur.indexOf("h2")==-1||(ie.j=ie.l,ie.g=new Set,ie.h&&(ri(ie,ie.h),ie.h=null))}if(z.D){const No=rn.g?rn.g.getResponseHeader("X-HTTP-Session-Id"):null;No&&(z.ya=No,gt(z.I,z.D,No))}}M.G=3,M.l&&M.l.ua(),M.ba&&(M.R=Date.now()-h.F,M.j.info("Handshake RTT: "+M.R+"ms")),z=M;var ve=h;if(z.qa=mu(z,z.J?z.ia:null,z.W),ve.K){nn(z.h,ve);var tt=ve,qt=z.L;qt&&(tt.I=qt),tt.B&&(dn(tt),Vn(tt)),z.g=ve}else cu(z);0<M.i.length&&As(M)}else nt[0]!="stop"&&nt[0]!="close"||ui(M,7);else M.G==3&&(nt[0]=="stop"||nt[0]=="close"?nt[0]=="stop"?ui(M,7):Do(M):nt[0]!="noop"&&M.l&&M.l.ta(nt),M.v=0)}}H(4)}catch{}}var kn=class{constructor(h,x){this.g=h,this.map=x}};function Rn(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Mr(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function bt(h){return h.h?1:h.g?h.g.size:0}function nr(h,x){return h.h?h.h==x:h.g?h.g.has(x):!1}function ri(h,x){h.g?h.g.add(x):h.h=x}function nn(h,x){h.h&&h.h==x?h.h=null:h.g&&h.g.has(x)&&h.g.delete(x)}Rn.prototype.cancel=function(){if(this.i=wo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function wo(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let x=h.i;for(const M of h.g.values())x=x.concat(M.D);return x}return b(h.i)}function Sf(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(p(h)){for(var x=[],M=h.length,z=0;z<M;z++)x.push(h[z]);return x}x=[],M=0;for(z in h)x[M++]=h[z];return x}function ys(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(p(h)||typeof h=="string"){var x=[];h=h.length;for(var M=0;M<h;M++)x.push(M);return x}x=[],M=0;for(const z in h)x[M++]=z;return x}}}function To(h,x){if(h.forEach&&typeof h.forEach=="function")h.forEach(x,void 0);else if(p(h)||typeof h=="string")Array.prototype.forEach.call(h,x,void 0);else for(var M=ys(h),z=Sf(h),X=z.length,ie=0;ie<X;ie++)x.call(void 0,z[ie],M&&M[ie],h)}var xa=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Rf(h,x){if(h){h=h.split("&");for(var M=0;M<h.length;M++){var z=h[M].indexOf("="),X=null;if(0<=z){var ie=h[M].substring(0,z);X=h[M].substring(z+1)}else ie=h[M];x(ie,X?decodeURIComponent(X.replace(/\+/g," ")):"")}}}function Lt(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof Lt){this.h=h.h,Da(this,h.j),this.o=h.o,this.g=h.g,Li(this,h.s),this.l=h.l;var x=h.i,M=new ai;M.i=x.i,x.g&&(M.g=new Map(x.g),M.h=x.h),ii(this,M),this.m=h.m}else h&&(x=String(h).match(xa))?(this.h=!1,Da(this,x[1]||"",!0),this.o=rr(x[2]||""),this.g=rr(x[3]||"",!0),Li(this,x[4]),this.l=rr(x[5]||"",!0),ii(this,x[6]||"",!0),this.m=rr(x[7]||"")):(this.h=!1,this.i=new ai(null,this.h))}Lt.prototype.toString=function(){var h=[],x=this.j;x&&h.push(Oa(x,Ao,!0),":");var M=this.g;return(M||x=="file")&&(h.push("//"),(x=this.o)&&h.push(Oa(x,Ao,!0),"@"),h.push(encodeURIComponent(String(M)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),M=this.s,M!=null&&h.push(":",String(M))),(M=this.l)&&(this.g&&M.charAt(0)!="/"&&h.push("/"),h.push(Oa(M,M.charAt(0)=="/"?Cf:So,!0))),(M=this.i.toString())&&h.push("?",M),(M=this.m)&&h.push("#",Oa(M,vs)),h.join("")};function jn(h){return new Lt(h)}function Da(h,x,M){h.j=M?rr(x,!0):x,h.j&&(h.j=h.j.replace(/:$/,""))}function Li(h,x){if(x){if(x=Number(x),isNaN(x)||0>x)throw Error("Bad port number "+x);h.s=x}else h.s=null}function ii(h,x,M){x instanceof ai?(h.i=x,au(h.i,h.h)):(M||(x=Oa(x,xf)),h.i=new ai(x,h.h))}function gt(h,x,M){h.i.set(x,M)}function Ia(h){return gt(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function rr(h,x){return h?x?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Oa(h,x,M){return typeof h=="string"?(h=encodeURI(h).replace(x,iu),M&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function iu(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Ao=/[#\/\?@]/g,So=/[#\?:]/g,Cf=/[#\?]/g,xf=/[#\?@]/g,vs=/#/g;function ai(h,x){this.h=this.g=null,this.i=h||null,this.j=!!x}function ir(h){h.g||(h.g=new Map,h.h=0,h.i&&Rf(h.i,function(x,M){h.add(decodeURIComponent(x.replace(/\+/g," ")),M)}))}i=ai.prototype,i.add=function(h,x){ir(this),this.i=null,h=Nr(this,h);var M=this.g.get(h);return M||this.g.set(h,M=[]),M.push(x),this.h+=1,this};function si(h,x){ir(h),x=Nr(h,x),h.g.has(x)&&(h.i=null,h.h-=h.g.get(x).length,h.g.delete(x))}function oi(h,x){return ir(h),x=Nr(h,x),h.g.has(x)}i.forEach=function(h,x){ir(this),this.g.forEach(function(M,z){M.forEach(function(X){h.call(x,X,z,this)},this)},this)},i.na=function(){ir(this);const h=Array.from(this.g.values()),x=Array.from(this.g.keys()),M=[];for(let z=0;z<x.length;z++){const X=h[z];for(let ie=0;ie<X.length;ie++)M.push(x[z])}return M},i.V=function(h){ir(this);let x=[];if(typeof h=="string")oi(this,h)&&(x=x.concat(this.g.get(Nr(this,h))));else{h=Array.from(this.g.values());for(let M=0;M<h.length;M++)x=x.concat(h[M])}return x},i.set=function(h,x){return ir(this),this.i=null,h=Nr(this,h),oi(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[x]),this.h+=1,this},i.get=function(h,x){return h?(h=this.V(h),0<h.length?String(h[0]):x):x};function Ro(h,x,M){si(h,x),0<M.length&&(h.i=null,h.g.set(Nr(h,x),b(M)),h.h+=M.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],x=Array.from(this.g.keys());for(var M=0;M<x.length;M++){var z=x[M];const ie=encodeURIComponent(String(z)),ve=this.V(z);for(z=0;z<ve.length;z++){var X=ie;ve[z]!==""&&(X+="="+encodeURIComponent(String(ve[z]))),h.push(X)}}return this.i=h.join("&")};function Nr(h,x){return x=String(x),h.j&&(x=x.toLowerCase()),x}function au(h,x){x&&!h.j&&(ir(h),h.i=null,h.g.forEach(function(M,z){var X=z.toLowerCase();z!=X&&(si(this,z),Ro(this,X,M))},h)),h.j=x}function Ma(h,x){const M=new Ee;if(c.Image){const z=new Image;z.onload=_(ar,M,"TestLoadImage: loaded",!0,x,z),z.onerror=_(ar,M,"TestLoadImage: error",!1,x,z),z.onabort=_(ar,M,"TestLoadImage: abort",!1,x,z),z.ontimeout=_(ar,M,"TestLoadImage: timeout",!1,x,z),c.setTimeout(function(){z.ontimeout&&z.ontimeout()},1e4),z.src=h}else x(!1)}function vr(h,x){const M=new Ee,z=new AbortController,X=setTimeout(()=>{z.abort(),ar(M,"TestPingServer: timeout",!1,x)},1e4);fetch(h,{signal:z.signal}).then(ie=>{clearTimeout(X),ie.ok?ar(M,"TestPingServer: ok",!0,x):ar(M,"TestPingServer: server error",!1,x)}).catch(()=>{clearTimeout(X),ar(M,"TestPingServer: error",!1,x)})}function ar(h,x,M,z,X){try{X&&(X.onload=null,X.onerror=null,X.onabort=null,X.ontimeout=null),z(M)}catch{}}function Na(){this.g=new Jn}function Vr(h,x,M){const z=M||"";try{To(h,function(X,ie){let ve=X;g(X)&&(ve=Nn(X)),x.push(z+ie+"="+encodeURIComponent(ve))})}catch(X){throw x.push(z+"type="+encodeURIComponent("_badmap")),X}}function Pi(h){this.l=h.Ub||null,this.j=h.eb||!1}v(Pi,Ni),Pi.prototype.g=function(){return new li(this.l,this.j)},Pi.prototype.i=function(h){return function(){return h}}({});function li(h,x){lt.call(this),this.D=h,this.o=x,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}v(li,lt),i=li.prototype,i.open=function(h,x){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=x,this.readyState=1,jr(this)},i.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const x={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(x.body=h),(this.D||c).fetch(new Request(this.A,x)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,kr(this)),this.readyState=0},i.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,jr(this)),this.g&&(this.readyState=3,jr(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Co(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function Co(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}i.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var x=h.value?h.value:new Uint8Array(0);(x=this.v.decode(x,{stream:!h.done}))&&(this.response=this.responseText+=x)}h.done?kr(this):jr(this),this.readyState==3&&Co(this)}},i.Ra=function(h){this.g&&(this.response=this.responseText=h,kr(this))},i.Qa=function(h){this.g&&(this.response=h,kr(this))},i.ga=function(){this.g&&kr(this)};function kr(h){h.readyState=4,h.l=null,h.j=null,h.v=null,jr(h)}i.setRequestHeader=function(h,x){this.u.append(h,x)},i.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],x=this.h.entries();for(var M=x.next();!M.done;)M=M.value,h.push(M[0]+": "+M[1]),M=x.next();return h.join(`\r
`)};function jr(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(li.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function xo(h){let x="";return k(h,function(M,z){x+=z,x+=":",x+=M,x+=`\r
`}),x}function Yt(h,x,M){e:{for(z in M){var z=!1;break e}z=!0}z||(M=xo(M),typeof h=="string"?M!=null&&encodeURIComponent(String(M)):gt(h,x,M))}function ft(h){lt.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}v(ft,lt);var _s=/^https?$/i,Va=["POST","PUT"];i=ft.prototype,i.Ha=function(h){this.J=h},i.ea=function(h,x,M,z){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);x=x?x.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ye.g(),this.v=this.o?ni(this.o):ni(Ye),this.g.onreadystatechange=y(this.Ea,this);try{this.B=!0,this.g.open(x,String(h),!0),this.B=!1}catch(ie){su(this,ie);return}if(h=M||"",M=new Map(this.headers),z)if(Object.getPrototypeOf(z)===Object.prototype)for(var X in z)M.set(X,z[X]);else if(typeof z.keys=="function"&&typeof z.get=="function")for(const ie of z.keys())M.set(ie,z.get(ie));else throw Error("Unknown input type for opt_headers: "+String(z));z=Array.from(M.keys()).find(ie=>ie.toLowerCase()=="content-type"),X=c.FormData&&h instanceof c.FormData,!(0<=Array.prototype.indexOf.call(Va,x,void 0))||z||X||M.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ie,ve]of M)this.g.setRequestHeader(ie,ve);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ka(this),this.u=!0,this.g.send(h),this.u=!1}catch(ie){su(this,ie)}};function su(h,x){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=x,h.m=5,bs(h),Lr(h)}function bs(h){h.A||(h.A=!0,Fe(h,"complete"),Fe(h,"error"))}i.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,Fe(this,"complete"),Fe(this,"abort"),Lr(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Lr(this,!0)),ft.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?Es(this):this.bb())},i.bb=function(){Es(this)};function Es(h){if(h.h&&typeof f<"u"&&(!h.v[1]||sr(h)!=4||h.Z()!=2)){if(h.u&&sr(h)==4)kt(h.Ea,0,h);else if(Fe(h,"readystatechange"),sr(h)==4){h.h=!1;try{const ve=h.Z();e:switch(ve){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var x=!0;break e;default:x=!1}var M;if(!(M=x)){var z;if(z=ve===0){var X=String(h.D).match(xa)[1]||null;!X&&c.self&&c.self.location&&(X=c.self.location.protocol.slice(0,-1)),z=!_s.test(X?X.toLowerCase():"")}M=z}if(M)Fe(h,"complete"),Fe(h,"success");else{h.m=6;try{var ie=2<sr(h)?h.g.statusText:""}catch{ie=""}h.l=ie+" ["+h.Z()+"]",bs(h)}}finally{Lr(h)}}}}function Lr(h,x){if(h.g){ka(h);const M=h.g,z=h.v[0]?()=>{}:null;h.g=null,h.v=null,x||Fe(h,"ready");try{M.onreadystatechange=z}catch{}}}function ka(h){h.I&&(c.clearTimeout(h.I),h.I=null)}i.isActive=function(){return!!this.g};function sr(h){return h.g?h.g.readyState:0}i.Z=function(){try{return 2<sr(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(h){if(this.g){var x=this.g.responseText;return h&&x.indexOf(h)==0&&(x=x.substring(h.length)),ti(x)}};function ou(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Df(h){const x={};h=(h.g&&2<=sr(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let z=0;z<h.length;z++){if(S(h[z]))continue;var M=L(h[z]);const X=M[0];if(M=M[1],typeof M!="string")continue;M=M.trim();const ie=x[X]||[];x[X]=ie,ie.push(M)}O(x,function(z){return z.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ja(h,x,M){return M&&M.internalChannelParams&&M.internalChannelParams[h]||x}function ws(h){this.Aa=0,this.i=[],this.j=new Ee,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ja("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ja("baseRetryDelayMs",5e3,h),this.cb=ja("retryDelaySeedMs",1e4,h),this.Wa=ja("forwardChannelMaxRetries",2,h),this.wa=ja("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new Rn(h&&h.concurrentRequestLimit),this.Da=new Na,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=ws.prototype,i.la=8,i.G=1,i.connect=function(h,x,M,z){J(0),this.W=h,this.H=x||{},M&&z!==void 0&&(this.H.OSID=M,this.H.OAID=z),this.F=this.X,this.I=mu(this,null,this.W),As(this)};function Do(h){if(lu(h),h.G==3){var x=h.U++,M=jn(h.I);if(gt(M,"SID",h.K),gt(M,"RID",x),gt(M,"TYPE","terminate"),La(h,M),x=new st(h,h.j,x),x.L=2,x.v=Ia(jn(M)),M=!1,c.navigator&&c.navigator.sendBeacon)try{M=c.navigator.sendBeacon(x.v.toString(),"")}catch{}!M&&c.Image&&(new Image().src=x.v,M=!0),M||(x.g=pu(x.j,null),x.g.ea(x.v)),x.F=Date.now(),Vn(x)}du(h)}function Ts(h){h.g&&(Pa(h),h.g.cancel(),h.g=null)}function lu(h){Ts(h),h.u&&(c.clearTimeout(h.u),h.u=null),Ss(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&c.clearTimeout(h.s),h.s=null)}function As(h){if(!Mr(h.h)&&!h.s){h.s=!0;var x=h.Ga;se||B(),ye||(se(),ye=!0),Ce.add(x,h),h.B=0}}function If(h,x){return bt(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=x.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=ge(y(h.Ga,h,x),Mo(h,h.B)),h.B++,!0)}i.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const X=new st(this,this.j,h);let ie=this.o;if(this.S&&(ie?(ie=A(ie),I(ie,this.S)):ie=this.S),this.m!==null||this.O||(X.H=ie,ie=null),this.P)e:{for(var x=0,M=0;M<this.i.length;M++){t:{var z=this.i[M];if("__data__"in z.map&&(z=z.map.__data__,typeof z=="string")){z=z.length;break t}z=void 0}if(z===void 0)break;if(x+=z,4096<x){x=M;break e}if(x===4096||M===this.i.length-1){x=M+1;break e}}x=1e3}else x=1e3;x=uu(this,X,x),M=jn(this.I),gt(M,"RID",h),gt(M,"CVER",22),this.D&&gt(M,"X-HTTP-Session-Id",this.D),La(this,M),ie&&(this.O?x="headers="+encodeURIComponent(String(xo(ie)))+"&"+x:this.m&&Yt(M,this.m,ie)),ri(this.h,X),this.Ua&&gt(M,"TYPE","init"),this.P?(gt(M,"$req",x),gt(M,"SID","null"),X.T=!0,Bt(X,M,null)):Bt(X,M,x),this.G=2}}else this.G==3&&(h?Io(this,h):this.i.length==0||Mr(this.h)||Io(this))};function Io(h,x){var M;x?M=x.l:M=h.U++;const z=jn(h.I);gt(z,"SID",h.K),gt(z,"RID",M),gt(z,"AID",h.T),La(h,z),h.m&&h.o&&Yt(z,h.m,h.o),M=new st(h,h.j,M,h.B+1),h.m===null&&(M.H=h.o),x&&(h.i=x.D.concat(h.i)),x=uu(h,M,1e3),M.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),ri(h.h,M),Bt(M,z,x)}function La(h,x){h.H&&k(h.H,function(M,z){gt(x,z,M)}),h.l&&To({},function(M,z){gt(x,z,M)})}function uu(h,x,M){M=Math.min(h.i.length,M);var z=h.l?y(h.l.Na,h.l,h):null;e:{var X=h.i;let ie=-1;for(;;){const ve=["count="+M];ie==-1?0<M?(ie=X[0].g,ve.push("ofs="+ie)):ie=0:ve.push("ofs="+ie);let tt=!0;for(let qt=0;qt<M;qt++){let nt=X[qt].g;const Xt=X[qt].map;if(nt-=ie,0>nt)ie=Math.max(0,X[qt].g-100),tt=!1;else try{Vr(Xt,ve,"req"+nt+"_")}catch{z&&z(Xt)}}if(tt){z=ve.join("&");break e}}}return h=h.i.splice(0,M),x.D=h,z}function cu(h){if(!h.g&&!h.u){h.Y=1;var x=h.Fa;se||B(),ye||(se(),ye=!0),Ce.add(x,h),h.v=0}}function Oo(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=ge(y(h.Fa,h),Mo(h,h.v)),h.v++,!0)}i.Fa=function(){if(this.u=null,fu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=ge(y(this.ab,this),h)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,J(10),Ts(this),fu(this))};function Pa(h){h.A!=null&&(c.clearTimeout(h.A),h.A=null)}function fu(h){h.g=new st(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var x=jn(h.qa);gt(x,"RID","rpc"),gt(x,"SID",h.K),gt(x,"AID",h.T),gt(x,"CI",h.F?"0":"1"),!h.F&&h.ja&&gt(x,"TO",h.ja),gt(x,"TYPE","xmlhttp"),La(h,x),h.m&&h.o&&Yt(x,h.m,h.o),h.L&&(h.g.I=h.L);var M=h.g;h=h.ia,M.L=1,M.v=Ia(jn(x)),M.m=null,M.P=!0,wn(M,h)}i.Za=function(){this.C!=null&&(this.C=null,Ts(this),Oo(this),J(19))};function Ss(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function hu(h,x){var M=null;if(h.g==x){Ss(h),Pa(h),h.g=null;var z=2}else if(nr(h.h,x))M=x.D,nn(h.h,x),z=1;else return;if(h.G!=0){if(x.o)if(z==1){M=x.m?x.m.length:0,x=Date.now()-x.F;var X=h.B;z=Ir(),Fe(z,new le(z,M)),As(h)}else cu(h);else if(X=x.s,X==3||X==0&&0<x.X||!(z==1&&If(h,x)||z==2&&Oo(h)))switch(M&&0<M.length&&(x=h.h,x.i=x.i.concat(M)),X){case 1:ui(h,5);break;case 4:ui(h,10);break;case 3:ui(h,6);break;default:ui(h,2)}}}function Mo(h,x){let M=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(M*=2),M*x}function ui(h,x){if(h.j.info("Error code "+x),x==2){var M=y(h.fb,h),z=h.Xa;const X=!z;z=new Lt(z||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Da(z,"https"),Ia(z),X?Ma(z.toString(),M):vr(z.toString(),M)}else J(2);h.G=0,h.l&&h.l.sa(x),du(h),lu(h)}i.fb=function(h){h?(this.j.info("Successfully pinged google.com"),J(2)):(this.j.info("Failed to ping google.com"),J(1))};function du(h){if(h.G=0,h.ka=[],h.l){const x=wo(h.h);(x.length!=0||h.i.length!=0)&&(R(h.ka,x),R(h.ka,h.i),h.h.i.length=0,b(h.i),h.i.length=0),h.l.ra()}}function mu(h,x,M){var z=M instanceof Lt?jn(M):new Lt(M);if(z.g!="")x&&(z.g=x+"."+z.g),Li(z,z.s);else{var X=c.location;z=X.protocol,x=x?x+"."+X.hostname:X.hostname,X=+X.port;var ie=new Lt(null);z&&Da(ie,z),x&&(ie.g=x),X&&Li(ie,X),M&&(ie.l=M),z=ie}return M=h.D,x=h.ya,M&&x&&gt(z,M,x),gt(z,"VER",h.la),La(h,z),z}function pu(h,x,M){if(x&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return x=h.Ca&&!h.pa?new ft(new Pi({eb:M})):new ft(h.pa),x.Ha(h.J),x}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function gu(){}i=gu.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function Rs(){}Rs.prototype.g=function(h,x){return new An(h,x)};function An(h,x){lt.call(this),this.g=new ws(x),this.l=h,this.h=x&&x.messageUrlParams||null,h=x&&x.messageHeaders||null,x&&x.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=x&&x.initMessageHeaders||null,x&&x.messageContentType&&(h?h["X-WebChannel-Content-Type"]=x.messageContentType:h={"X-WebChannel-Content-Type":x.messageContentType}),x&&x.va&&(h?h["X-WebChannel-Client-Profile"]=x.va:h={"X-WebChannel-Client-Profile":x.va}),this.g.S=h,(h=x&&x.Sb)&&!S(h)&&(this.g.m=h),this.v=x&&x.supportsCrossDomainXhr||!1,this.u=x&&x.sendRawJson||!1,(x=x&&x.httpSessionIdParam)&&!S(x)&&(this.g.D=x,h=this.h,h!==null&&x in h&&(h=this.h,x in h&&delete h[x])),this.j=new Pr(this)}v(An,lt),An.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},An.prototype.close=function(){Do(this.g)},An.prototype.o=function(h){var x=this.g;if(typeof h=="string"){var M={};M.__data__=h,h=M}else this.u&&(M={},M.__data__=Nn(h),h=M);x.i.push(new kn(x.Ya++,h)),x.G==3&&As(x)},An.prototype.N=function(){this.g.l=null,delete this.j,Do(this.g),delete this.g,An.aa.N.call(this)};function yu(h){yr.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var x=h.__sm__;if(x){e:{for(const M in x){h=M;break e}h=void 0}(this.i=h)&&(h=this.i,x=x!==null&&h in x?x[h]:void 0),this.data=x}else this.data=h}v(yu,yr);function vu(){Vi.call(this),this.status=1}v(vu,Vi);function Pr(h){this.g=h}v(Pr,gu),Pr.prototype.ua=function(){Fe(this.g,"a")},Pr.prototype.ta=function(h){Fe(this.g,new yu(h))},Pr.prototype.sa=function(h){Fe(this.g,new vu)},Pr.prototype.ra=function(){Fe(this.g,"b")},Rs.prototype.createWebChannel=Rs.prototype.g,An.prototype.send=An.prototype.o,An.prototype.open=An.prototype.m,An.prototype.close=An.prototype.close,Hb=function(){return new Rs},Fb=function(){return Ir()},qb=En,em={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Re.NO_ERROR=0,Re.TIMEOUT=8,Re.HTTP_ERROR=6,Ic=Re,ke.COMPLETE="complete",Bb=ke,Ca.EventType=er,er.OPEN="a",er.CLOSE="b",er.ERROR="c",er.MESSAGE="d",lt.prototype.listen=lt.prototype.K,Cl=Ca,ft.prototype.listenOnce=ft.prototype.L,ft.prototype.getLastError=ft.prototype.Ka,ft.prototype.getLastErrorCode=ft.prototype.Ba,ft.prototype.getStatus=ft.prototype.Z,ft.prototype.getResponseJson=ft.prototype.Oa,ft.prototype.getResponseText=ft.prototype.oa,ft.prototype.send=ft.prototype.ea,ft.prototype.setWithCredentials=ft.prototype.Ha,$b=ft}).apply(typeof Ec<"u"?Ec:typeof self<"u"?self:typeof window<"u"?window:{});const M_="@firebase/firestore",N_="4.7.11";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}yn.UNAUTHENTICATED=new yn(null),yn.GOOGLE_CREDENTIALS=new yn("google-credentials-uid"),yn.FIRST_PARTY=new yn("first-party-uid"),yn.MOCK_USER=new yn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yo="11.6.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const os=new Dm("@firebase/firestore");function ro(){return os.logLevel}function be(i,...e){if(os.logLevel<=at.DEBUG){const n=e.map(jm);os.debug(`Firestore (${yo}): ${i}`,...n)}}function Ci(i,...e){if(os.logLevel<=at.ERROR){const n=e.map(jm);os.error(`Firestore (${yo}): ${i}`,...n)}}function uo(i,...e){if(os.logLevel<=at.WARN){const n=e.map(jm);os.warn(`Firestore (${yo}): ${i}`,...n)}}function jm(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pe(i,e,n){let a="Unexpected state";typeof e=="string"?a=e:n=e,Gb(i,a,n)}function Gb(i,e,n){let a=`FIRESTORE (${yo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(n!==void 0)try{a+=" CONTEXT: "+JSON.stringify(n)}catch{a+=" CONTEXT: "+n}throw Ci(a),new Error(a)}function ht(i,e,n,a){let o="Unexpected state";typeof n=="string"?o=n:a=n,i||Gb(e,o,a)}function Be(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const he={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ae extends wa{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qb{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class pR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(yn.UNAUTHENTICATED))}shutdown(){}}class gR{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class yR{constructor(e){this.t=e,this.currentUser=yn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ht(this.o===void 0,42304);let a=this.i;const o=p=>this.i!==a?(a=this.i,n(p)):Promise.resolve();let u=new ha;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ha,e.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const p=u;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},c=p=>{be("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(p=>c(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?c(p):(be("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ha)}},0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(a=>this.i!==e?(be("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(ht(typeof a.accessToken=="string",31837,{l:a}),new Qb(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ht(e===null||typeof e=="string",2055,{h:e}),new yn(e)}}class vR{constructor(e,n,a){this.P=e,this.T=n,this.I=a,this.type="FirstParty",this.user=yn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class _R{constructor(e,n,a){this.P=e,this.T=n,this.I=a}getToken(){return Promise.resolve(new vR(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(yn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class V_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class bR{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,VS(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ht(this.o===void 0,3512);const a=u=>{u.error!=null&&be("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,be("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>a(u))};const o=u=>{be("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):be("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new V_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ht(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new V_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ER(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let a=0;a<i;a++)n[a]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kb(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yb{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=ER(40);for(let u=0;u<o.length;++u)a.length<20&&o[u]<n&&(a+=e.charAt(o[u]%62))}return a}}function Ge(i,e){return i<e?-1:i>e?1:0}function tm(i,e){let n=0;for(;n<i.length&&n<e.length;){const a=i.codePointAt(n),o=e.codePointAt(n);if(a!==o){if(a<128&&o<128)return Ge(a,o);{const u=Kb(),f=wR(u.encode(k_(i,n)),u.encode(k_(e,n)));return f!==0?f:Ge(a,o)}}n+=a>65535?2:1}return Ge(i.length,e.length)}function k_(i,e){return i.codePointAt(e)>65535?i.substring(e,e+2):i.substring(e,e+1)}function wR(i,e){for(let n=0;n<i.length&&n<e.length;++n)if(i[n]!==e[n])return Ge(i[n],e[n]);return Ge(i.length,e.length)}function co(i,e,n){return i.length===e.length&&i.every((a,o)=>n(a,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j_=-62135596800,L_=1e6;class Qt{static now(){return Qt.fromMillis(Date.now())}static fromDate(e){return Qt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),a=Math.floor((e-1e3*n)*L_);return new Qt(n,a)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ae(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ae(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<j_)throw new Ae(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ae(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/L_}_compareTo(e){return this.seconds===e.seconds?Ge(this.nanoseconds,e.nanoseconds):Ge(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-j_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{static fromTimestamp(e){return new $e(e)}static min(){return new $e(new Qt(0,0))}static max(){return new $e(new Qt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P_="__name__";class Hr{constructor(e,n,a){n===void 0?n=0:n>e.length&&Pe(637,{offset:n,range:e.length}),a===void 0?a=e.length-n:a>e.length-n&&Pe(1746,{length:a,range:e.length-n}),this.segments=e,this.offset=n,this.len=a}get length(){return this.len}isEqual(e){return Hr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Hr?e.forEach(a=>{n.push(a)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,a=this.limit();n<a;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const a=Math.min(e.length,n.length);for(let o=0;o<a;o++){const u=Hr.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Ge(e.length,n.length)}static compareSegments(e,n){const a=Hr.isNumericId(e),o=Hr.isNumericId(n);return a&&!o?-1:!a&&o?1:a&&o?Hr.extractNumericId(e).compare(Hr.extractNumericId(n)):tm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return fa.fromString(e.substring(4,e.length-2))}}class At extends Hr{construct(e,n,a){return new At(e,n,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const a of e){if(a.indexOf("//")>=0)throw new Ae(he.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);n.push(...a.split("/").filter(o=>o.length>0))}return new At(n)}static emptyPath(){return new At([])}}const TR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class un extends Hr{construct(e,n,a){return new un(e,n,a)}static isValidIdentifier(e){return TR.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),un.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===P_}static keyField(){return new un([P_])}static fromServerFormat(e){const n=[];let a="",o=0;const u=()=>{if(a.length===0)throw new Ae(he.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(a),a=""};let f=!1;for(;o<e.length;){const c=e[o];if(c==="\\"){if(o+1===e.length)throw new Ae(he.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new Ae(he.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=p,o+=2}else c==="`"?(f=!f,o++):c!=="."||f?(a+=c,o++):(u(),o++)}if(u(),f)throw new Ae(he.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new un(n)}static emptyPath(){return new un([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe{constructor(e){this.path=e}static fromPath(e){return new Oe(At.fromString(e))}static fromName(e){return new Oe(At.fromString(e).popFirst(5))}static empty(){return new Oe(At.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&At.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return At.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Oe(new At(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ul=-1;function AR(i,e){const n=i.toTimestamp().seconds,a=i.toTimestamp().nanoseconds+1,o=$e.fromTimestamp(a===1e9?new Qt(n+1,0):new Qt(n,a));return new ga(o,Oe.empty(),e)}function SR(i){return new ga(i.readTime,i.key,Ul)}class ga{constructor(e,n,a){this.readTime=e,this.documentKey=n,this.largestBatchId=a}static min(){return new ga($e.min(),Oe.empty(),Ul)}static max(){return new ga($e.max(),Oe.empty(),Ul)}}function RR(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=Oe.comparator(i.documentKey,e.documentKey),n!==0?n:Ge(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class xR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vo(i){if(i.code!==he.FAILED_PRECONDITION||i.message!==CR)throw i;be("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Pe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new fe((a,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(a,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(a,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof fe?n:fe.resolve(n)}catch(n){return fe.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):fe.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):fe.reject(n)}static resolve(e){return new fe((n,a)=>{n(e)})}static reject(e){return new fe((n,a)=>{a(e)})}static waitFor(e){return new fe((n,a)=>{let o=0,u=0,f=!1;e.forEach(c=>{++o,c.next(()=>{++u,f&&u===o&&n()},p=>a(p))}),f=!0,u===o&&n()})}static or(e){let n=fe.resolve(!1);for(const a of e)n=n.next(o=>o?fe.resolve(o):a());return n}static forEach(e,n){const a=[];return e.forEach((o,u)=>{a.push(n.call(this,o,u))}),this.waitFor(a)}static mapArray(e,n){return new fe((a,o)=>{const u=e.length,f=new Array(u);let c=0;for(let p=0;p<u;p++){const g=p;n(e[g]).next(E=>{f[g]=E,++c,c===u&&a(f)},E=>o(E))}})}static doWhile(e,n){return new fe((a,o)=>{const u=()=>{e()===!0?n().next(()=>{u()},o):a()};u()})}}function DR(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function _o(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=a=>this.ue(a),this.ce=a=>n.writeSequenceNumber(a))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}uf.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lm=-1;function cf(i){return i==null}function Fc(i){return i===0&&1/i==-1/0}function IR(i){return typeof i=="number"&&Number.isInteger(i)&&!Fc(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xb="";function OR(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=U_(e)),e=MR(i.get(n),e);return U_(e)}function MR(i,e){let n=e;const a=i.length;for(let o=0;o<a;o++){const u=i.charAt(o);switch(u){case"\0":n+="";break;case Xb:n+="";break;default:n+=u}}return n}function U_(i){return i+Xb+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z_(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function Ta(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function Zb(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e,n){this.comparator=e,this.root=n||ln.EMPTY}insert(e,n){return new xt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ln.BLACK,null,null))}remove(e){return new xt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ln.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const a=this.comparator(e,n.key);if(a===0)return n.value;a<0?n=n.left:a>0&&(n=n.right)}return null}indexOf(e){let n=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(e,a.key);if(o===0)return n+a.left.size;o<0?a=a.left:(n+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,a)=>(e(n,a),!1))}toString(){const e=[];return this.inorderTraversal((n,a)=>(e.push(`${n}:${a}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new wc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new wc(this.root,e,this.comparator,!1)}getReverseIterator(){return new wc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new wc(this.root,e,this.comparator,!0)}}class wc{constructor(e,n,a,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?a(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ln{constructor(e,n,a,o,u){this.key=e,this.value=n,this.color=a??ln.RED,this.left=o??ln.EMPTY,this.right=u??ln.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,a,o,u){return new ln(e??this.key,n??this.value,a??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,a){let o=this;const u=a(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,a),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return ln.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let a,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return ln.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ln.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ln.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Pe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Pe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Pe(27949);return e+(this.isRed()?0:1)}}ln.EMPTY=null,ln.RED=!0,ln.BLACK=!1;ln.EMPTY=new class{constructor(){this.size=0}get key(){throw Pe(57766)}get value(){throw Pe(16141)}get color(){throw Pe(16727)}get left(){throw Pe(29726)}get right(){throw Pe(36894)}copy(e,n,a,o,u){return this}insert(e,n,a){return new ln(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e){this.comparator=e,this.data=new xt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,a)=>(e(n),!1))}forEachInRange(e,n){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let a;for(a=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new $_(this.data.getIterator())}getIteratorFrom(e){return new $_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(a=>{n=n.add(a)}),n}isEqual(e){if(!(e instanceof Kt)||this.size!==e.size)return!1;const n=this.data.getIterator(),a=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=a.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Kt(this.comparator);return n.data=e,n}}class $_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(e){this.fields=e,e.sort(un.comparator)}static empty(){return new Qn([])}unionWith(e){let n=new Kt(un.comparator);for(const a of this.fields)n=n.add(a);for(const a of e)n=n.add(a);return new Qn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return co(this.fields,e.fields,(n,a)=>n.isEqual(a))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new Wb("Invalid base64 string: "+u):u}}(e);return new cn(n)}static fromUint8Array(e){const n=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(e);return new cn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const a=new Uint8Array(n.length);for(let o=0;o<n.length;o++)a[o]=n.charCodeAt(o);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ge(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}cn.EMPTY_BYTE_STRING=new cn("");const NR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ya(i){if(ht(!!i,39018),typeof i=="string"){let e=0;const n=NR.exec(i);if(ht(!!n,46558,{timestamp:i}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const a=new Date(i);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:Nt(i.seconds),nanos:Nt(i.nanos)}}function Nt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function va(i){return typeof i=="string"?cn.fromBase64String(i):cn.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jb="server_timestamp",e1="__type__",t1="__previous_value__",n1="__local_write_time__";function Pm(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[e1])===null||n===void 0?void 0:n.stringValue)===Jb}function ff(i){const e=i.mapValue.fields[t1];return Pm(e)?ff(e):e}function zl(i){const e=ya(i.mapValue.fields[n1].timestampValue);return new Qt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VR{constructor(e,n,a,o,u,f,c,p,g){this.databaseId=e,this.appId=n,this.persistenceKey=a,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=c,this.longPollingOptions=p,this.useFetchStreams=g}}const Hc="(default)";class $l{constructor(e,n){this.projectId=e,this.database=n||Hc}static empty(){return new $l("","")}get isDefaultDatabase(){return this.database===Hc}isEqual(e){return e instanceof $l&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r1="__type__",kR="__max__",Tc={mapValue:{}},i1="__vector__",Gc="value";function _a(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Pm(i)?4:LR(i)?9007199254740991:jR(i)?10:11:Pe(28295,{value:i})}function Xr(i,e){if(i===e)return!0;const n=_a(i);if(n!==_a(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return zl(i).isEqual(zl(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=ya(o.timestampValue),c=ya(u.timestampValue);return f.seconds===c.seconds&&f.nanos===c.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(o,u){return va(o.bytesValue).isEqual(va(u.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,u){return Nt(o.geoPointValue.latitude)===Nt(u.geoPointValue.latitude)&&Nt(o.geoPointValue.longitude)===Nt(u.geoPointValue.longitude)}(i,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return Nt(o.integerValue)===Nt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=Nt(o.doubleValue),c=Nt(u.doubleValue);return f===c?Fc(f)===Fc(c):isNaN(f)&&isNaN(c)}return!1}(i,e);case 9:return co(i.arrayValue.values||[],e.arrayValue.values||[],Xr);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},c=u.mapValue.fields||{};if(z_(f)!==z_(c))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(c[p]===void 0||!Xr(f[p],c[p])))return!1;return!0}(i,e);default:return Pe(52216,{left:i})}}function Bl(i,e){return(i.values||[]).find(n=>Xr(n,e))!==void 0}function fo(i,e){if(i===e)return 0;const n=_a(i),a=_a(e);if(n!==a)return Ge(n,a);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ge(i.booleanValue,e.booleanValue);case 2:return function(u,f){const c=Nt(u.integerValue||u.doubleValue),p=Nt(f.integerValue||f.doubleValue);return c<p?-1:c>p?1:c===p?0:isNaN(c)?isNaN(p)?0:-1:1}(i,e);case 3:return B_(i.timestampValue,e.timestampValue);case 4:return B_(zl(i),zl(e));case 5:return tm(i.stringValue,e.stringValue);case 6:return function(u,f){const c=va(u),p=va(f);return c.compareTo(p)}(i.bytesValue,e.bytesValue);case 7:return function(u,f){const c=u.split("/"),p=f.split("/");for(let g=0;g<c.length&&g<p.length;g++){const E=Ge(c[g],p[g]);if(E!==0)return E}return Ge(c.length,p.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,f){const c=Ge(Nt(u.latitude),Nt(f.latitude));return c!==0?c:Ge(Nt(u.longitude),Nt(f.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return q_(i.arrayValue,e.arrayValue);case 10:return function(u,f){var c,p,g,E;const d=u.fields||{},y=f.fields||{},_=(c=d[Gc])===null||c===void 0?void 0:c.arrayValue,v=(p=y[Gc])===null||p===void 0?void 0:p.arrayValue,b=Ge(((g=_==null?void 0:_.values)===null||g===void 0?void 0:g.length)||0,((E=v==null?void 0:v.values)===null||E===void 0?void 0:E.length)||0);return b!==0?b:q_(_,v)}(i.mapValue,e.mapValue);case 11:return function(u,f){if(u===Tc.mapValue&&f===Tc.mapValue)return 0;if(u===Tc.mapValue)return 1;if(f===Tc.mapValue)return-1;const c=u.fields||{},p=Object.keys(c),g=f.fields||{},E=Object.keys(g);p.sort(),E.sort();for(let d=0;d<p.length&&d<E.length;++d){const y=tm(p[d],E[d]);if(y!==0)return y;const _=fo(c[p[d]],g[E[d]]);if(_!==0)return _}return Ge(p.length,E.length)}(i.mapValue,e.mapValue);default:throw Pe(23264,{Pe:n})}}function B_(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Ge(i,e);const n=ya(i),a=ya(e),o=Ge(n.seconds,a.seconds);return o!==0?o:Ge(n.nanos,a.nanos)}function q_(i,e){const n=i.values||[],a=e.values||[];for(let o=0;o<n.length&&o<a.length;++o){const u=fo(n[o],a[o]);if(u)return u}return Ge(n.length,a.length)}function ho(i){return nm(i)}function nm(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(n){const a=ya(n);return`time(${a.seconds},${a.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(n){return va(n).toBase64()}(i.bytesValue):"referenceValue"in i?function(n){return Oe.fromName(n).toString()}(i.referenceValue):"geoPointValue"in i?function(n){return`geo(${n.latitude},${n.longitude})`}(i.geoPointValue):"arrayValue"in i?function(n){let a="[",o=!0;for(const u of n.values||[])o?o=!1:a+=",",a+=nm(u);return a+"]"}(i.arrayValue):"mapValue"in i?function(n){const a=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of a)u?u=!1:o+=",",o+=`${f}:${nm(n.fields[f])}`;return o+"}"}(i.mapValue):Pe(61005,{value:i})}function Oc(i){switch(_a(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ff(i);return e?16+Oc(e):16;case 5:return 2*i.stringValue.length;case 6:return va(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(a){return(a.values||[]).reduce((o,u)=>o+Oc(u),0)}(i.arrayValue);case 10:case 11:return function(a){let o=0;return Ta(a.fields,(u,f)=>{o+=u.length+Oc(f)}),o}(i.mapValue);default:throw Pe(13486,{value:i})}}function F_(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function rm(i){return!!i&&"integerValue"in i}function Um(i){return!!i&&"arrayValue"in i}function H_(i){return!!i&&"nullValue"in i}function G_(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Mc(i){return!!i&&"mapValue"in i}function jR(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[r1])===null||n===void 0?void 0:n.stringValue)===i1}function Ol(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return Ta(i.mapValue.fields,(n,a)=>e.mapValue.fields[n]=Ol(a)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ol(i.arrayValue.values[n]);return e}return Object.assign({},i)}function LR(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===kR}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e){this.value=e}static empty(){return new On({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let a=0;a<e.length-1;++a)if(n=(n.mapValue.fields||{})[e.get(a)],!Mc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ol(n)}setAll(e){let n=un.emptyPath(),a={},o=[];e.forEach((f,c)=>{if(!n.isImmediateParentOf(c)){const p=this.getFieldsMap(n);this.applyChanges(p,a,o),a={},o=[],n=c.popLast()}f?a[c.lastSegment()]=Ol(f):o.push(c.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,a,o)}delete(e){const n=this.field(e.popLast());Mc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Xr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let a=0;a<e.length;++a){let o=n.mapValue.fields[e.get(a)];Mc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(a)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,a){Ta(n,(o,u)=>e[o]=u);for(const o of a)delete e[o]}clone(){return new On(Ol(this.value))}}function a1(i){const e=[];return Ta(i.fields,(n,a)=>{const o=new un([n]);if(Mc(a)){const u=a1(a.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)}),new Qn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e,n,a,o,u,f,c){this.key=e,this.documentType=n,this.version=a,this.readTime=o,this.createTime=u,this.data=f,this.documentState=c}static newInvalidDocument(e){return new vn(e,0,$e.min(),$e.min(),$e.min(),On.empty(),0)}static newFoundDocument(e,n,a,o){return new vn(e,1,n,$e.min(),a,o,0)}static newNoDocument(e,n){return new vn(e,2,n,$e.min(),$e.min(),On.empty(),0)}static newUnknownDocument(e,n){return new vn(e,3,n,$e.min(),$e.min(),On.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual($e.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=On.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=On.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=$e.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof vn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new vn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{constructor(e,n){this.position=e,this.inclusive=n}}function Q_(i,e,n){let a=0;for(let o=0;o<i.position.length;o++){const u=e[o],f=i.position[o];if(u.field.isKeyField()?a=Oe.comparator(Oe.fromName(f.referenceValue),n.key):a=fo(f,n.data.field(u.field)),u.dir==="desc"&&(a*=-1),a!==0)break}return a}function K_(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Xr(i.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(e,n="asc"){this.field=e,this.dir=n}}function PR(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s1{}class $t extends s1{constructor(e,n,a){super(),this.field=e,this.op=n,this.value=a}static create(e,n,a){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,a):new zR(e,n,a):n==="array-contains"?new qR(e,a):n==="in"?new FR(e,a):n==="not-in"?new HR(e,a):n==="array-contains-any"?new GR(e,a):new $t(e,n,a)}static createKeyFieldInFilter(e,n,a){return n==="in"?new $R(e,a):new BR(e,a)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(fo(n,this.value)):n!==null&&_a(this.value)===_a(n)&&this.matchesComparison(fo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Pe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ar extends s1{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new Ar(e,n)}matches(e){return o1(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function o1(i){return i.op==="and"}function l1(i){return UR(i)&&o1(i)}function UR(i){for(const e of i.filters)if(e instanceof Ar)return!1;return!0}function im(i){if(i instanceof $t)return i.field.canonicalString()+i.op.toString()+ho(i.value);if(l1(i))return i.filters.map(e=>im(e)).join(",");{const e=i.filters.map(n=>im(n)).join(",");return`${i.op}(${e})`}}function u1(i,e){return i instanceof $t?function(a,o){return o instanceof $t&&a.op===o.op&&a.field.isEqual(o.field)&&Xr(a.value,o.value)}(i,e):i instanceof Ar?function(a,o){return o instanceof Ar&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce((u,f,c)=>u&&u1(f,o.filters[c]),!0):!1}(i,e):void Pe(19439)}function c1(i){return i instanceof $t?function(n){return`${n.field.canonicalString()} ${n.op} ${ho(n.value)}`}(i):i instanceof Ar?function(n){return n.op.toString()+" {"+n.getFilters().map(c1).join(" ,")+"}"}(i):"Filter"}class zR extends $t{constructor(e,n,a){super(e,n,a),this.key=Oe.fromName(a.referenceValue)}matches(e){const n=Oe.comparator(e.key,this.key);return this.matchesComparison(n)}}class $R extends $t{constructor(e,n){super(e,"in",n),this.keys=f1("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class BR extends $t{constructor(e,n){super(e,"not-in",n),this.keys=f1("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function f1(i,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(a=>Oe.fromName(a.referenceValue))}class qR extends $t{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Um(n)&&Bl(n.arrayValue,this.value)}}class FR extends $t{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Bl(this.value.arrayValue,n)}}class HR extends $t{constructor(e,n){super(e,"not-in",n)}matches(e){if(Bl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Bl(this.value.arrayValue,n)}}class GR extends $t{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Um(n)||!n.arrayValue.values)&&n.arrayValue.values.some(a=>Bl(this.value.arrayValue,a))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR{constructor(e,n=null,a=[],o=[],u=null,f=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=a,this.filters=o,this.limit=u,this.startAt=f,this.endAt=c,this.Ie=null}}function Y_(i,e=null,n=[],a=[],o=null,u=null,f=null){return new QR(i,e,n,a,o,u,f)}function zm(i){const e=Be(i);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(a=>im(a)).join(","),n+="|ob:",n+=e.orderBy.map(a=>function(u){return u.field.canonicalString()+u.dir}(a)).join(","),cf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(a=>ho(a)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(a=>ho(a)).join(",")),e.Ie=n}return e.Ie}function $m(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!PR(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!u1(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!K_(i.startAt,e.startAt)&&K_(i.endAt,e.endAt)}function am(i){return Oe.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl{constructor(e,n=null,a=[],o=[],u=null,f="F",c=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=a,this.filters=o,this.limit=u,this.limitType=f,this.startAt=c,this.endAt=p,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function KR(i,e,n,a,o,u,f,c){return new Yl(i,e,n,a,o,u,f,c)}function h1(i){return new Yl(i)}function X_(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function d1(i){return i.collectionGroup!==null}function Ml(i){const e=Be(i);if(e.Ee===null){e.Ee=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ee.push(u),n.add(u.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let c=new Kt(un.comparator);return f.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(c=c.add(g.field))})}),c})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ee.push(new Kc(u,a))}),n.has(un.keyField().canonicalString())||e.Ee.push(new Kc(un.keyField(),a))}return e.Ee}function Kr(i){const e=Be(i);return e.de||(e.de=YR(e,Ml(i))),e.de}function YR(i,e){if(i.limitType==="F")return Y_(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new Kc(o.field,u)});const n=i.endAt?new Qc(i.endAt.position,i.endAt.inclusive):null,a=i.startAt?new Qc(i.startAt.position,i.startAt.inclusive):null;return Y_(i.path,i.collectionGroup,e,i.filters,i.limit,n,a)}}function sm(i,e){const n=i.filters.concat([e]);return new Yl(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function Yc(i,e,n){return new Yl(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function hf(i,e){return $m(Kr(i),Kr(e))&&i.limitType===e.limitType}function m1(i){return`${zm(Kr(i))}|lt:${i.limitType}`}function io(i){return`Query(target=${function(n){let a=n.path.canonicalString();return n.collectionGroup!==null&&(a+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(a+=`, filters: [${n.filters.map(o=>c1(o)).join(", ")}]`),cf(n.limit)||(a+=", limit: "+n.limit),n.orderBy.length>0&&(a+=`, orderBy: [${n.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),n.startAt&&(a+=", startAt: ",a+=n.startAt.inclusive?"b:":"a:",a+=n.startAt.position.map(o=>ho(o)).join(",")),n.endAt&&(a+=", endAt: ",a+=n.endAt.inclusive?"a:":"b:",a+=n.endAt.position.map(o=>ho(o)).join(",")),`Target(${a})`}(Kr(i))}; limitType=${i.limitType})`}function df(i,e){return e.isFoundDocument()&&function(a,o){const u=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(u):Oe.isDocumentKey(a.path)?a.path.isEqual(u):a.path.isImmediateParentOf(u)}(i,e)&&function(a,o){for(const u of Ml(a))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(i,e)&&function(a,o){for(const u of a.filters)if(!u.matches(o))return!1;return!0}(i,e)&&function(a,o){return!(a.startAt&&!function(f,c,p){const g=Q_(f,c,p);return f.inclusive?g<=0:g<0}(a.startAt,Ml(a),o)||a.endAt&&!function(f,c,p){const g=Q_(f,c,p);return f.inclusive?g>=0:g>0}(a.endAt,Ml(a),o))}(i,e)}function XR(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function p1(i){return(e,n)=>{let a=!1;for(const o of Ml(i)){const u=ZR(o,e,n);if(u!==0)return u;a=a||o.field.isKeyField()}return 0}}function ZR(i,e,n){const a=i.field.isKeyField()?Oe.comparator(e.key,n.key):function(u,f,c){const p=f.data.field(u),g=c.data.field(u);return p!==null&&g!==null?fo(p,g):Pe(42886)}(i.field,e,n);switch(i.dir){case"asc":return a;case"desc":return-1*a;default:return Pe(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a!==void 0){for(const[o,u]of a)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const a=this.mapKeyFn(e),o=this.inner[a];if(o===void 0)return this.inner[a]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return a.length===1?delete this.inner[n]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ta(this.inner,(n,a)=>{for(const[o,u]of a)e(o,u)})}isEmpty(){return Zb(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WR=new xt(Oe.comparator);function xi(){return WR}const g1=new xt(Oe.comparator);function xl(...i){let e=g1;for(const n of i)e=e.insert(n.key,n);return e}function y1(i){let e=g1;return i.forEach((n,a)=>e=e.insert(n,a.overlayedDocument)),e}function is(){return Nl()}function v1(){return Nl()}function Nl(){return new hs(i=>i.toString(),(i,e)=>i.isEqual(e))}const JR=new xt(Oe.comparator),e3=new Kt(Oe.comparator);function Je(...i){let e=e3;for(const n of i)e=e.add(n);return e}const t3=new Kt(Ge);function n3(){return t3}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bm(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Fc(e)?"-0":e}}function _1(i){return{integerValue:""+i}}function r3(i,e){return IR(e)?_1(e):Bm(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf{constructor(){this._=void 0}}function i3(i,e,n){return i instanceof Xc?function(o,u){const f={fields:{[e1]:{stringValue:Jb},[n1]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Pm(u)&&(u=ff(u)),u&&(f.fields[t1]=u),{mapValue:f}}(n,e):i instanceof ql?E1(i,e):i instanceof Fl?w1(i,e):function(o,u){const f=b1(o,u),c=Z_(f)+Z_(o.Re);return rm(f)&&rm(o.Re)?_1(c):Bm(o.serializer,c)}(i,e)}function a3(i,e,n){return i instanceof ql?E1(i,e):i instanceof Fl?w1(i,e):n}function b1(i,e){return i instanceof Zc?function(a){return rm(a)||function(u){return!!u&&"doubleValue"in u}(a)}(e)?e:{integerValue:0}:null}class Xc extends mf{}class ql extends mf{constructor(e){super(),this.elements=e}}function E1(i,e){const n=T1(e);for(const a of i.elements)n.some(o=>Xr(o,a))||n.push(a);return{arrayValue:{values:n}}}class Fl extends mf{constructor(e){super(),this.elements=e}}function w1(i,e){let n=T1(e);for(const a of i.elements)n=n.filter(o=>!Xr(o,a));return{arrayValue:{values:n}}}class Zc extends mf{constructor(e,n){super(),this.serializer=e,this.Re=n}}function Z_(i){return Nt(i.integerValue||i.doubleValue)}function T1(i){return Um(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function s3(i,e){return i.field.isEqual(e.field)&&function(a,o){return a instanceof ql&&o instanceof ql||a instanceof Fl&&o instanceof Fl?co(a.elements,o.elements,Xr):a instanceof Zc&&o instanceof Zc?Xr(a.Re,o.Re):a instanceof Xc&&o instanceof Xc}(i.transform,e.transform)}class o3{constructor(e,n){this.version=e,this.transformResults=n}}class wr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new wr}static exists(e){return new wr(void 0,e)}static updateTime(e){return new wr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Nc(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class pf{}function A1(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new qm(i.key,wr.none()):new Xl(i.key,i.data,wr.none());{const n=i.data,a=On.empty();let o=new Kt(un.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?a.delete(u):a.set(u,f),o=o.add(u)}return new Aa(i.key,a,new Qn(o.toArray()),wr.none())}}function l3(i,e,n){i instanceof Xl?function(o,u,f){const c=o.value.clone(),p=J_(o.fieldTransforms,u,f.transformResults);c.setAll(p),u.convertToFoundDocument(f.version,c).setHasCommittedMutations()}(i,e,n):i instanceof Aa?function(o,u,f){if(!Nc(o.precondition,u))return void u.convertToUnknownDocument(f.version);const c=J_(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(S1(o)),p.setAll(c),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(i,e,n):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,n)}function Vl(i,e,n,a){return i instanceof Xl?function(u,f,c,p){if(!Nc(u.precondition,f))return c;const g=u.value.clone(),E=e0(u.fieldTransforms,p,f);return g.setAll(E),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),null}(i,e,n,a):i instanceof Aa?function(u,f,c,p){if(!Nc(u.precondition,f))return c;const g=e0(u.fieldTransforms,p,f),E=f.data;return E.setAll(S1(u)),E.setAll(g),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),c===null?null:c.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(d=>d.field))}(i,e,n,a):function(u,f,c){return Nc(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):c}(i,e,n)}function u3(i,e){let n=null;for(const a of i.fieldTransforms){const o=e.data.field(a.field),u=b1(a.transform,o||null);u!=null&&(n===null&&(n=On.empty()),n.set(a.field,u))}return n||null}function W_(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&co(a,o,(u,f)=>s3(u,f))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class Xl extends pf{constructor(e,n,a,o=[]){super(),this.key=e,this.value=n,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Aa extends pf{constructor(e,n,a,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=a,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function S1(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const a=i.data.field(n);e.set(n,a)}}),e}function J_(i,e,n){const a=new Map;ht(i.length===n.length,32656,{Ve:n.length,me:i.length});for(let o=0;o<n.length;o++){const u=i[o],f=u.transform,c=e.data.field(u.field);a.set(u.field,a3(f,c,n[o]))}return a}function e0(i,e,n){const a=new Map;for(const o of i){const u=o.transform,f=n.data.field(o.field);a.set(o.field,i3(u,f,e))}return a}class qm extends pf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class c3 extends pf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f3{constructor(e,n,a,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(e,n){const a=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&l3(u,e,a[o])}}applyToLocalView(e,n){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(n=Vl(a,e,n,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(n=Vl(a,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const a=v1();return this.mutations.forEach(o=>{const u=e.get(o.key),f=u.overlayedDocument;let c=this.applyToLocalView(f,u.mutatedFields);c=n.has(o.key)?null:c;const p=A1(f,c);p!==null&&a.set(o.key,p),f.isValidDocument()||f.convertToNoDocument($e.min())}),a}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Je())}isEqual(e){return this.batchId===e.batchId&&co(this.mutations,e.mutations,(n,a)=>W_(n,a))&&co(this.baseMutations,e.baseMutations,(n,a)=>W_(n,a))}}class Fm{constructor(e,n,a,o){this.batch=e,this.commitVersion=n,this.mutationResults=a,this.docVersions=o}static from(e,n,a){ht(e.mutations.length===a.length,58842,{fe:e.mutations.length,ge:a.length});let o=function(){return JR}();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,a[f].version);return new Fm(e,n,a,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h3{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d3{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zt,it;function m3(i){switch(i){case he.OK:return Pe(64938);case he.CANCELLED:case he.UNKNOWN:case he.DEADLINE_EXCEEDED:case he.RESOURCE_EXHAUSTED:case he.INTERNAL:case he.UNAVAILABLE:case he.UNAUTHENTICATED:return!1;case he.INVALID_ARGUMENT:case he.NOT_FOUND:case he.ALREADY_EXISTS:case he.PERMISSION_DENIED:case he.FAILED_PRECONDITION:case he.ABORTED:case he.OUT_OF_RANGE:case he.UNIMPLEMENTED:case he.DATA_LOSS:return!0;default:return Pe(15467,{code:i})}}function R1(i){if(i===void 0)return Ci("GRPC error has no .code"),he.UNKNOWN;switch(i){case zt.OK:return he.OK;case zt.CANCELLED:return he.CANCELLED;case zt.UNKNOWN:return he.UNKNOWN;case zt.DEADLINE_EXCEEDED:return he.DEADLINE_EXCEEDED;case zt.RESOURCE_EXHAUSTED:return he.RESOURCE_EXHAUSTED;case zt.INTERNAL:return he.INTERNAL;case zt.UNAVAILABLE:return he.UNAVAILABLE;case zt.UNAUTHENTICATED:return he.UNAUTHENTICATED;case zt.INVALID_ARGUMENT:return he.INVALID_ARGUMENT;case zt.NOT_FOUND:return he.NOT_FOUND;case zt.ALREADY_EXISTS:return he.ALREADY_EXISTS;case zt.PERMISSION_DENIED:return he.PERMISSION_DENIED;case zt.FAILED_PRECONDITION:return he.FAILED_PRECONDITION;case zt.ABORTED:return he.ABORTED;case zt.OUT_OF_RANGE:return he.OUT_OF_RANGE;case zt.UNIMPLEMENTED:return he.UNIMPLEMENTED;case zt.DATA_LOSS:return he.DATA_LOSS;default:return Pe(39323,{code:i})}}(it=zt||(zt={}))[it.OK=0]="OK",it[it.CANCELLED=1]="CANCELLED",it[it.UNKNOWN=2]="UNKNOWN",it[it.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",it[it.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",it[it.NOT_FOUND=5]="NOT_FOUND",it[it.ALREADY_EXISTS=6]="ALREADY_EXISTS",it[it.PERMISSION_DENIED=7]="PERMISSION_DENIED",it[it.UNAUTHENTICATED=16]="UNAUTHENTICATED",it[it.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",it[it.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",it[it.ABORTED=10]="ABORTED",it[it.OUT_OF_RANGE=11]="OUT_OF_RANGE",it[it.UNIMPLEMENTED=12]="UNIMPLEMENTED",it[it.INTERNAL=13]="INTERNAL",it[it.UNAVAILABLE=14]="UNAVAILABLE",it[it.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p3=new fa([4294967295,4294967295],0);function t0(i){const e=Kb().encode(i),n=new zb;return n.update(e),new Uint8Array(n.digest())}function n0(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),a=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new fa([n,a],0),new fa([o,u],0)]}class Hm{constructor(e,n,a){if(this.bitmap=e,this.padding=n,this.hashCount=a,n<0||n>=8)throw new Dl(`Invalid padding: ${n}`);if(a<0)throw new Dl(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new Dl(`Invalid hash count: ${a}`);if(e.length===0&&n!==0)throw new Dl(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=fa.fromNumber(this.pe)}we(e,n,a){let o=e.add(n.multiply(fa.fromNumber(a)));return o.compare(p3)===1&&(o=new fa([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=t0(e),[a,o]=n0(n);for(let u=0;u<this.hashCount;u++){const f=this.we(a,o,u);if(!this.be(f))return!1}return!0}static create(e,n,a){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new Hm(u,o,n);return a.forEach(c=>f.insert(c)),f}insert(e){if(this.pe===0)return;const n=t0(e),[a,o]=n0(n);for(let u=0;u<this.hashCount;u++){const f=this.we(a,o,u);this.Se(f)}}Se(e){const n=Math.floor(e/8),a=e%8;this.bitmap[n]|=1<<a}}class Dl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf{constructor(e,n,a,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,a){const o=new Map;return o.set(e,Zl.createSynthesizedTargetChangeForCurrentChange(e,n,a)),new gf($e.min(),o,new xt(Ge),xi(),Je())}}class Zl{constructor(e,n,a,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,a){return new Zl(a,n,Je(),Je(),Je())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(e,n,a,o){this.De=e,this.removedTargetIds=n,this.key=a,this.ve=o}}class C1{constructor(e,n){this.targetId=e,this.Ce=n}}class x1{constructor(e,n,a=cn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=a,this.cause=o}}class r0{constructor(){this.Fe=0,this.Me=i0(),this.xe=cn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Je(),n=Je(),a=Je();return this.Me.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:a=a.add(o);break;default:Pe(38017,{changeType:u})}}),new Zl(this.xe,this.Oe,e,n,a)}Qe(){this.Ne=!1,this.Me=i0()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,ht(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class g3{constructor(e){this.ze=e,this.je=new Map,this.He=xi(),this.Je=Ac(),this.Ye=Ac(),this.Ze=new xt(Ge)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const a=this.rt(n);switch(e.state){case 0:this.it(n)&&a.ke(e.resumeToken);break;case 1:a.We(),a.Be||a.Qe(),a.ke(e.resumeToken);break;case 2:a.We(),a.Be||this.removeTarget(n);break;case 3:this.it(n)&&(a.Ge(),a.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),a.ke(e.resumeToken));break;default:Pe(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((a,o)=>{this.it(o)&&n(o)})}ot(e){const n=e.targetId,a=e.Ce.count,o=this._t(n);if(o){const u=o.target;if(am(u))if(a===0){const f=new Oe(u.path);this.tt(n,f,vn.newNoDocument(f,$e.min()))}else ht(a===1,20013,{expectedCount:a});else{const f=this.ut(n);if(f!==a){const c=this.ct(e),p=c?this.lt(c,e,f):1;if(p!==0){this.st(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,g)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:u=0}=n;let f,c;try{f=va(a).toUint8Array()}catch(p){if(p instanceof Wb)return uo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{c=new Hm(f,o,u)}catch(p){return uo(p instanceof Dl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return c.pe===0?null:c}lt(e,n,a){return n.Ce.count===a-this.Tt(e,n.targetId)?0:2}Tt(e,n){const a=this.ze.getRemoteKeysForTarget(n);let o=0;return a.forEach(u=>{const f=this.ze.Pt(),c=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(c)||(this.tt(n,u,null),o++)}),o}It(e){const n=new Map;this.je.forEach((u,f)=>{const c=this._t(f);if(c){if(u.current&&am(c.target)){const p=new Oe(c.target.path);this.Et(p).has(f)||this.dt(f,p)||this.tt(f,p,vn.newNoDocument(p,e))}u.Le&&(n.set(f,u.qe()),u.Qe())}});let a=Je();this.Ye.forEach((u,f)=>{let c=!0;f.forEachWhile(p=>{const g=this._t(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(a=a.add(u))}),this.He.forEach((u,f)=>f.setReadTime(e));const o=new gf(e,n,this.Ze,this.He,a);return this.He=xi(),this.Je=Ac(),this.Ye=Ac(),this.Ze=new xt(Ge),o}et(e,n){if(!this.it(e))return;const a=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,a),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,a){if(!this.it(e))return;const o=this.rt(e);this.dt(e,n)?o.$e(n,1):o.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),a&&(this.He=this.He.insert(n,a))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new r0,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new Kt(Ge),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new Kt(Ge),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||be("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new r0),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function Ac(){return new xt(Oe.comparator)}function i0(){return new xt(Oe.comparator)}const y3={asc:"ASCENDING",desc:"DESCENDING"},v3={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},_3={and:"AND",or:"OR"};class b3{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function om(i,e){return i.useProto3Json||cf(e)?e:{value:e}}function Wc(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function D1(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function E3(i,e){return Wc(i,e.toTimestamp())}function Yr(i){return ht(!!i,49232),$e.fromTimestamp(function(n){const a=ya(n);return new Qt(a.seconds,a.nanos)}(i))}function Gm(i,e){return lm(i,e).canonicalString()}function lm(i,e){const n=function(o){return new At(["projects",o.projectId,"databases",o.database])}(i).child("documents");return e===void 0?n:n.child(e)}function I1(i){const e=At.fromString(i);return ht(k1(e),10190,{key:e.toString()}),e}function um(i,e){return Gm(i.databaseId,e.path)}function Ud(i,e){const n=I1(e);if(n.get(1)!==i.databaseId.projectId)throw new Ae(he.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new Ae(he.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new Oe(M1(n))}function O1(i,e){return Gm(i.databaseId,e)}function w3(i){const e=I1(i);return e.length===4?At.emptyPath():M1(e)}function cm(i){return new At(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function M1(i){return ht(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function a0(i,e,n){return{name:um(i,e),fields:n.value.mapValue.fields}}function T3(i,e){let n;if("targetChange"in e){e.targetChange;const a=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Pe(39313,{state:g})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(g,E){return g.useProto3Json?(ht(E===void 0||typeof E=="string",58123),cn.fromBase64String(E||"")):(ht(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),cn.fromUint8Array(E||new Uint8Array))}(i,e.targetChange.resumeToken),f=e.targetChange.cause,c=f&&function(g){const E=g.code===void 0?he.UNKNOWN:R1(g.code);return new Ae(E,g.message||"")}(f);n=new x1(a,o,u,c||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const o=Ud(i,a.document.name),u=Yr(a.document.updateTime),f=a.document.createTime?Yr(a.document.createTime):$e.min(),c=new On({mapValue:{fields:a.document.fields}}),p=vn.newFoundDocument(o,u,f,c),g=a.targetIds||[],E=a.removedTargetIds||[];n=new Vc(g,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const o=Ud(i,a.document),u=a.readTime?Yr(a.readTime):$e.min(),f=vn.newNoDocument(o,u),c=a.removedTargetIds||[];n=new Vc([],c,f.key,f)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const o=Ud(i,a.document),u=a.removedTargetIds||[];n=new Vc([],u,o,null)}else{if(!("filter"in e))return Pe(11601,{Vt:e});{e.filter;const a=e.filter;a.targetId;const{count:o=0,unchangedNames:u}=a,f=new d3(o,u),c=a.targetId;n=new C1(c,f)}}return n}function A3(i,e){let n;if(e instanceof Xl)n={update:a0(i,e.key,e.value)};else if(e instanceof qm)n={delete:um(i,e.key)};else if(e instanceof Aa)n={update:a0(i,e.key,e.data),updateMask:N3(e.fieldMask)};else{if(!(e instanceof c3))return Pe(16599,{ft:e.type});n={verify:um(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(a=>function(u,f){const c=f.transform;if(c instanceof Xc)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof ql)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Fl)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Zc)return{fieldPath:f.field.canonicalString(),increment:c.Re};throw Pe(20930,{transform:f.transform})}(0,a))),e.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:E3(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Pe(27497)}(i,e.precondition)),n}function S3(i,e){return i&&i.length>0?(ht(e!==void 0,14353),i.map(n=>function(o,u){let f=o.updateTime?Yr(o.updateTime):Yr(u);return f.isEqual($e.min())&&(f=Yr(u)),new o3(f,o.transformResults||[])}(n,e))):[]}function R3(i,e){return{documents:[O1(i,e.path)]}}function C3(i,e){const n={structuredQuery:{}},a=e.path;let o;e.collectionGroup!==null?(o=a,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=a.popLast(),n.structuredQuery.from=[{collectionId:a.lastSegment()}]),n.parent=O1(i,o);const u=function(g){if(g.length!==0)return V1(Ar.create(g,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const f=function(g){if(g.length!==0)return g.map(E=>function(y){return{field:ao(y.field),direction:I3(y.dir)}}(E))}(e.orderBy);f&&(n.structuredQuery.orderBy=f);const c=om(i,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{gt:n,parent:o}}function x3(i){let e=w3(i.parent);const n=i.structuredQuery,a=n.from?n.from.length:0;let o=null;if(a>0){ht(a===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=function(d){const y=N1(d);return y instanceof Ar&&l1(y)?y.getFilters():[y]}(n.where));let f=[];n.orderBy&&(f=function(d){return d.map(y=>function(v){return new Kc(so(v.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(y))}(n.orderBy));let c=null;n.limit&&(c=function(d){let y;return y=typeof d=="object"?d.value:d,cf(y)?null:y}(n.limit));let p=null;n.startAt&&(p=function(d){const y=!!d.before,_=d.values||[];return new Qc(_,y)}(n.startAt));let g=null;return n.endAt&&(g=function(d){const y=!d.before,_=d.values||[];return new Qc(_,y)}(n.endAt)),KR(e,o,f,u,c,"F",p,g)}function D3(i,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Pe(28987,{purpose:o})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function N1(i){return i.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const a=so(n.unaryFilter.field);return $t.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=so(n.unaryFilter.field);return $t.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=so(n.unaryFilter.field);return $t.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=so(n.unaryFilter.field);return $t.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Pe(61313);default:return Pe(60726)}}(i):i.fieldFilter!==void 0?function(n){return $t.create(so(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Pe(58110);default:return Pe(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(n){return Ar.create(n.compositeFilter.filters.map(a=>N1(a)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Pe(1026)}}(n.compositeFilter.op))}(i):Pe(30097,{filter:i})}function I3(i){return y3[i]}function O3(i){return v3[i]}function M3(i){return _3[i]}function ao(i){return{fieldPath:i.canonicalString()}}function so(i){return un.fromServerFormat(i.fieldPath)}function V1(i){return i instanceof $t?function(n){if(n.op==="=="){if(G_(n.value))return{unaryFilter:{field:ao(n.field),op:"IS_NAN"}};if(H_(n.value))return{unaryFilter:{field:ao(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(G_(n.value))return{unaryFilter:{field:ao(n.field),op:"IS_NOT_NAN"}};if(H_(n.value))return{unaryFilter:{field:ao(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ao(n.field),op:O3(n.op),value:n.value}}}(i):i instanceof Ar?function(n){const a=n.getFilters().map(o=>V1(o));return a.length===1?a[0]:{compositeFilter:{op:M3(n.op),filters:a}}}(i):Pe(54877,{filter:i})}function N3(i){const e=[];return i.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function k1(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(e,n,a,o,u=$e.min(),f=$e.min(),c=cn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=c,this.expectedCount=p}withSequenceNumber(e){return new la(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new la(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new la(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new la(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V3{constructor(e){this.wt=e}}function k3(i){const e=x3({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Yc(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j3{constructor(){this.yn=new L3}addToCollectionParentIndex(e,n){return this.yn.add(n),fe.resolve()}getCollectionParents(e,n){return fe.resolve(this.yn.getEntries(n))}addFieldIndex(e,n){return fe.resolve()}deleteFieldIndex(e,n){return fe.resolve()}deleteAllFieldIndexes(e){return fe.resolve()}createTargetIndexes(e,n){return fe.resolve()}getDocumentsMatchingTarget(e,n){return fe.resolve(null)}getIndexType(e,n){return fe.resolve(0)}getFieldIndexes(e,n){return fe.resolve([])}getNextCollectionGroupToUpdate(e){return fe.resolve(null)}getMinOffset(e,n){return fe.resolve(ga.min())}getMinOffsetFromCollectionGroup(e,n){return fe.resolve(ga.min())}updateCollectionGroup(e,n,a){return fe.resolve()}updateIndexEntries(e,n){return fe.resolve()}}class L3{constructor(){this.index={}}add(e){const n=e.lastSegment(),a=e.popLast(),o=this.index[n]||new Kt(At.comparator),u=!o.has(a);return this.index[n]=o.add(a),u}has(e){const n=e.lastSegment(),a=e.popLast(),o=this.index[n];return o&&o.has(a)}getEntries(e){return(this.index[e]||new Kt(At.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},j1=41943040;class In{static withCacheSize(e){return new In(e,In.DEFAULT_COLLECTION_PERCENTILE,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */In.DEFAULT_COLLECTION_PERCENTILE=10,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,In.DEFAULT=new In(j1,In.DEFAULT_COLLECTION_PERCENTILE,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),In.DISABLED=new In(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new mo(0)}static ir(){return new mo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o0="LruGarbageCollector",P3=1048576;function l0([i,e],[n,a]){const o=Ge(i,n);return o===0?Ge(e,a):o}class U3{constructor(e){this.cr=e,this.buffer=new Kt(l0),this.lr=0}hr(){return++this.lr}Pr(e){const n=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(n);else{const a=this.buffer.last();l0(n,a)<0&&(this.buffer=this.buffer.delete(a).add(n))}}get maxValue(){return this.buffer.last()[0]}}class z3{constructor(e,n,a){this.garbageCollector=e,this.asyncQueue=n,this.localStore=a,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(e){be(o0,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){_o(n)?be(o0,"Ignoring IndexedDB error during garbage collection: ",n):await vo(n)}await this.Ir(3e5)})}}class $3{constructor(e,n){this.Er=e,this.params=n}calculateTargetCount(e,n){return this.Er.dr(e).next(a=>Math.floor(n/100*a))}nthSequenceNumber(e,n){if(n===0)return fe.resolve(uf.le);const a=new U3(n);return this.Er.forEachTarget(e,o=>a.Pr(o.sequenceNumber)).next(()=>this.Er.Ar(e,o=>a.Pr(o))).next(()=>a.maxValue)}removeTargets(e,n,a){return this.Er.removeTargets(e,n,a)}removeOrphanedDocuments(e,n){return this.Er.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(be("LruGarbageCollector","Garbage collection skipped; disabled"),fe.resolve(s0)):this.getCacheSize(e).next(a=>a<this.params.cacheSizeCollectionThreshold?(be("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),s0):this.Rr(e,n))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,n){let a,o,u,f,c,p,g;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(be("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),o=this.params.maximumSequenceNumbersToCollect):o=d,f=Date.now(),this.nthSequenceNumber(e,o))).next(d=>(a=d,c=Date.now(),this.removeTargets(e,a,n))).next(d=>(u=d,p=Date.now(),this.removeOrphanedDocuments(e,a))).next(d=>(g=Date.now(),ro()<=at.DEBUG&&be("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(c-f)+`ms
	Removed ${u} targets in `+(p-c)+`ms
	Removed ${d} documents in `+(g-p)+`ms
Total Duration: ${g-E}ms`),fe.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:d})))}}function B3(i,e){return new $3(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q3{constructor(){this.changes=new hs(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,vn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const a=this.changes.get(n);return a!==void 0?fe.resolve(a):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F3{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H3{constructor(e,n,a,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=a,this.indexManager=o}getDocument(e,n){let a=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(a=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(a!==null&&Vl(a.mutation,o,Qn.empty(),Qt.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(a=>this.getLocalViewOfDocuments(e,a,Je()).next(()=>a))}getLocalViewOfDocuments(e,n,a=Je()){const o=is();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,a).next(u=>{let f=xl();return u.forEach((c,p)=>{f=f.insert(c,p.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const a=is();return this.populateOverlays(e,a,n).next(()=>this.computeViews(e,n,a,Je()))}populateOverlays(e,n,a){const o=[];return a.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((f,c)=>{n.set(f,c)})})}computeViews(e,n,a,o){let u=xi();const f=Nl(),c=function(){return Nl()}();return n.forEach((p,g)=>{const E=a.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof Aa)?u=u.insert(g.key,g):E!==void 0?(f.set(g.key,E.mutation.getFieldMask()),Vl(E.mutation,g,E.mutation.getFieldMask(),Qt.now())):f.set(g.key,Qn.empty())}),this.recalculateAndSaveOverlays(e,u).next(p=>(p.forEach((g,E)=>f.set(g,E)),n.forEach((g,E)=>{var d;return c.set(g,new F3(E,(d=f.get(g))!==null&&d!==void 0?d:null))}),c))}recalculateAndSaveOverlays(e,n){const a=Nl();let o=new xt((f,c)=>f-c),u=Je();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const c of f)c.keys().forEach(p=>{const g=n.get(p);if(g===null)return;let E=a.get(p)||Qn.empty();E=c.applyToLocalView(g,E),a.set(p,E);const d=(o.get(c.batchId)||Je()).add(p);o=o.insert(c.batchId,d)})}).next(()=>{const f=[],c=o.getReverseIterator();for(;c.hasNext();){const p=c.getNext(),g=p.key,E=p.value,d=v1();E.forEach(y=>{if(!u.has(y)){const _=A1(n.get(y),a.get(y));_!==null&&d.set(y,_),u=u.add(y)}}),f.push(this.documentOverlayCache.saveOverlays(e,g,d))}return fe.waitFor(f)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(a=>this.recalculateAndSaveOverlays(e,a))}getDocumentsMatchingQuery(e,n,a,o){return function(f){return Oe.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):d1(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,a,o):this.getDocumentsMatchingCollectionQuery(e,n,a,o)}getNextDocuments(e,n,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,a,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,a.largestBatchId,o-u.size):fe.resolve(is());let c=Ul,p=u;return f.next(g=>fe.forEach(g,(E,d)=>(c<d.largestBatchId&&(c=d.largestBatchId),u.get(E)?fe.resolve():this.remoteDocumentCache.getEntry(e,E).next(y=>{p=p.insert(E,y)}))).next(()=>this.populateOverlays(e,g,u)).next(()=>this.computeViews(e,p,g,Je())).next(E=>({batchId:c,changes:y1(E)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Oe(n)).next(a=>{let o=xl();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,a,o){const u=n.collectionGroup;let f=xl();return this.indexManager.getCollectionParents(e,u).next(c=>fe.forEach(c,p=>{const g=function(d,y){return new Yl(y,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,a,o).next(E=>{E.forEach((d,y)=>{f=f.insert(d,y)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,n,a,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,a.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,a,u,o))).next(f=>{u.forEach((p,g)=>{const E=g.getKey();f.get(E)===null&&(f=f.insert(E,vn.newInvalidDocument(E)))});let c=xl();return f.forEach((p,g)=>{const E=u.get(p);E!==void 0&&Vl(E.mutation,g,Qn.empty(),Qt.now()),df(n,g)&&(c=c.insert(p,g))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G3{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,n){return fe.resolve(this.Fr.get(n))}saveBundleMetadata(e,n){return this.Fr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:Yr(o.createTime)}}(n)),fe.resolve()}getNamedQuery(e,n){return fe.resolve(this.Mr.get(n))}saveNamedQuery(e,n){return this.Mr.set(n.name,function(o){return{name:o.name,query:k3(o.bundledQuery),readTime:Yr(o.readTime)}}(n)),fe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q3{constructor(){this.overlays=new xt(Oe.comparator),this.Or=new Map}getOverlay(e,n){return fe.resolve(this.overlays.get(n))}getOverlays(e,n){const a=is();return fe.forEach(n,o=>this.getOverlay(e,o).next(u=>{u!==null&&a.set(o,u)})).next(()=>a)}saveOverlays(e,n,a){return a.forEach((o,u)=>{this.St(e,n,u)}),fe.resolve()}removeOverlaysForBatchId(e,n,a){const o=this.Or.get(a);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Or.delete(a)),fe.resolve()}getOverlaysForCollection(e,n,a){const o=is(),u=n.length+1,f=new Oe(n.child("")),c=this.overlays.getIteratorFrom(f);for(;c.hasNext();){const p=c.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>a&&o.set(p.getKey(),p)}return fe.resolve(o)}getOverlaysForCollectionGroup(e,n,a,o){let u=new xt((g,E)=>g-E);const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>a){let E=u.get(g.largestBatchId);E===null&&(E=is(),u=u.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const c=is(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,E)=>c.set(g,E)),!(c.size()>=o)););return fe.resolve(c)}St(e,n,a){const o=this.overlays.get(a.key);if(o!==null){const f=this.Or.get(o.largestBatchId).delete(a.key);this.Or.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(a.key,new h3(n,a));let u=this.Or.get(n);u===void 0&&(u=Je(),this.Or.set(n,u)),this.Or.set(n,u.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K3{constructor(){this.sessionToken=cn.EMPTY_BYTE_STRING}getSessionToken(e){return fe.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,fe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qm{constructor(){this.Nr=new Kt(en.Br),this.Lr=new Kt(en.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,n){const a=new en(e,n);this.Nr=this.Nr.add(a),this.Lr=this.Lr.add(a)}qr(e,n){e.forEach(a=>this.addReference(a,n))}removeReference(e,n){this.Qr(new en(e,n))}$r(e,n){e.forEach(a=>this.removeReference(a,n))}Ur(e){const n=new Oe(new At([])),a=new en(n,e),o=new en(n,e+1),u=[];return this.Lr.forEachInRange([a,o],f=>{this.Qr(f),u.push(f.key)}),u}Kr(){this.Nr.forEach(e=>this.Qr(e))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){const n=new Oe(new At([])),a=new en(n,e),o=new en(n,e+1);let u=Je();return this.Lr.forEachInRange([a,o],f=>{u=u.add(f.key)}),u}containsKey(e){const n=new en(e,0),a=this.Nr.firstAfterOrEqual(n);return a!==null&&e.isEqual(a.key)}}class en{constructor(e,n){this.key=e,this.Gr=n}static Br(e,n){return Oe.comparator(e.key,n.key)||Ge(e.Gr,n.Gr)}static kr(e,n){return Ge(e.Gr,n.Gr)||Oe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y3{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Jn=1,this.zr=new Kt(en.Br)}checkEmpty(e){return fe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,a,o){const u=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new f3(u,n,a,o);this.mutationQueue.push(f);for(const c of o)this.zr=this.zr.add(new en(c.key,u)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return fe.resolve(f)}lookupMutationBatch(e,n){return fe.resolve(this.jr(n))}getNextMutationBatchAfterBatchId(e,n){const a=n+1,o=this.Hr(a),u=o<0?0:o;return fe.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return fe.resolve(this.mutationQueue.length===0?Lm:this.Jn-1)}getAllMutationBatches(e){return fe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const a=new en(n,0),o=new en(n,Number.POSITIVE_INFINITY),u=[];return this.zr.forEachInRange([a,o],f=>{const c=this.jr(f.Gr);u.push(c)}),fe.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let a=new Kt(Ge);return n.forEach(o=>{const u=new en(o,0),f=new en(o,Number.POSITIVE_INFINITY);this.zr.forEachInRange([u,f],c=>{a=a.add(c.Gr)})}),fe.resolve(this.Jr(a))}getAllMutationBatchesAffectingQuery(e,n){const a=n.path,o=a.length+1;let u=a;Oe.isDocumentKey(u)||(u=u.child(""));const f=new en(new Oe(u),0);let c=new Kt(Ge);return this.zr.forEachWhile(p=>{const g=p.key.path;return!!a.isPrefixOf(g)&&(g.length===o&&(c=c.add(p.Gr)),!0)},f),fe.resolve(this.Jr(c))}Jr(e){const n=[];return e.forEach(a=>{const o=this.jr(a);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){ht(this.Yr(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.zr;return fe.forEach(n.mutations,o=>{const u=new en(o.key,n.batchId);return a=a.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.zr=a})}Xn(e){}containsKey(e,n){const a=new en(n,0),o=this.zr.firstAfterOrEqual(a);return fe.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,fe.resolve()}Yr(e,n){return this.Hr(e)}Hr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}jr(e){const n=this.Hr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X3{constructor(e){this.Zr=e,this.docs=function(){return new xt(Oe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const a=n.key,o=this.docs.get(a),u=o?o.size:0,f=this.Zr(n);return this.docs=this.docs.insert(a,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const a=this.docs.get(n);return fe.resolve(a?a.document.mutableCopy():vn.newInvalidDocument(n))}getEntries(e,n){let a=xi();return n.forEach(o=>{const u=this.docs.get(o);a=a.insert(o,u?u.document.mutableCopy():vn.newInvalidDocument(o))}),fe.resolve(a)}getDocumentsMatchingQuery(e,n,a,o){let u=xi();const f=n.path,c=new Oe(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(c);for(;p.hasNext();){const{key:g,value:{document:E}}=p.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||RR(SR(E),a)<=0||(o.has(E.key)||df(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return fe.resolve(u)}getAllFromCollectionGroup(e,n,a,o){Pe(9500)}Xr(e,n){return fe.forEach(this.docs,a=>n(a))}newChangeBuffer(e){return new Z3(this)}getSize(e){return fe.resolve(this.size)}}class Z3 extends q3{constructor(e){super(),this.vr=e}applyChanges(e){const n=[];return this.changes.forEach((a,o)=>{o.isValidDocument()?n.push(this.vr.addEntry(e,o)):this.vr.removeEntry(a)}),fe.waitFor(n)}getFromCache(e,n){return this.vr.getEntry(e,n)}getAllFromCache(e,n){return this.vr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W3{constructor(e){this.persistence=e,this.ei=new hs(n=>zm(n),$m),this.lastRemoteSnapshotVersion=$e.min(),this.highestTargetId=0,this.ti=0,this.ni=new Qm,this.targetCount=0,this.ri=mo.rr()}forEachTarget(e,n){return this.ei.forEach((a,o)=>n(o)),fe.resolve()}getLastRemoteSnapshotVersion(e){return fe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return fe.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),fe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,a){return a&&(this.lastRemoteSnapshotVersion=a),n>this.ti&&(this.ti=n),fe.resolve()}ar(e){this.ei.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ri=new mo(n),this.highestTargetId=n),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,n){return this.ar(n),this.targetCount+=1,fe.resolve()}updateTargetData(e,n){return this.ar(n),fe.resolve()}removeTargetData(e,n){return this.ei.delete(n.target),this.ni.Ur(n.targetId),this.targetCount-=1,fe.resolve()}removeTargets(e,n,a){let o=0;const u=[];return this.ei.forEach((f,c)=>{c.sequenceNumber<=n&&a.get(c.targetId)===null&&(this.ei.delete(f),u.push(this.removeMatchingKeysForTargetId(e,c.targetId)),o++)}),fe.waitFor(u).next(()=>o)}getTargetCount(e){return fe.resolve(this.targetCount)}getTargetData(e,n){const a=this.ei.get(n)||null;return fe.resolve(a)}addMatchingKeys(e,n,a){return this.ni.qr(n,a),fe.resolve()}removeMatchingKeys(e,n,a){this.ni.$r(n,a);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(f=>{u.push(o.markPotentiallyOrphaned(e,f))}),fe.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.ni.Ur(n),fe.resolve()}getMatchingKeysForTargetId(e,n){const a=this.ni.Wr(n);return fe.resolve(a)}containsKey(e,n){return fe.resolve(this.ni.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L1{constructor(e,n){this.ii={},this.overlays={},this.si=new uf(0),this.oi=!1,this.oi=!0,this._i=new K3,this.referenceDelegate=e(this),this.ai=new W3(this),this.indexManager=new j3,this.remoteDocumentCache=function(o){return new X3(o)}(a=>this.referenceDelegate.ui(a)),this.serializer=new V3(n),this.ci=new G3(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Q3,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let a=this.ii[e.toKey()];return a||(a=new Y3(n,this.referenceDelegate),this.ii[e.toKey()]=a),a}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,n,a){be("MemoryPersistence","Starting transaction:",e);const o=new J3(this.si.next());return this.referenceDelegate.li(),a(o).next(u=>this.referenceDelegate.hi(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Pi(e,n){return fe.or(Object.values(this.ii).map(a=>()=>a.containsKey(e,n)))}}class J3 extends xR{constructor(e){super(),this.currentSequenceNumber=e}}class Km{constructor(e){this.persistence=e,this.Ti=new Qm,this.Ii=null}static Ei(e){return new Km(e)}get di(){if(this.Ii)return this.Ii;throw Pe(60996)}addReference(e,n,a){return this.Ti.addReference(a,n),this.di.delete(a.toString()),fe.resolve()}removeReference(e,n,a){return this.Ti.removeReference(a,n),this.di.add(a.toString()),fe.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),fe.resolve()}removeTarget(e,n){this.Ti.Ur(n.targetId).forEach(o=>this.di.add(o.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(u=>this.di.add(u.toString()))}).next(()=>a.removeTargetData(e,n))}li(){this.Ii=new Set}hi(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return fe.forEach(this.di,a=>{const o=Oe.fromPath(a);return this.Ai(e,o).next(u=>{u||n.removeEntry(o,$e.min())})}).next(()=>(this.Ii=null,n.apply(e)))}updateLimboDocument(e,n){return this.Ai(e,n).next(a=>{a?this.di.delete(n.toString()):this.di.add(n.toString())})}ui(e){return 0}Ai(e,n){return fe.or([()=>fe.resolve(this.Ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Pi(e,n)])}}class Jc{constructor(e,n){this.persistence=e,this.Ri=new hs(a=>OR(a.path),(a,o)=>a.isEqual(o)),this.garbageCollector=B3(this,n)}static Ei(e,n){return new Jc(e,n)}li(){}hi(e){return fe.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next(a=>n.next(o=>a+o))}Vr(e){let n=0;return this.Ar(e,a=>{n++}).next(()=>n)}Ar(e,n){return fe.forEach(this.Ri,(a,o)=>this.gr(e,a,o).next(u=>u?fe.resolve():n(o)))}removeTargets(e,n,a){return this.persistence.getTargetCache().removeTargets(e,n,a)}removeOrphanedDocuments(e,n){let a=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.Xr(e,f=>this.gr(e,f,n).next(c=>{c||(a++,u.removeEntry(f,$e.min()))})).next(()=>u.apply(e)).next(()=>a)}markPotentiallyOrphaned(e,n){return this.Ri.set(n,e.currentSequenceNumber),fe.resolve()}removeTarget(e,n){const a=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,n,a){return this.Ri.set(a,e.currentSequenceNumber),fe.resolve()}removeReference(e,n,a){return this.Ri.set(a,e.currentSequenceNumber),fe.resolve()}updateLimboDocument(e,n){return this.Ri.set(n,e.currentSequenceNumber),fe.resolve()}ui(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Oc(e.data.value)),n}gr(e,n,a){return fe.or([()=>this.persistence.Pi(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.Ri.get(n);return fe.resolve(o!==void 0&&o>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ym{constructor(e,n,a,o){this.targetId=e,this.fromCache=n,this.ls=a,this.hs=o}static Ps(e,n){let a=Je(),o=Je();for(const u of n.docChanges)switch(u.type){case 0:a=a.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Ym(e,n.fromCache,a,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return IA()?8:DR(CA())>0?6:4}()}initialize(e,n){this.As=e,this.indexManager=n,this.Ts=!0}getDocumentsMatchingQuery(e,n,a,o){const u={result:null};return this.Rs(e,n).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.Vs(e,n,o,a).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new eC;return this.fs(e,n,f).next(c=>{if(u.result=c,this.Is)return this.gs(e,n,f,c.size)})}).next(()=>u.result)}gs(e,n,a,o){return a.documentReadCount<this.Es?(ro()<=at.DEBUG&&be("QueryEngine","SDK will not create cache indexes for query:",io(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),fe.resolve()):(ro()<=at.DEBUG&&be("QueryEngine","Query:",io(n),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.ds*o?(ro()<=at.DEBUG&&be("QueryEngine","The SDK decides to create cache indexes for query:",io(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Kr(n))):fe.resolve())}Rs(e,n){if(X_(n))return fe.resolve(null);let a=Kr(n);return this.indexManager.getIndexType(e,a).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=Yc(n,null,"F"),a=Kr(n)),this.indexManager.getDocumentsMatchingTarget(e,a).next(u=>{const f=Je(...u);return this.As.getDocuments(e,f).next(c=>this.indexManager.getMinOffset(e,a).next(p=>{const g=this.ps(n,c);return this.ys(n,g,f,p.readTime)?this.Rs(e,Yc(n,null,"F")):this.ws(e,g,n,p)}))})))}Vs(e,n,a,o){return X_(n)||o.isEqual($e.min())?fe.resolve(null):this.As.getDocuments(e,a).next(u=>{const f=this.ps(n,u);return this.ys(n,f,a,o)?fe.resolve(null):(ro()<=at.DEBUG&&be("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),io(n)),this.ws(e,f,n,AR(o,Ul)).next(c=>c))})}ps(e,n){let a=new Kt(p1(e));return n.forEach((o,u)=>{df(e,u)&&(a=a.add(u))}),a}ys(e,n,a,o){if(e.limit===null)return!1;if(a.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}fs(e,n,a){return ro()<=at.DEBUG&&be("QueryEngine","Using full collection scan to execute query:",io(n)),this.As.getDocumentsMatchingQuery(e,n,ga.min(),a)}ws(e,n,a,o){return this.As.getDocumentsMatchingQuery(e,a,o).next(u=>(n.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xm="LocalStore",nC=3e8;class rC{constructor(e,n,a,o){this.persistence=e,this.bs=n,this.serializer=o,this.Ss=new xt(Ge),this.Ds=new hs(u=>zm(u),$m),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(a)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new H3(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ss))}}function iC(i,e,n,a){return new rC(i,e,n,a)}async function P1(i,e){const n=Be(i);return await n.persistence.runTransaction("Handle user change","readonly",a=>{let o;return n.mutationQueue.getAllMutationBatches(a).next(u=>(o=u,n.Fs(e),n.mutationQueue.getAllMutationBatches(a))).next(u=>{const f=[],c=[];let p=Je();for(const g of o){f.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}for(const g of u){c.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(a,p).next(g=>({Ms:g,removedBatchIds:f,addedBatchIds:c}))})})}function aC(i,e){const n=Be(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const o=e.batch.keys(),u=n.Cs.newChangeBuffer({trackRemovals:!0});return function(c,p,g,E){const d=g.batch,y=d.keys();let _=fe.resolve();return y.forEach(v=>{_=_.next(()=>E.getEntry(p,v)).next(b=>{const R=g.docVersions.get(v);ht(R!==null,48541),b.version.compareTo(R)<0&&(d.applyToRemoteDocument(b,g),b.isValidDocument()&&(b.setReadTime(g.commitVersion),E.addEntry(b)))})}),_.next(()=>c.mutationQueue.removeMutationBatch(p,d))}(n,a,e,u).next(()=>u.apply(a)).next(()=>n.mutationQueue.performConsistencyCheck(a)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(a,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(c){let p=Je();for(let g=0;g<c.mutationResults.length;++g)c.mutationResults[g].transformResults.length>0&&(p=p.add(c.batch.mutations[g].key));return p}(e))).next(()=>n.localDocuments.getDocuments(a,o))})}function U1(i){const e=Be(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.ai.getLastRemoteSnapshotVersion(n))}function sC(i,e){const n=Be(i),a=e.snapshotVersion;let o=n.Ss;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=n.Cs.newChangeBuffer({trackRemovals:!0});o=n.Ss;const c=[];e.targetChanges.forEach((E,d)=>{const y=o.get(d);if(!y)return;c.push(n.ai.removeMatchingKeys(u,E.removedDocuments,d).next(()=>n.ai.addMatchingKeys(u,E.addedDocuments,d)));let _=y.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(d)!==null?_=_.withResumeToken(cn.EMPTY_BYTE_STRING,$e.min()).withLastLimboFreeSnapshotVersion($e.min()):E.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(E.resumeToken,a)),o=o.insert(d,_),function(b,R,w){return b.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=nC?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(y,_,E)&&c.push(n.ai.updateTargetData(u,_))});let p=xi(),g=Je();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))}),c.push(oC(u,f,e.documentUpdates).next(E=>{p=E.xs,g=E.Os})),!a.isEqual($e.min())){const E=n.ai.getLastRemoteSnapshotVersion(u).next(d=>n.ai.setTargetsMetadata(u,u.currentSequenceNumber,a));c.push(E)}return fe.waitFor(c).next(()=>f.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,p,g)).next(()=>p)}).then(u=>(n.Ss=o,u))}function oC(i,e,n){let a=Je(),o=Je();return n.forEach(u=>a=a.add(u)),e.getEntries(i,a).next(u=>{let f=xi();return n.forEach((c,p)=>{const g=u.get(c);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(c)),p.isNoDocument()&&p.version.isEqual($e.min())?(e.removeEntry(c,p.readTime),f=f.insert(c,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),f=f.insert(c,p)):be(Xm,"Ignoring outdated watch update for ",c,". Current version:",g.version," Watch version:",p.version)}),{xs:f,Os:o}})}function lC(i,e){const n=Be(i);return n.persistence.runTransaction("Get next mutation batch","readonly",a=>(e===void 0&&(e=Lm),n.mutationQueue.getNextMutationBatchAfterBatchId(a,e)))}function uC(i,e){const n=Be(i);return n.persistence.runTransaction("Allocate target","readwrite",a=>{let o;return n.ai.getTargetData(a,e).next(u=>u?(o=u,fe.resolve(o)):n.ai.allocateTargetId(a).next(f=>(o=new la(e,f,"TargetPurposeListen",a.currentSequenceNumber),n.ai.addTargetData(a,o).next(()=>o))))}).then(a=>{const o=n.Ss.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ss=n.Ss.insert(a.targetId,a),n.Ds.set(e,a.targetId)),a})}async function fm(i,e,n){const a=Be(i),o=a.Ss.get(e),u=n?"readwrite":"readwrite-primary";try{n||await a.persistence.runTransaction("Release target",u,f=>a.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!_o(f))throw f;be(Xm,`Failed to update sequence numbers for target ${e}: ${f}`)}a.Ss=a.Ss.remove(e),a.Ds.delete(o.target)}function u0(i,e,n){const a=Be(i);let o=$e.min(),u=Je();return a.persistence.runTransaction("Execute query","readwrite",f=>function(p,g,E){const d=Be(p),y=d.Ds.get(E);return y!==void 0?fe.resolve(d.Ss.get(y)):d.ai.getTargetData(g,E)}(a,f,Kr(e)).next(c=>{if(c)return o=c.lastLimboFreeSnapshotVersion,a.ai.getMatchingKeysForTargetId(f,c.targetId).next(p=>{u=p})}).next(()=>a.bs.getDocumentsMatchingQuery(f,e,n?o:$e.min(),n?u:Je())).next(c=>(cC(a,XR(e),c),{documents:c,Ns:u})))}function cC(i,e,n){let a=i.vs.get(e)||$e.min();n.forEach((o,u)=>{u.readTime.compareTo(a)>0&&(a=u.readTime)}),i.vs.set(e,a)}class c0{constructor(){this.activeTargetIds=n3()}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class fC{constructor(){this.So=new c0,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,a){}addLocalQueryTarget(e,n=!0){return n&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,n,a){this.Do[e]=n}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new c0,Promise.resolve()}handleUserChange(e,n,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC{vo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f0="ConnectivityMonitor";class h0{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){be(f0,"Network connectivity changed: AVAILABLE");for(const e of this.Oo)e(0)}xo(){be(f0,"Network connectivity changed: UNAVAILABLE");for(const e of this.Oo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sc=null;function hm(){return Sc===null?Sc=function(){return 268435456+Math.round(2147483648*Math.random())}():Sc++,"0x"+Sc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zd="RestConnection",dC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class mC{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Lo=n+"://"+e.host,this.ko=`projects/${a}/databases/${o}`,this.qo=this.databaseId.database===Hc?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Qo(e,n,a,o,u){const f=hm(),c=this.$o(e,n.toUriEncodedString());be(zd,`Sending RPC '${e}' ${f}:`,c,a);const p={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};return this.Uo(p,o,u),this.Ko(e,c,p,a).then(g=>(be(zd,`Received RPC '${e}' ${f}: `,g),g),g=>{throw uo(zd,`RPC '${e}' ${f} failed with error: `,g,"url: ",c,"request:",a),g})}Wo(e,n,a,o,u,f){return this.Qo(e,n,a,o,u)}Uo(e,n,a){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+yo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>e[u]=o),a&&a.headers.forEach((o,u)=>e[u]=o)}$o(e,n){const a=dC[e];return`${this.Lo}/v1/${n}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pC{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gn="WebChannelConnection";class gC extends mC{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,n,a,o){const u=hm();return new Promise((f,c)=>{const p=new $b;p.setWithCredentials(!0),p.listenOnce(Bb.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case Ic.NO_ERROR:const E=p.getResponseJson();be(gn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(E)),f(E);break;case Ic.TIMEOUT:be(gn,`RPC '${e}' ${u} timed out`),c(new Ae(he.DEADLINE_EXCEEDED,"Request time out"));break;case Ic.HTTP_ERROR:const d=p.getStatus();if(be(gn,`RPC '${e}' ${u} failed with status:`,d,"response text:",p.getResponseText()),d>0){let y=p.getResponseJson();Array.isArray(y)&&(y=y[0]);const _=y==null?void 0:y.error;if(_&&_.status&&_.message){const v=function(R){const w=R.toLowerCase().replace(/_/g,"-");return Object.values(he).indexOf(w)>=0?w:he.UNKNOWN}(_.status);c(new Ae(v,_.message))}else c(new Ae(he.UNKNOWN,"Server responded with status "+p.getStatus()))}else c(new Ae(he.UNAVAILABLE,"Connection failed."));break;default:Pe(9055,{s_:e,streamId:u,o_:p.getLastErrorCode(),__:p.getLastError()})}}finally{be(gn,`RPC '${e}' ${u} completed.`)}});const g=JSON.stringify(o);be(gn,`RPC '${e}' ${u} sending request:`,o),p.send(n,"POST",g,a,15)})}a_(e,n,a){const o=hm(),u=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=Hb(),c=Fb(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Uo(p.initMessageHeaders,n,a),p.encodeInitMessageHeaders=!0;const E=u.join("");be(gn,`Creating RPC '${e}' stream ${o}: ${E}`,p);const d=f.createWebChannel(E,p);let y=!1,_=!1;const v=new pC({Go:R=>{_?be(gn,`Not sending because RPC '${e}' stream ${o} is closed:`,R):(y||(be(gn,`Opening RPC '${e}' stream ${o} transport.`),d.open(),y=!0),be(gn,`RPC '${e}' stream ${o} sending:`,R),d.send(R))},zo:()=>d.close()}),b=(R,w,S)=>{R.listen(w,D=>{try{S(D)}catch(V){setTimeout(()=>{throw V},0)}})};return b(d,Cl.EventType.OPEN,()=>{_||(be(gn,`RPC '${e}' stream ${o} transport opened.`),v.t_())}),b(d,Cl.EventType.CLOSE,()=>{_||(_=!0,be(gn,`RPC '${e}' stream ${o} transport closed`),v.r_())}),b(d,Cl.EventType.ERROR,R=>{_||(_=!0,uo(gn,`RPC '${e}' stream ${o} transport errored. Name:`,R.name,"Message:",R.message),v.r_(new Ae(he.UNAVAILABLE,"The operation could not be completed")))}),b(d,Cl.EventType.MESSAGE,R=>{var w;if(!_){const S=R.data[0];ht(!!S,16349);const D=S,V=(D==null?void 0:D.error)||((w=D[0])===null||w===void 0?void 0:w.error);if(V){be(gn,`RPC '${e}' stream ${o} received error:`,V);const j=V.status;let k=function(C){const I=zt[C];if(I!==void 0)return R1(I)}(j),O=V.message;k===void 0&&(k=he.INTERNAL,O="Unknown error status: "+j+" with message "+V.message),_=!0,v.r_(new Ae(k,O)),d.close()}else be(gn,`RPC '${e}' stream ${o} received:`,S),v.i_(S)}}),b(c,qb.STAT_EVENT,R=>{R.stat===em.PROXY?be(gn,`RPC '${e}' stream ${o} detected buffering proxy`):R.stat===em.NOPROXY&&be(gn,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{v.n_()},0),v}}function $d(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yf(i){return new b3(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z1{constructor(e,n,a=1e3,o=1.5,u=6e4){this.bi=e,this.timerId=n,this.u_=a,this.c_=o,this.l_=u,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();const n=Math.floor(this.h_+this.d_()),a=Math.max(0,Date.now()-this.T_),o=Math.max(0,n-a);o>0&&be("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.h_} ms, delay with jitter: ${n} ms, last attempt: ${a} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,o,()=>(this.T_=Date.now(),e())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d0="PersistentStream";class $1{constructor(e,n,a,o,u,f,c,p){this.bi=e,this.R_=a,this.V_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=c,this.listener=p,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new z1(e,n)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(e){this.M_(),this.stream.send(e)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(e,n){this.M_(),this.x_(),this.y_.cancel(),this.m_++,e!==4?this.y_.reset():n&&n.code===he.RESOURCE_EXHAUSTED?(Ci(n.toString()),Ci("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):n&&n.code===he.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zo(n)}O_(){}auth(){this.state=1;const e=this.N_(this.m_),n=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,o])=>{this.m_===n&&this.B_(a,o)},a=>{e(()=>{const o=new Ae(he.UNKNOWN,"Fetching auth token failed: "+a.message);return this.L_(o)})})}B_(e,n){const a=this.N_(this.m_);this.stream=this.k_(e,n),this.stream.jo(()=>{a(()=>this.listener.jo())}),this.stream.Jo(()=>{a(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(o=>{a(()=>this.L_(o))}),this.stream.onMessage(o=>{a(()=>++this.p_==1?this.q_(o):this.onNext(o))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(e){return be(d0,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return n=>{this.bi.enqueueAndForget(()=>this.m_===e?n():(be(d0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class yC extends $1{constructor(e,n,a,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,a,o,f),this.serializer=u}k_(e,n){return this.connection.a_("Listen",e,n)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();const n=T3(this.serializer,e),a=function(u){if(!("targetChange"in u))return $e.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?$e.min():f.readTime?Yr(f.readTime):$e.min()}(e);return this.listener.Q_(n,a)}U_(e){const n={};n.database=cm(this.serializer),n.addTarget=function(u,f){let c;const p=f.target;if(c=am(p)?{documents:R3(u,p)}:{query:C3(u,p).gt},c.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){c.resumeToken=D1(u,f.resumeToken);const g=om(u,f.expectedCount);g!==null&&(c.expectedCount=g)}else if(f.snapshotVersion.compareTo($e.min())>0){c.readTime=Wc(u,f.snapshotVersion.toTimestamp());const g=om(u,f.expectedCount);g!==null&&(c.expectedCount=g)}return c}(this.serializer,e);const a=D3(this.serializer,e);a&&(n.labels=a),this.F_(n)}K_(e){const n={};n.database=cm(this.serializer),n.removeTarget=e,this.F_(n)}}class vC extends $1{constructor(e,n,a,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,a,o,f),this.serializer=u}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(e,n){return this.connection.a_("Write",e,n)}q_(e){return ht(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ht(!e.writeResults||e.writeResults.length===0,55816),this.listener.z_()}onNext(e){ht(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.y_.reset();const n=S3(e.writeResults,e.commitTime),a=Yr(e.commitTime);return this.listener.j_(a,n)}H_(){const e={};e.database=cm(this.serializer),this.F_(e)}G_(e){const n={streamToken:this.lastStreamToken,writes:e.map(a=>A3(this.serializer,a))};this.F_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _C{}class bC extends _C{constructor(e,n,a,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=a,this.serializer=o,this.J_=!1}Y_(){if(this.J_)throw new Ae(he.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,n,a,o){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.Qo(e,lm(n,a),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Ae(he.UNKNOWN,u.toString())})}Wo(e,n,a,o,u){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,c])=>this.connection.Wo(e,lm(n,a),o,f,c,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new Ae(he.UNKNOWN,f.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class EC{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(e){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,e==="Online"&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(Ci(n),this.ea=!1):be("OnlineStateTracker",n)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ls="RemoteStore";class wC{constructor(e,n,a,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=a,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=u,this.ca.vo(f=>{a.enqueueAndForget(async()=>{ds(this)&&(be(ls,"Restarting streams for network reachability change."),await async function(p){const g=Be(p);g.aa.add(4),await Wl(g),g.la.set("Unknown"),g.aa.delete(4),await vf(g)}(this))})}),this.la=new EC(a,o)}}async function vf(i){if(ds(i))for(const e of i.ua)await e(!0)}async function Wl(i){for(const e of i.ua)await e(!1)}function B1(i,e){const n=Be(i);n._a.has(e.targetId)||(n._a.set(e.targetId,e),ep(n)?Jm(n):bo(n).b_()&&Wm(n,e))}function Zm(i,e){const n=Be(i),a=bo(n);n._a.delete(e),a.b_()&&q1(n,e),n._a.size===0&&(a.b_()?a.v_():ds(n)&&n.la.set("Unknown"))}function Wm(i,e){if(i.ha.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo($e.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}bo(i).U_(e)}function q1(i,e){i.ha.Ke(e),bo(i).K_(e)}function Jm(i){i.ha=new g3({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>i._a.get(e)||null,Pt:()=>i.datastore.serializer.databaseId}),bo(i).start(),i.la.ta()}function ep(i){return ds(i)&&!bo(i).w_()&&i._a.size>0}function ds(i){return Be(i).aa.size===0}function F1(i){i.ha=void 0}async function TC(i){i.la.set("Online")}async function AC(i){i._a.forEach((e,n)=>{Wm(i,e)})}async function SC(i,e){F1(i),ep(i)?(i.la.ia(e),Jm(i)):i.la.set("Unknown")}async function RC(i,e,n){if(i.la.set("Online"),e instanceof x1&&e.state===2&&e.cause)try{await async function(o,u){const f=u.cause;for(const c of u.targetIds)o._a.has(c)&&(await o.remoteSyncer.rejectListen(c,f),o._a.delete(c),o.ha.removeTarget(c))}(i,e)}catch(a){be(ls,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await ef(i,a)}else if(e instanceof Vc?i.ha.Xe(e):e instanceof C1?i.ha.ot(e):i.ha.nt(e),!n.isEqual($e.min()))try{const a=await U1(i.localStore);n.compareTo(a)>=0&&await function(u,f){const c=u.ha.It(f);return c.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const E=u._a.get(g);E&&u._a.set(g,E.withResumeToken(p.resumeToken,f))}}),c.targetMismatches.forEach((p,g)=>{const E=u._a.get(p);if(!E)return;u._a.set(p,E.withResumeToken(cn.EMPTY_BYTE_STRING,E.snapshotVersion)),q1(u,p);const d=new la(E.target,p,g,E.sequenceNumber);Wm(u,d)}),u.remoteSyncer.applyRemoteEvent(c)}(i,n)}catch(a){be(ls,"Failed to raise snapshot:",a),await ef(i,a)}}async function ef(i,e,n){if(!_o(e))throw e;i.aa.add(1),await Wl(i),i.la.set("Offline"),n||(n=()=>U1(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{be(ls,"Retrying IndexedDB access"),await n(),i.aa.delete(1),await vf(i)})}function H1(i,e){return e().catch(n=>ef(i,n,e))}async function _f(i){const e=Be(i),n=ba(e);let a=e.oa.length>0?e.oa[e.oa.length-1].batchId:Lm;for(;CC(e);)try{const o=await lC(e.localStore,a);if(o===null){e.oa.length===0&&n.v_();break}a=o.batchId,xC(e,o)}catch(o){await ef(e,o)}G1(e)&&Q1(e)}function CC(i){return ds(i)&&i.oa.length<10}function xC(i,e){i.oa.push(e);const n=ba(i);n.b_()&&n.W_&&n.G_(e.mutations)}function G1(i){return ds(i)&&!ba(i).w_()&&i.oa.length>0}function Q1(i){ba(i).start()}async function DC(i){ba(i).H_()}async function IC(i){const e=ba(i);for(const n of i.oa)e.G_(n.mutations)}async function OC(i,e,n){const a=i.oa.shift(),o=Fm.from(a,e,n);await H1(i,()=>i.remoteSyncer.applySuccessfulWrite(o)),await _f(i)}async function MC(i,e){e&&ba(i).W_&&await async function(a,o){if(function(f){return m3(f)&&f!==he.ABORTED}(o.code)){const u=a.oa.shift();ba(a).D_(),await H1(a,()=>a.remoteSyncer.rejectFailedWrite(u.batchId,o)),await _f(a)}}(i,e),G1(i)&&Q1(i)}async function m0(i,e){const n=Be(i);n.asyncQueue.verifyOperationInProgress(),be(ls,"RemoteStore received new credentials");const a=ds(n);n.aa.add(3),await Wl(n),a&&n.la.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.aa.delete(3),await vf(n)}async function NC(i,e){const n=Be(i);e?(n.aa.delete(2),await vf(n)):e||(n.aa.add(2),await Wl(n),n.la.set("Unknown"))}function bo(i){return i.Pa||(i.Pa=function(n,a,o){const u=Be(n);return u.Y_(),new yC(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{jo:TC.bind(null,i),Jo:AC.bind(null,i),Zo:SC.bind(null,i),Q_:RC.bind(null,i)}),i.ua.push(async e=>{e?(i.Pa.D_(),ep(i)?Jm(i):i.la.set("Unknown")):(await i.Pa.stop(),F1(i))})),i.Pa}function ba(i){return i.Ta||(i.Ta=function(n,a,o){const u=Be(n);return u.Y_(),new vC(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{jo:()=>Promise.resolve(),Jo:DC.bind(null,i),Zo:MC.bind(null,i),z_:IC.bind(null,i),j_:OC.bind(null,i)}),i.ua.push(async e=>{e?(i.Ta.D_(),await _f(i)):(await i.Ta.stop(),i.oa.length>0&&(be(ls,`Stopping write stream with ${i.oa.length} pending writes`),i.oa=[]))})),i.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tp{constructor(e,n,a,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=a,this.op=o,this.removalCallback=u,this.deferred=new ha,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,a,o,u){const f=Date.now()+a,c=new tp(e,n,f,o,u);return c.start(a),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ae(he.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function np(i,e){if(Ci("AsyncQueue",`${e}: ${i}`),_o(i))return new Ae(he.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{static emptySet(e){return new lo(e.comparator)}constructor(e){this.comparator=e?(n,a)=>e(n,a)||Oe.comparator(n.key,a.key):(n,a)=>Oe.comparator(n.key,a.key),this.keyedMap=xl(),this.sortedSet=new xt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,a)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof lo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=a.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const a=new lo;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=n,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p0{constructor(){this.Ia=new xt(Oe.comparator)}track(e){const n=e.doc.key,a=this.Ia.get(n);a?e.type!==0&&a.type===3?this.Ia=this.Ia.insert(n,e):e.type===3&&a.type!==1?this.Ia=this.Ia.insert(n,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.Ia=this.Ia.insert(n,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.Ia=this.Ia.insert(n,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.Ia=this.Ia.remove(n):e.type===1&&a.type===2?this.Ia=this.Ia.insert(n,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.Ia=this.Ia.insert(n,{type:2,doc:e.doc}):Pe(63341,{Vt:e,Ea:a}):this.Ia=this.Ia.insert(n,e)}da(){const e=[];return this.Ia.inorderTraversal((n,a)=>{e.push(a)}),e}}class po{constructor(e,n,a,o,u,f,c,p,g){this.query=e,this.docs=n,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=c,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,a,o,u){const f=[];return n.forEach(c=>{f.push({type:0,doc:c})}),new po(e,n,lo.emptySet(n),f,a,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&hf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,a=e.docChanges;if(n.length!==a.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==a[o].type||!n[o].doc.isEqual(a[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(e=>e.ma())}}class kC{constructor(){this.queries=g0(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(n,a){const o=Be(n),u=o.queries;o.queries=g0(),u.forEach((f,c)=>{for(const p of c.Ra)p.onError(a)})})(this,new Ae(he.ABORTED,"Firestore shutting down"))}}function g0(){return new hs(i=>m1(i),hf)}async function jC(i,e){const n=Be(i);let a=3;const o=e.query;let u=n.queries.get(o);u?!u.Va()&&e.ma()&&(a=2):(u=new VC,a=e.ma()?0:1);try{switch(a){case 0:u.Aa=await n.onListen(o,!0);break;case 1:u.Aa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const c=np(f,`Initialization of query '${io(e.query)}' failed`);return void e.onError(c)}n.queries.set(o,u),u.Ra.push(e),e.ga(n.onlineState),u.Aa&&e.pa(u.Aa)&&rp(n)}async function LC(i,e){const n=Be(i),a=e.query;let o=3;const u=n.queries.get(a);if(u){const f=u.Ra.indexOf(e);f>=0&&(u.Ra.splice(f,1),u.Ra.length===0?o=e.ma()?0:1:!u.Va()&&e.ma()&&(o=2))}switch(o){case 0:return n.queries.delete(a),n.onUnlisten(a,!0);case 1:return n.queries.delete(a),n.onUnlisten(a,!1);case 2:return n.onLastRemoteStoreUnlisten(a);default:return}}function PC(i,e){const n=Be(i);let a=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const c of f.Ra)c.pa(o)&&(a=!0);f.Aa=o}}a&&rp(n)}function UC(i,e,n){const a=Be(i),o=a.queries.get(e);if(o)for(const u of o.Ra)u.onError(n);a.queries.delete(e)}function rp(i){i.fa.forEach(e=>{e.next()})}var dm,y0;(y0=dm||(dm={})).ya="default",y0.Cache="cache";class zC{constructor(e,n,a){this.query=e,this.wa=n,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=a||{}}pa(e){if(!this.options.includeMetadataChanges){const a=[];for(const o of e.docChanges)o.type!==3&&a.push(o);e=new po(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ba?this.Da(e)&&(this.wa.next(e),n=!0):this.va(e,this.onlineState)&&(this.Ca(e),n=!0),this.Sa=e,n}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let n=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),n=!0),n}va(e,n){if(!e.fromCache||!this.ma())return!0;const a=n!=="Offline";return(!this.options.Fa||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Da(e){if(e.docChanges.length>0)return!0;const n=this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Ca(e){e=po.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==dm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1{constructor(e){this.key=e}}class Y1{constructor(e){this.key=e}}class $C{constructor(e,n){this.query=e,this.qa=n,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=Je(),this.mutatedKeys=Je(),this.Ua=p1(e),this.Ka=new lo(this.Ua)}get Wa(){return this.qa}Ga(e,n){const a=n?n.za:new p0,o=n?n.Ka:this.Ka;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,c=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((E,d)=>{const y=o.get(E),_=df(this.query,d)?d:null,v=!!y&&this.mutatedKeys.has(y.key),b=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let R=!1;y&&_?y.data.isEqual(_.data)?v!==b&&(a.track({type:3,doc:_}),R=!0):this.ja(y,_)||(a.track({type:2,doc:_}),R=!0,(p&&this.Ua(_,p)>0||g&&this.Ua(_,g)<0)&&(c=!0)):!y&&_?(a.track({type:0,doc:_}),R=!0):y&&!_&&(a.track({type:1,doc:y}),R=!0,(p||g)&&(c=!0)),R&&(_?(f=f.add(_),u=b?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),a.track({type:1,doc:E})}return{Ka:f,za:a,ys:c,mutatedKeys:u}}ja(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,a,o){const u=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;const f=e.za.da();f.sort((E,d)=>function(_,v){const b=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Pe(20277,{Vt:R})}};return b(_)-b(v)}(E.type,d.type)||this.Ua(E.doc,d.doc)),this.Ha(a),o=o!=null&&o;const c=n&&!o?this.Ja():[],p=this.$a.size===0&&this.current&&!o?1:0,g=p!==this.Qa;return this.Qa=p,f.length!==0||g?{snapshot:new po(this.query,e.Ka,u,f,e.mutatedKeys,p===0,g,!1,!!a&&a.resumeToken.approximateByteSize()>0),Ya:c}:{Ya:c}}ga(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new p0,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach(n=>this.qa=this.qa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.qa=this.qa.delete(n)),this.current=e.current)}Ja(){if(!this.current)return[];const e=this.$a;this.$a=Je(),this.Ka.forEach(a=>{this.Za(a.key)&&(this.$a=this.$a.add(a.key))});const n=[];return e.forEach(a=>{this.$a.has(a)||n.push(new Y1(a))}),this.$a.forEach(a=>{e.has(a)||n.push(new K1(a))}),n}Xa(e){this.qa=e.Ns,this.$a=Je();const n=this.Ga(e.documents);return this.applyChanges(n,!0)}eu(){return po.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const ip="SyncEngine";class BC{constructor(e,n,a){this.query=e,this.targetId=n,this.view=a}}class qC{constructor(e){this.key=e,this.tu=!1}}class FC{constructor(e,n,a,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=a,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.nu={},this.ru=new hs(c=>m1(c),hf),this.iu=new Map,this.su=new Set,this.ou=new xt(Oe.comparator),this._u=new Map,this.au=new Qm,this.uu={},this.cu=new Map,this.lu=mo.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function HC(i,e,n=!0){const a=t2(i);let o;const u=a.ru.get(e);return u?(a.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.eu()):o=await X1(a,e,n,!0),o}async function GC(i,e){const n=t2(i);await X1(n,e,!0,!1)}async function X1(i,e,n,a){const o=await uC(i.localStore,Kr(e)),u=o.targetId,f=i.sharedClientState.addLocalQueryTarget(u,n);let c;return a&&(c=await QC(i,e,u,f==="current",o.resumeToken)),i.isPrimaryClient&&n&&B1(i.remoteStore,o),c}async function QC(i,e,n,a,o){i.Pu=(d,y,_)=>async function(b,R,w,S){let D=R.view.Ga(w);D.ys&&(D=await u0(b.localStore,R.query,!1).then(({documents:O})=>R.view.Ga(O,D)));const V=S&&S.targetChanges.get(R.targetId),j=S&&S.targetMismatches.get(R.targetId)!=null,k=R.view.applyChanges(D,b.isPrimaryClient,V,j);return _0(b,R.targetId,k.Ya),k.snapshot}(i,d,y,_);const u=await u0(i.localStore,e,!0),f=new $C(e,u.Ns),c=f.Ga(u.documents),p=Zl.createSynthesizedTargetChangeForCurrentChange(n,a&&i.onlineState!=="Offline",o),g=f.applyChanges(c,i.isPrimaryClient,p);_0(i,n,g.Ya);const E=new BC(e,n,f);return i.ru.set(e,E),i.iu.has(n)?i.iu.get(n).push(e):i.iu.set(n,[e]),g.snapshot}async function KC(i,e,n){const a=Be(i),o=a.ru.get(e),u=a.iu.get(o.targetId);if(u.length>1)return a.iu.set(o.targetId,u.filter(f=>!hf(f,e))),void a.ru.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await fm(a.localStore,o.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(o.targetId),n&&Zm(a.remoteStore,o.targetId),mm(a,o.targetId)}).catch(vo)):(mm(a,o.targetId),await fm(a.localStore,o.targetId,!0))}async function YC(i,e){const n=Be(i),a=n.ru.get(e),o=n.iu.get(a.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(a.targetId),Zm(n.remoteStore,a.targetId))}async function XC(i,e,n){const a=r9(i);try{const o=await function(f,c){const p=Be(f),g=Qt.now(),E=c.reduce((_,v)=>_.add(v.key),Je());let d,y;return p.persistence.runTransaction("Locally write mutations","readwrite",_=>{let v=xi(),b=Je();return p.Cs.getEntries(_,E).next(R=>{v=R,v.forEach((w,S)=>{S.isValidDocument()||(b=b.add(w))})}).next(()=>p.localDocuments.getOverlayedDocuments(_,v)).next(R=>{d=R;const w=[];for(const S of c){const D=u3(S,d.get(S.key).overlayedDocument);D!=null&&w.push(new Aa(S.key,D,a1(D.value.mapValue),wr.exists(!0)))}return p.mutationQueue.addMutationBatch(_,g,w,c)}).next(R=>{y=R;const w=R.applyToLocalDocumentSet(d,b);return p.documentOverlayCache.saveOverlays(_,R.batchId,w)})}).then(()=>({batchId:y.batchId,changes:y1(d)}))}(a.localStore,e);a.sharedClientState.addPendingMutation(o.batchId),function(f,c,p){let g=f.uu[f.currentUser.toKey()];g||(g=new xt(Ge)),g=g.insert(c,p),f.uu[f.currentUser.toKey()]=g}(a,o.batchId,n),await Jl(a,o.changes),await _f(a.remoteStore)}catch(o){const u=np(o,"Failed to persist write");n.reject(u)}}async function Z1(i,e){const n=Be(i);try{const a=await sC(n.localStore,e);e.targetChanges.forEach((o,u)=>{const f=n._u.get(u);f&&(ht(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.tu=!0:o.modifiedDocuments.size>0?ht(f.tu,14607):o.removedDocuments.size>0&&(ht(f.tu,42227),f.tu=!1))}),await Jl(n,a,e)}catch(a){await vo(a)}}function v0(i,e,n){const a=Be(i);if(a.isPrimaryClient&&n===0||!a.isPrimaryClient&&n===1){const o=[];a.ru.forEach((u,f)=>{const c=f.view.ga(e);c.snapshot&&o.push(c.snapshot)}),function(f,c){const p=Be(f);p.onlineState=c;let g=!1;p.queries.forEach((E,d)=>{for(const y of d.Ra)y.ga(c)&&(g=!0)}),g&&rp(p)}(a.eventManager,e),o.length&&a.nu.Q_(o),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function ZC(i,e,n){const a=Be(i);a.sharedClientState.updateQueryState(e,"rejected",n);const o=a._u.get(e),u=o&&o.key;if(u){let f=new xt(Oe.comparator);f=f.insert(u,vn.newNoDocument(u,$e.min()));const c=Je().add(u),p=new gf($e.min(),new Map,new xt(Ge),f,c);await Z1(a,p),a.ou=a.ou.remove(u),a._u.delete(e),ap(a)}else await fm(a.localStore,e,!1).then(()=>mm(a,e,n)).catch(vo)}async function WC(i,e){const n=Be(i),a=e.batch.batchId;try{const o=await aC(n.localStore,e);J1(n,a,null),W1(n,a),n.sharedClientState.updateMutationState(a,"acknowledged"),await Jl(n,o)}catch(o){await vo(o)}}async function JC(i,e,n){const a=Be(i);try{const o=await function(f,c){const p=Be(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let E;return p.mutationQueue.lookupMutationBatch(g,c).next(d=>(ht(d!==null,37113),E=d.keys(),p.mutationQueue.removeMutationBatch(g,d))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,E,c)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E)).next(()=>p.localDocuments.getDocuments(g,E))})}(a.localStore,e);J1(a,e,n),W1(a,e),a.sharedClientState.updateMutationState(e,"rejected",n),await Jl(a,o)}catch(o){await vo(o)}}function W1(i,e){(i.cu.get(e)||[]).forEach(n=>{n.resolve()}),i.cu.delete(e)}function J1(i,e,n){const a=Be(i);let o=a.uu[a.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),a.uu[a.currentUser.toKey()]=o}}function mm(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const a of i.iu.get(e))i.ru.delete(a),n&&i.nu.Tu(a,n);i.iu.delete(e),i.isPrimaryClient&&i.au.Ur(e).forEach(a=>{i.au.containsKey(a)||e2(i,a)})}function e2(i,e){i.su.delete(e.path.canonicalString());const n=i.ou.get(e);n!==null&&(Zm(i.remoteStore,n),i.ou=i.ou.remove(e),i._u.delete(n),ap(i))}function _0(i,e,n){for(const a of n)a instanceof K1?(i.au.addReference(a.key,e),e9(i,a)):a instanceof Y1?(be(ip,"Document no longer in limbo: "+a.key),i.au.removeReference(a.key,e),i.au.containsKey(a.key)||e2(i,a.key)):Pe(19791,{Iu:a})}function e9(i,e){const n=e.key,a=n.path.canonicalString();i.ou.get(n)||i.su.has(a)||(be(ip,"New document in limbo: "+n),i.su.add(a),ap(i))}function ap(i){for(;i.su.size>0&&i.ou.size<i.maxConcurrentLimboResolutions;){const e=i.su.values().next().value;i.su.delete(e);const n=new Oe(At.fromString(e)),a=i.lu.next();i._u.set(a,new qC(n)),i.ou=i.ou.insert(n,a),B1(i.remoteStore,new la(Kr(h1(n.path)),a,"TargetPurposeLimboResolution",uf.le))}}async function Jl(i,e,n){const a=Be(i),o=[],u=[],f=[];a.ru.isEmpty()||(a.ru.forEach((c,p)=>{f.push(a.Pu(p,e,n).then(g=>{var E;if((g||n)&&a.isPrimaryClient){const d=g?!g.fromCache:(E=n==null?void 0:n.targetChanges.get(p.targetId))===null||E===void 0?void 0:E.current;a.sharedClientState.updateQueryState(p.targetId,d?"current":"not-current")}if(g){o.push(g);const d=Ym.Ps(p.targetId,g);u.push(d)}}))}),await Promise.all(f),a.nu.Q_(o),await async function(p,g){const E=Be(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>fe.forEach(g,y=>fe.forEach(y.ls,_=>E.persistence.referenceDelegate.addReference(d,y.targetId,_)).next(()=>fe.forEach(y.hs,_=>E.persistence.referenceDelegate.removeReference(d,y.targetId,_)))))}catch(d){if(!_o(d))throw d;be(Xm,"Failed to update sequence numbers: "+d)}for(const d of g){const y=d.targetId;if(!d.fromCache){const _=E.Ss.get(y),v=_.snapshotVersion,b=_.withLastLimboFreeSnapshotVersion(v);E.Ss=E.Ss.insert(y,b)}}}(a.localStore,u))}async function t9(i,e){const n=Be(i);if(!n.currentUser.isEqual(e)){be(ip,"User change. New user:",e.toKey());const a=await P1(n.localStore,e);n.currentUser=e,function(u,f){u.cu.forEach(c=>{c.forEach(p=>{p.reject(new Ae(he.CANCELLED,f))})}),u.cu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await Jl(n,a.Ms)}}function n9(i,e){const n=Be(i),a=n._u.get(e);if(a&&a.tu)return Je().add(a.key);{let o=Je();const u=n.iu.get(e);if(!u)return o;for(const f of u){const c=n.ru.get(f);o=o.unionWith(c.view.Wa)}return o}}function t2(i){const e=Be(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Z1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=n9.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ZC.bind(null,e),e.nu.Q_=PC.bind(null,e.eventManager),e.nu.Tu=UC.bind(null,e.eventManager),e}function r9(i){const e=Be(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=WC.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=JC.bind(null,e),e}class tf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=yf(e.databaseInfo.databaseId),this.sharedClientState=this.Au(e),this.persistence=this.Ru(e),await this.persistence.start(),this.localStore=this.Vu(e),this.gcScheduler=this.mu(e,this.localStore),this.indexBackfillerScheduler=this.fu(e,this.localStore)}mu(e,n){return null}fu(e,n){return null}Vu(e){return iC(this.persistence,new tC,e.initialUser,this.serializer)}Ru(e){return new L1(Km.Ei,this.serializer)}Au(e){return new fC}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}tf.provider={build:()=>new tf};class i9 extends tf{constructor(e){super(),this.cacheSizeBytes=e}mu(e,n){ht(this.persistence.referenceDelegate instanceof Jc,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new z3(a,e.asyncQueue,n)}Ru(e){const n=this.cacheSizeBytes!==void 0?In.withCacheSize(this.cacheSizeBytes):In.DEFAULT;return new L1(a=>Jc.Ei(a,n),this.serializer)}}class pm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>v0(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=t9.bind(null,this.syncEngine),await NC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new kC}()}createDatastore(e){const n=yf(e.databaseInfo.databaseId),a=function(u){return new gC(u)}(e.databaseInfo);return function(u,f,c,p){return new bC(u,f,c,p)}(e.authCredentials,e.appCheckCredentials,a,n)}createRemoteStore(e){return function(a,o,u,f,c){return new wC(a,o,u,f,c)}(this.localStore,this.datastore,e.asyncQueue,n=>v0(this.syncEngine,n,0),function(){return h0.C()?new h0:new hC}())}createSyncEngine(e,n){return function(o,u,f,c,p,g,E){const d=new FC(o,u,f,c,p,g);return E&&(d.hu=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(o){const u=Be(o);be(ls,"RemoteStore shutting down."),u.aa.add(5),await Wl(u),u.ca.shutdown(),u.la.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}pm.provider={build:()=>new pm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a9{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):Ci("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ea="FirestoreClient";class s9{constructor(e,n,a,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=a,this.databaseInfo=o,this.user=yn.UNAUTHENTICATED,this.clientId=Yb.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(a,async f=>{be(Ea,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(a,f=>(be(Ea,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ha;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const a=np(n,"Failed to shutdown persistence");e.reject(a)}}),e.promise}}async function Bd(i,e){i.asyncQueue.verifyOperationInProgress(),be(Ea,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let a=n.initialUser;i.setCredentialChangeListener(async o=>{a.isEqual(o)||(await P1(e.localStore,o),a=o)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function b0(i,e){i.asyncQueue.verifyOperationInProgress();const n=await o9(i);be(Ea,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener(a=>m0(e.remoteStore,a)),i.setAppCheckTokenChangeListener((a,o)=>m0(e.remoteStore,o)),i._onlineComponents=e}async function o9(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){be(Ea,"Using user provided OfflineComponentProvider");try{await Bd(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===he.FAILED_PRECONDITION||o.code===he.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;uo("Error using user provided cache. Falling back to memory cache: "+n),await Bd(i,new tf)}}else be(Ea,"Using default OfflineComponentProvider"),await Bd(i,new i9(void 0));return i._offlineComponents}async function n2(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(be(Ea,"Using user provided OnlineComponentProvider"),await b0(i,i._uninitializedComponentsProvider._online)):(be(Ea,"Using default OnlineComponentProvider"),await b0(i,new pm))),i._onlineComponents}function l9(i){return n2(i).then(e=>e.syncEngine)}async function u9(i){const e=await n2(i),n=e.eventManager;return n.onListen=HC.bind(null,e.syncEngine),n.onUnlisten=KC.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=GC.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=YC.bind(null,e.syncEngine),n}function c9(i,e,n={}){const a=new ha;return i.asyncQueue.enqueueAndForget(async()=>function(u,f,c,p,g){const E=new a9({next:y=>{E.yu(),f.enqueueAndForget(()=>LC(u,d)),y.fromCache&&p.source==="server"?g.reject(new Ae(he.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(y)},error:y=>g.reject(y)}),d=new zC(c,E,{includeMetadataChanges:!0,Fa:!0});return jC(u,d)}(await u9(i),i.asyncQueue,e,n,a)),a.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r2(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i2(i,e,n){if(!n)throw new Ae(he.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function f9(i,e,n,a){if(e===!0&&a===!0)throw new Ae(he.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function w0(i){if(!Oe.isDocumentKey(i))throw new Ae(he.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function T0(i){if(Oe.isDocumentKey(i))throw new Ae(he.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function bf(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(a){return a.constructor?a.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Pe(12329,{type:typeof i})}function us(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new Ae(he.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=bf(i);throw new Ae(he.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a2="firestore.googleapis.com",A0=!0;class S0{constructor(e){var n,a;if(e.host===void 0){if(e.ssl!==void 0)throw new Ae(he.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=a2,this.ssl=A0}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:A0;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=j1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<P3)throw new Ae(he.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}f9("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=r2((a=e.experimentalLongPollingOptions)!==null&&a!==void 0?a:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new Ae(he.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new Ae(he.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new Ae(he.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(a,o){return a.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ef{constructor(e,n,a,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new S0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ae(he.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ae(he.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new S0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(a){if(!a)return new pR;switch(a.type){case"firstParty":return new _R(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new Ae(he.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const a=E0.get(n);a&&(be("ComponentProvider","Removing Datastore"),E0.delete(n),a.terminate())}(this),Promise.resolve()}}function h9(i,e,n,a={}){var o;const u=(i=us(i,Ef))._getSettings(),f=Object.assign(Object.assign({},u),{emulatorOptions:i._getEmulatorOptions()}),c=`${e}:${n}`;u.host!==a2&&u.host!==c&&uo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},u),{host:c,ssl:!1,emulatorOptions:a});if(!Ll(p,f)&&(i._setSettings(p),a.mockUserToken)){let g,E;if(typeof a.mockUserToken=="string")g=a.mockUserToken,E=yn.MOCK_USER;else{g=RA(a.mockUserToken,(o=i._app)===null||o===void 0?void 0:o.options.projectId);const d=a.mockUserToken.sub||a.mockUserToken.user_id;if(!d)throw new Ae(he.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new yn(d)}i._authCredentials=new gR(new Qb(g,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms{constructor(e,n,a){this.converter=n,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new ms(this.firestore,e,this._query)}}class Yn{constructor(e,n,a){this.converter=n,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new da(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Yn(this.firestore,e,this._key)}}class da extends ms{constructor(e,n,a){super(e,n,h1(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Yn(this.firestore,null,new Oe(e))}withConverter(e){return new da(this.firestore,e,this._path)}}function sp(i,e,...n){if(i=Tr(i),i2("collection","path",e),i instanceof Ef){const a=At.fromString(e,...n);return T0(a),new da(i,null,a)}{if(!(i instanceof Yn||i instanceof da))throw new Ae(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=i._path.child(At.fromString(e,...n));return T0(a),new da(i.firestore,null,a)}}function op(i,e,...n){if(i=Tr(i),arguments.length===1&&(e=Yb.newId()),i2("doc","path",e),i instanceof Ef){const a=At.fromString(e,...n);return w0(a),new Yn(i,null,new Oe(a))}{if(!(i instanceof Yn||i instanceof da))throw new Ae(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=i._path.child(At.fromString(e,...n));return w0(a),new Yn(i.firestore,i instanceof da?i.converter:null,new Oe(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R0="AsyncQueue";class C0{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new z1(this,"async_queue_retry"),this.ju=()=>{const a=$d();a&&be(R0,"Visibility state changed to "+a.visibilityState),this.y_.A_()},this.Hu=e;const n=$d();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;const n=$d();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise(()=>{});const n=new ha;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qu.push(e),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!_o(e))throw e;be(R0,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(e){const n=this.Hu.then(()=>(this.Wu=!0,e().catch(a=>{throw this.Ku=a,this.Wu=!1,Ci("INTERNAL UNHANDLED ERROR: ",x0(a)),a}).then(a=>(this.Wu=!1,a))));return this.Hu=n,n}enqueueAfterDelay(e,n,a){this.Ju(),this.zu.indexOf(e)>-1&&(n=0);const o=tp.createAndSchedule(this,e,n,a,u=>this.Xu(u));return this.Uu.push(o),o}Ju(){this.Ku&&Pe(47125,{ec:x0(this.Ku)})}verifyOperationInProgress(){}async tc(){let e;do e=this.Hu,await e;while(e!==this.Hu)}nc(e){for(const n of this.Uu)if(n.timerId===e)return!0;return!1}rc(e){return this.tc().then(()=>{this.Uu.sort((n,a)=>n.targetTimeMs-a.targetTimeMs);for(const n of this.Uu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.tc()})}sc(e){this.zu.push(e)}Xu(e){const n=this.Uu.indexOf(e);this.Uu.splice(n,1)}}function x0(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}class eu extends Ef{constructor(e,n,a,o){super(e,n,a,o),this.type="firestore",this._queue=new C0,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new C0(e),this._firestoreClient=void 0,await e}}}function d9(i,e){const n=typeof i=="object"?i:pb(),a=typeof i=="string"?i:Hc,o=Kl(n,"firestore").getImmediate({identifier:a});if(!o._initialized){const u=AA("firestore");u&&h9(o,...u)}return o}function s2(i){if(i._terminated)throw new Ae(he.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||m9(i),i._firestoreClient}function m9(i){var e,n,a;const o=i._freezeSettings(),u=function(c,p,g,E){return new VR(c,p,g,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,r2(E.experimentalLongPollingOptions),E.useFetchStreams)}(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,o);i._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((a=o.localCache)===null||a===void 0)&&a._onlineComponentProvider)&&(i._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),i._firestoreClient=new s9(i._authCredentials,i._appCheckCredentials,i._queue,u,i._componentsProvider&&function(c){const p=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(p),_online:p}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(e){this._byteString=e}static fromBase64String(e){try{return new go(cn.fromBase64String(e))}catch(n){throw new Ae(he.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new go(cn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ae(he.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new un(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lp{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class up{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ae(he.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ae(he.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ge(this._lat,e._lat)||Ge(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cp{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(a,o){if(a.length!==o.length)return!1;for(let u=0;u<a.length;++u)if(a[u]!==o[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p9=/^__.*__$/;class g9{constructor(e,n,a){this.data=e,this.fieldMask=n,this.fieldTransforms=a}toMutation(e,n){return this.fieldMask!==null?new Aa(e,this.data,this.fieldMask,n,this.fieldTransforms):new Xl(e,this.data,n,this.fieldTransforms)}}class o2{constructor(e,n,a){this.data=e,this.fieldMask=n,this.fieldTransforms=a}toMutation(e,n){return new Aa(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function l2(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Pe(40011,{oc:i})}}class fp{constructor(e,n,a,o,u,f){this.settings=e,this.databaseId=n,this.serializer=a,this.ignoreUndefinedProperties=o,u===void 0&&this._c(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(e){return new fp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(e){var n;const a=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.ac({path:a,cc:!1});return o.lc(e),o}hc(e){var n;const a=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.ac({path:a,cc:!1});return o._c(),o}Pc(e){return this.ac({path:void 0,cc:!0})}Tc(e){return nf(e,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}_c(){if(this.path)for(let e=0;e<this.path.length;e++)this.lc(this.path.get(e))}lc(e){if(e.length===0)throw this.Tc("Document fields must not be empty");if(l2(this.oc)&&p9.test(e))throw this.Tc('Document fields cannot begin and end with "__"')}}class y9{constructor(e,n,a){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=a||yf(e)}dc(e,n,a,o=!1){return new fp({oc:e,methodName:n,Ec:a,path:un.emptyPath(),cc:!1,Ic:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function hp(i){const e=i._freezeSettings(),n=yf(i._databaseId);return new y9(i._databaseId,!!e.ignoreUndefinedProperties,n)}function v9(i,e,n,a,o,u={}){const f=i.dc(u.merge||u.mergeFields?2:0,e,n,o);dp("Data must be an object, but it was:",f,a);const c=u2(a,f);let p,g;if(u.merge)p=new Qn(f.fieldMask),g=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const d of u.mergeFields){const y=gm(e,d,n);if(!f.contains(y))throw new Ae(he.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);f2(E,y)||E.push(y)}p=new Qn(E),g=f.fieldTransforms.filter(d=>p.covers(d.field))}else p=null,g=f.fieldTransforms;return new g9(new On(c),p,g)}class Tf extends lp{_toFieldTransform(e){if(e.oc!==2)throw e.oc===1?e.Tc(`${this._methodName}() can only appear at the top level of your update data`):e.Tc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Tf}}function _9(i,e,n,a){const o=i.dc(1,e,n);dp("Data must be an object, but it was:",o,a);const u=[],f=On.empty();Ta(a,(p,g)=>{const E=mp(e,p,n);g=Tr(g);const d=o.hc(E);if(g instanceof Tf)u.push(E);else{const y=tu(g,d);y!=null&&(u.push(E),f.set(E,y))}});const c=new Qn(u);return new o2(f,c,o.fieldTransforms)}function b9(i,e,n,a,o,u){const f=i.dc(1,e,n),c=[gm(e,a,n)],p=[o];if(u.length%2!=0)throw new Ae(he.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let y=0;y<u.length;y+=2)c.push(gm(e,u[y])),p.push(u[y+1]);const g=[],E=On.empty();for(let y=c.length-1;y>=0;--y)if(!f2(g,c[y])){const _=c[y];let v=p[y];v=Tr(v);const b=f.hc(_);if(v instanceof Tf)g.push(_);else{const R=tu(v,b);R!=null&&(g.push(_),E.set(_,R))}}const d=new Qn(g);return new o2(E,d,f.fieldTransforms)}function E9(i,e,n,a=!1){return tu(n,i.dc(a?4:3,e))}function tu(i,e){if(c2(i=Tr(i)))return dp("Unsupported field value:",e,i),u2(i,e);if(i instanceof lp)return function(a,o){if(!l2(o.oc))throw o.Tc(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Tc(`${a._methodName}() is not currently supported inside arrays`);const u=a._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.cc&&e.oc!==4)throw e.Tc("Nested arrays are not supported");return function(a,o){const u=[];let f=0;for(const c of a){let p=tu(c,o.Pc(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}}(i,e)}return function(a,o){if((a=Tr(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return r3(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const u=Qt.fromDate(a);return{timestampValue:Wc(o.serializer,u)}}if(a instanceof Qt){const u=new Qt(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Wc(o.serializer,u)}}if(a instanceof up)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof go)return{bytesValue:D1(o.serializer,a._byteString)};if(a instanceof Yn){const u=o.databaseId,f=a.firestore._databaseId;if(!f.isEqual(u))throw o.Tc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Gm(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof cp)return function(f,c){return{mapValue:{fields:{[r1]:{stringValue:i1},[Gc]:{arrayValue:{values:f.toArray().map(g=>{if(typeof g!="number")throw c.Tc("VectorValues must only contain numeric values.");return Bm(c.serializer,g)})}}}}}}(a,o);throw o.Tc(`Unsupported field value: ${bf(a)}`)}(i,e)}function u2(i,e){const n={};return Zb(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ta(i,(a,o)=>{const u=tu(o,e.uc(a));u!=null&&(n[a]=u)}),{mapValue:{fields:n}}}function c2(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof Qt||i instanceof up||i instanceof go||i instanceof Yn||i instanceof lp||i instanceof cp)}function dp(i,e,n){if(!c2(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const a=bf(n);throw a==="an object"?e.Tc(i+" a custom object"):e.Tc(i+" "+a)}}function gm(i,e,n){if((e=Tr(e))instanceof wf)return e._internalPath;if(typeof e=="string")return mp(i,e);throw nf("Field path arguments must be of type string or ",i,!1,void 0,n)}const w9=new RegExp("[~\\*/\\[\\]]");function mp(i,e,n){if(e.search(w9)>=0)throw nf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new wf(...e.split("."))._internalPath}catch{throw nf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function nf(i,e,n,a,o){const u=a&&!a.isEmpty(),f=o!==void 0;let c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${a}`),f&&(p+=` in document ${o}`),p+=")"),new Ae(he.INVALID_ARGUMENT,c+i+p)}function f2(i,e){return i.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h2{constructor(e,n,a,o,u){this._firestore=e,this._userDataWriter=n,this._key=a,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Yn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new T9(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(pp("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class T9 extends h2{data(){return super.data()}}function pp(i,e){return typeof e=="string"?mp(i,e):e instanceof wf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A9(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new Ae(he.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class gp{}class d2 extends gp{}function S9(i,e,...n){let a=[];e instanceof gp&&a.push(e),a=a.concat(n),function(u){const f=u.filter(p=>p instanceof yp).length,c=u.filter(p=>p instanceof Af).length;if(f>1||f>0&&c>0)throw new Ae(he.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(a);for(const o of a)i=o._apply(i);return i}class Af extends d2{constructor(e,n,a){super(),this._field=e,this._op=n,this._value=a,this.type="where"}static _create(e,n,a){return new Af(e,n,a)}_apply(e){const n=this._parse(e);return m2(e._query,n),new ms(e.firestore,e.converter,sm(e._query,n))}_parse(e){const n=hp(e.firestore);return function(u,f,c,p,g,E,d){let y;if(g.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new Ae(he.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){I0(d,E);const v=[];for(const b of d)v.push(D0(p,u,b));y={arrayValue:{values:v}}}else y=D0(p,u,d)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||I0(d,E),y=E9(c,f,d,E==="in"||E==="not-in");return $t.create(g,E,y)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function R9(i,e,n){const a=e,o=pp("where",i);return Af._create(o,a,n)}class yp extends gp{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new yp(e,n)}_parse(e){const n=this._queryConstraints.map(a=>a._parse(e)).filter(a=>a.getFilters().length>0);return n.length===1?n[0]:Ar.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(o,u){let f=o;const c=u.getFlattenedFilters();for(const p of c)m2(f,p),f=sm(f,p)}(e._query,n),new ms(e.firestore,e.converter,sm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class vp extends d2{constructor(e,n,a){super(),this.type=e,this._limit=n,this._limitType=a}static _create(e,n,a){return new vp(e,n,a)}_apply(e){return new ms(e.firestore,e.converter,Yc(e._query,this._limit,this._limitType))}}function C9(i){return vp._create("limit",i,"F")}function D0(i,e,n){if(typeof(n=Tr(n))=="string"){if(n==="")throw new Ae(he.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!d1(e)&&n.indexOf("/")!==-1)throw new Ae(he.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const a=e.path.child(At.fromString(n));if(!Oe.isDocumentKey(a))throw new Ae(he.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return F_(i,new Oe(a))}if(n instanceof Yn)return F_(i,n._key);throw new Ae(he.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${bf(n)}.`)}function I0(i,e){if(!Array.isArray(i)||i.length===0)throw new Ae(he.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function m2(i,e){const n=function(o,u){for(const f of o)for(const c of f.getFlattenedFilters())if(u.indexOf(c.op)>=0)return c.op;return null}(i.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Ae(he.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ae(he.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class x9{convertValue(e,n="none"){switch(_a(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Nt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(va(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Pe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const a={};return Ta(e,(o,u)=>{a[o]=this.convertValue(u,n)}),a}convertVectorValue(e){var n,a,o;const u=(o=(a=(n=e.fields)===null||n===void 0?void 0:n[Gc].arrayValue)===null||a===void 0?void 0:a.values)===null||o===void 0?void 0:o.map(f=>Nt(f.doubleValue));return new cp(u)}convertGeoPoint(e){return new up(Nt(e.latitude),Nt(e.longitude))}convertArray(e,n){return(e.values||[]).map(a=>this.convertValue(a,n))}convertServerTimestamp(e,n){switch(n){case"previous":const a=ff(e);return a==null?null:this.convertValue(a,n);case"estimate":return this.convertTimestamp(zl(e));default:return null}}convertTimestamp(e){const n=ya(e);return new Qt(n.seconds,n.nanos)}convertDocumentKey(e,n){const a=At.fromString(e);ht(k1(a),9688,{name:e});const o=new $l(a.get(1),a.get(3)),u=new Oe(a.popFirst(5));return o.isEqual(n)||Ci(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D9(i,e,n){let a;return a=i?i.toFirestore(e):e,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class I9 extends h2{constructor(e,n,a,o,u,f){super(e,n,a,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new kc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const a=this._document.data.field(pp("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,n.serverTimestamps)}}}class kc extends I9{data(e={}){return super.data(e)}}class O9{constructor(e,n,a,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Rc(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(a=>{e.call(n,new kc(this._firestore,this._userDataWriter,a.key,a,new Rc(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ae(he.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(c=>{const p=new kc(o._firestore,o._userDataWriter,c.doc.key,c.doc,new Rc(o._snapshot.mutatedKeys.has(c.doc.key),o._snapshot.fromCache),o.query.converter);return c.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(c=>u||c.type!==3).map(c=>{const p=new kc(o._firestore,o._userDataWriter,c.doc.key,c.doc,new Rc(o._snapshot.mutatedKeys.has(c.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,E=-1;return c.type!==0&&(g=f.indexOf(c.doc.key),f=f.delete(c.doc.key)),c.type!==1&&(f=f.add(c.doc),E=f.indexOf(c.doc.key)),{type:M9(c.type),doc:p,oldIndex:g,newIndex:E}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function M9(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Pe(61501,{type:i})}}class N9 extends x9{constructor(e){super(),this.firestore=e}convertBytes(e){return new go(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Yn(this.firestore,null,n)}}function p2(i){i=us(i,ms);const e=us(i.firestore,eu),n=s2(e),a=new N9(e);return A9(i._query),c9(n,i._query).then(o=>new O9(e,a,i,o))}function V9(i,e,n,...a){i=us(i,Yn);const o=us(i.firestore,eu),u=hp(o);let f;return f=typeof(e=Tr(e))=="string"||e instanceof wf?b9(u,"updateDoc",i._key,e,n,a):_9(u,"updateDoc",i._key,e),_p(o,[f.toMutation(i._key,wr.exists(!0))])}function k9(i){return _p(us(i.firestore,eu),[new qm(i._key,wr.none())])}function j9(i,e){const n=us(i.firestore,eu),a=op(i),o=D9(i.converter,e);return _p(n,[v9(hp(i.firestore),"addDoc",a._key,o,i.converter!==null,{}).toMutation(a._key,wr.exists(!1))]).then(()=>a)}function _p(i,e){return function(a,o){const u=new ha;return a.asyncQueue.enqueueAndForget(async()=>XC(await l9(a),o,u)),u.promise}(s2(i),e)}(function(e,n=!0){(function(o){yo=o})(LS),pa(new Si("firestore",(a,{instanceIdentifier:o,options:u})=>{const f=a.getProvider("app").getImmediate(),c=new eu(new yR(a.getProvider("auth-internal")),new bR(f,a.getProvider("app-check-internal")),function(g,E){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new Ae(he.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $l(g.options.projectId,E)}(f,o),f);return u=Object.assign({useFetchStreams:n},u),c._setSettings(u),c},"PUBLIC").setMultipleInstances(!0)),Qr(M_,N_,e),Qr(M_,N_,"esm2017")})();const L9={apiKey:"AIzaSyB_vRvOXAX6oPj6oMLVIXKu7PrVOPVC8eQ",authDomain:"webbshop-summer-toys.firebaseapp.com",projectId:"webbshop-summer-toys",storageBucket:"webbshop-summer-toys.firebasestorage.app",messagingSenderId:"709579154892",appId:"1:709579154892:web:ccbb683fdbe1bf57dee969",measurementId:"G-M0FPFNXT7W"},g2=mb(L9);fR(g2);const nu=d9(g2),P9=()=>{const[i,e]=W.useState([]),[n,a]=W.useState(!0),[o,u]=W.useState(null),f=Ai(c=>c.addToCart);return W.useEffect(()=>{(async()=>{try{a(!0);const p=sp(nu,"products"),g=S9(p,R9("isBestseller","==",!0),C9(3)),d=(await p2(g)).docs.map(y=>({id:y.id,...y.data()}));e(d),u(null)}catch(p){console.error("Error fetching bestsellers: ",p),u("Failed to load bestsellers.")}finally{a(!1)}})()},[]),n?F.jsx("div",{children:"Loading bestsellers..."}):o?F.jsxs("div",{children:["Error: ",o]}):i.length===0?F.jsx("div",{children:"Inga bstsljare just nu."}):F.jsxs("section",{className:"bestsellers-section",children:[F.jsx("h2",{children:"Bstsljare"}),F.jsx("ul",{children:i.map(c=>F.jsxs("li",{className:"product-item",children:[c.imageUrl&&F.jsx("img",{src:c.imageUrl,alt:c.name,className:"product-image"}),F.jsx("h3",{children:c.name}),F.jsxs("p",{children:["Pris: ",c.price," SEK"]}),F.jsx("button",{onClick:()=>f(c),className:"blue-btn",children:"Lgg till i varukorg"})]},c.id))})]})},U9="/webbshop/assets/slider1-BMw0RGs8.jpg",z9="/webbshop/assets/slider2-BlKaFZz5.jpg",$9="/webbshop/assets/slider3-D1orINNF.jpg",B9="/webbshop/assets/slider4-CluHcrLX.jpg",q9=()=>{const[i,e]=W.useState(0),n=[{label:"Image 1",imgPath:U9,text:"Vattenlek fr hela familjen",subtext:"Upptck vra populraste sommarleksaker!"},{label:"Image 2",imgPath:z9,text:"Trdgrdslek fr sm trdgrdsmstare",subtext:"Plantera, vattna och lek. Upptck vra roliga trdgrdsleksaker!"},{label:"Image 3",imgPath:$9,text:"Strandlek med fantasi och sand",subtext:"Bygg sandslott, grv tunnlar och ha kul i solen med vra strandfavoriter!"},{label:"Image 4",imgPath:B9,text:"Redo... sikta... skjut!",subtext:"Hll dig sval i sommar med vra actionfyllda vattenpistoler!"}],a=()=>{e((i-1+n.length)%n.length)},o=()=>{e((i+1)%n.length)};return F.jsx("div",{className:"slider-wrapper",children:n.map((u,f)=>F.jsxs("div",{className:`slider-image ${f===i?"active":"hidden"}`,style:{backgroundImage:`url(${u.imgPath})`,backgroundosition:"center",backgroundSize:"cover",backgroundRepeat:"no-repeat"},children:[F.jsx("button",{className:"arrow left",onClick:a,children:""}),F.jsxs("div",{className:"slider-text",children:[F.jsx("h2",{children:u.text}),F.jsx("p",{children:u.subtext}),F.jsx(Gn,{to:"/pages/products/:productId?",className:"slider-button blue-btn",children:"Se hela utbudet"})]}),F.jsx("button",{className:"arrow right",onClick:o,children:""})]},f))})},F9=()=>F.jsxs("div",{children:[F.jsx(q9,{}),F.jsx(P9,{}),F.jsx(dA,{})]}),H9=({products:i,filtered:e,setFiltered:n})=>{const[a,o]=W.useState(""),u=f=>{const c=f.target.value.toLowerCase();o(c),console.log(a);const p=i.filter(g=>g.name.toLowerCase().includes(c));n(p),console.log(e)};return F.jsxs("section",{className:"search-box",children:[F.jsx("div",{className:"search-box-intro",children:F.jsx("p",{children:"Hr hittar du alla vra produkter. Sk efter din favorit!"})}),F.jsxs("div",{className:"search-content",children:[F.jsx("input",{type:"text",onChange:u,value:a,placeholder:"Sk efter produkter",className:"search-input"}),F.jsx("div",{className:"search-icon",children:F.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16",fill:"none",children:F.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.50131 11.7216C8.50723 12.4925 7.26746 12.95 5.92308 12.95C2.65185 12.95 0 10.2413 0 6.90001C0 3.55868 2.65185 0.850006 5.92308 0.850006C9.1943 0.850006 11.8462 3.55868 11.8462 6.90001C11.8462 8.2732 11.3983 9.53953 10.6436 10.5549L13.7634 13.7416C14.0789 14.0638 14.0789 14.5862 13.7634 14.9084C13.448 15.2306 12.9366 15.2306 12.6212 14.9084L9.50131 11.7216ZM10.2308 6.90001C10.2308 9.33006 8.30215 11.3 5.92308 11.3C3.544 11.3 1.61538 9.33006 1.61538 6.90001C1.61538 4.46995 3.544 2.50001 5.92308 2.50001C8.30215 2.50001 10.2308 4.46995 10.2308 6.90001Z",fill:"#F2F2F2"})})})]})]})},ru=async()=>{try{const i=sp(nu,"products");return(await p2(i)).docs.map(a=>({id:a.id,...a.data()}))}catch(i){throw console.error("Error fetching products:",i),new Error("Failed to fetch products")}},G9=async(i,e)=>{const n=op(nu,"products",i);try{await k9(n),console.log("Dokument borttaget!");const a=await ru();e(a)}catch(a){console.error("Fel vid borttagning av dokument: ",a)}},Q9=async i=>{try{const e=sp(nu,"products"),n=await j9(e,i),a=n.id;return console.log("Product added with ID:",a),n}catch(e){throw console.error("Fel vid att lgga ny produkt : ",e),e}},K9=async(i,e,n)=>{const a=op(nu,"products",i);try{await V9(a,e),console.log("Dokument uppdaterat!");const o=await ru();n(o)}catch(o){console.error("Fel vid uppdatering av dokument: ",o)}},Y9=({products:i,setProducts:e})=>{const n=()=>{const f=[...i].sort((c,p)=>c.name.localeCompare(p.name,"sv"));e(f)},a=()=>{const f=[...i].sort((c,p)=>p.name.localeCompare(c.name,"sv"));e(f)},o=()=>{const f=[...i].sort((c,p)=>c.price-p.price);e(f)},u=()=>{const f=[...i].sort((c,p)=>p.price-c.price);e(f)};return F.jsxs("section",{className:"sorting-products",children:[F.jsx("h4",{children:"Sortera produkter genom att klicka p knappar nedan"}),F.jsxs("div",{className:"sorting-buttons",children:[F.jsx("button",{className:"blue-btn",onClick:n,children:"Namn A-"}),F.jsx("button",{className:"blue-btn",onClick:a,children:"Namn -A"}),F.jsx("button",{className:"blue-btn",onClick:o,children:"Pris stigande"}),F.jsx("button",{className:"blue-btn",onClick:u,children:"Pris fallande"})]})]})},X9=()=>{const i=Ai(g=>g.addToCart),[e,n]=W.useState([]),[a,o]=W.useState(!0),[u,f]=W.useState(null),[c,p]=W.useState([]);return W.useEffect(()=>{(async()=>{try{o(!0);const E=await ru();n(E),p(E),f(null)}catch(E){console.error("Error fetching products: ",E),f("Failed to load products.")}finally{o(!1)}})()},[]),a?F.jsx("div",{children:"Loading products..."}):u?F.jsxs("div",{children:["Error: ",u]}):e.length===0?F.jsx("div",{children:"No products available."}):F.jsxs("div",{className:"products-wrapper",children:[F.jsx("h1",{children:"Sommarleksaker"}),F.jsx("p",{children:"Vlkommen till ToyLandia  din sommarbutik online! Hr hittar du ett brett utbud av roliga, frgglada leksaker fr bde sm och stora barn. Perfekt fr soliga dagar, strandbus och vattenlek!"}),F.jsx(Y9,{products:c,setProducts:p}),F.jsx(H9,{products:e,setFiltered:p,filtered:c}),F.jsx("ul",{className:"products-list",children:(c.length>0?c:e).map(g=>F.jsxs("li",{className:"product-item",children:[g.imageUrl&&F.jsx("img",{src:g.imageUrl,alt:g.name,className:"product-image"}),F.jsx("h2",{children:g.name}),F.jsx("p",{children:g.description}),F.jsxs("p",{children:["Pris: ",g.price," SEK"]}),F.jsxs("button",{className:"blue-btn",onClick:()=>i(g),children:["Lgg till ",F.jsx("img",{src:ib,alt:"cart icon",style:{width:"1.4em"}})," "]})]},g.id))})]})},Z9=()=>{const i=Ai(p=>p.cartItems);console.log(i);const e=Ai(p=>p.addToCart),n=Ai(p=>p.removeFromCart),a=p=>{e({...p,quantity:(p.quantity||1)+1})},o=Ai(p=>p.getTotalPrice),u=o()*.25;let f=0,c=0;return o()>300?(f=0,c=o()+f):(f=49,c=o()+f),F.jsxs("div",{className:"cart-wrapper",children:[F.jsx("h1",{children:"Din varukorg"}),i.length===0?F.jsx("p",{children:"Din varukorg r tom."}):F.jsxs("ul",{className:"cart-list",children:[i.map(p=>F.jsxs("li",{className:"cart-item",children:[F.jsx("img",{src:p.imageUrl,alt:"",style:{width:"90px",height:"auto"}}),F.jsxs("div",{className:"quantity-btn",children:[F.jsx("button",{className:"plus",onClick:()=>n(p),children:"-"}),F.jsx("p",{children:p.quantity||1}),F.jsx("button",{className:"minus",onClick:()=>a(p),children:"+"})]}),F.jsxs("div",{className:"product-details",children:[F.jsx("h2",{children:p.name}),F.jsxs("p",{children:["Pris: ",p.price," kr"]}),F.jsxs("p",{children:["Totalt pris: ",p.quantity*p.price]})]})]},p.id)),F.jsxs("div",{className:"checkout",children:[F.jsxs("h2",{children:["Totalt pris att betala: ",o()," kr"]}),F.jsxs("p",{children:["Varav moms: ",u]}),F.jsxs("div",{className:"checkout-details",children:[F.jsxs("div",{className:"subtotal",children:[F.jsx("p",{children:"Frakt (fri vid kp ver 300kr):"}),F.jsx("p",{children:f})]}),F.jsxs("div",{className:"subtotal",children:[F.jsx("p",{children:"Totalsumma:"}),F.jsx("p",{children:c})]})]}),F.jsx("button",{className:"blue-btn checkout-btn",style:{alignSelf:"center"},children:"Betala"})]})]})]})},W9=()=>{const[i,e]=W.useState(""),[n,a]=W.useState(""),[o,u]=W.useState(!1),[f,c]=W.useState(!1),p=X0(),g="admin",E="password",d=()=>{i===g&&n===E?(c(!1),u(!0),p("/components/adminConsole/")):(c(!0),u(!1),console.log("fel lsenord eller anvndarnamn"))};return F.jsxs("div",{className:"admin-start",children:[F.jsx("h1",{children:"Admin Login"}),F.jsx("label",{htmlFor:"username",children:"Anvndarnamn:"}),F.jsx("input",{type:"text",id:"username",name:"username",value:i,onChange:y=>e(y.target.value),required:!0}),F.jsx("label",{htmlFor:"password",children:"Lsenord:"}),F.jsx("input",{type:"password",id:"password",name:"password",value:n,onChange:y=>a(y.target.value),required:!0}),F.jsx("button",{className:"blue-btn",onClick:d,children:"Logga in"}),f&&F.jsx("p",{style:{color:"red"},children:"Fel anvndarnamn eller lsenord"})]})},J9=()=>F.jsxs("div",{className:"admin-console-wrapper",children:[F.jsxs("div",{className:"admin-info",children:[F.jsx("h2",{children:"Admin Console"}),F.jsx("p",{children:"Vnligen vlj en tgrd nedan:"})]}),F.jsxs("div",{className:"buttons-div",children:[F.jsx(Gn,{to:"/components/addNewProduct/",className:"blue-btn",style:{textDecoration:"none"},children:"Lgg till ny produkt"}),F.jsx(Gn,{to:"/components/editProduct/:productId?",className:"blue-btn",style:{textDecoration:"none"},children:"Redigera/ Ta bort"})]})]});var qd={exports:{}},O0;function e6(){return O0||(O0=1,function(i,e){(function(n,a){i.exports=a()})(self,()=>{return n={7629:(o,u,f)=>{const c=f(375),p=f(8571),g=f(9474),E=f(1687),d=f(8652),y=f(8160),_=f(3292),v=f(6354),b=f(8901),R=f(9708),w=f(6914),S=f(2294),D=f(6133),V=f(1152),j=f(8863),k=f(2036),O={Base:class{constructor(A){this.type=A,this.$_root=null,this._definition={},this._reset()}_reset(){this._ids=new S.Ids,this._preferences=null,this._refs=new D.Manager,this._cache=null,this._valids=null,this._invalids=null,this._flags={},this._rules=[],this._singleRules=new Map,this.$_terms={},this.$_temp={ruleset:null,whens:{}}}describe(){return c(typeof R.describe=="function","Manifest functionality disabled"),R.describe(this)}allow(...A){return y.verifyFlat(A,"allow"),this._values(A,"_valids")}alter(A){c(A&&typeof A=="object"&&!Array.isArray(A),"Invalid targets argument"),c(!this._inRuleset(),"Cannot set alterations inside a ruleset");const C=this.clone();C.$_terms.alterations=C.$_terms.alterations||[];for(const I in A){const L=A[I];c(typeof L=="function","Alteration adjuster for",I,"must be a function"),C.$_terms.alterations.push({target:I,adjuster:L})}return C.$_temp.ruleset=!1,C}artifact(A){return c(A!==void 0,"Artifact cannot be undefined"),c(!this._cache,"Cannot set an artifact with a rule cache"),this.$_setFlag("artifact",A)}cast(A){return c(A===!1||typeof A=="string","Invalid to value"),c(A===!1||this._definition.cast[A],"Type",this.type,"does not support casting to",A),this.$_setFlag("cast",A===!1?void 0:A)}default(A,C){return this._default("default",A,C)}description(A){return c(A&&typeof A=="string","Description must be a non-empty string"),this.$_setFlag("description",A)}empty(A){const C=this.clone();return A!==void 0&&(A=C.$_compile(A,{override:!1})),C.$_setFlag("empty",A,{clone:!1})}error(A){return c(A,"Missing error"),c(A instanceof Error||typeof A=="function","Must provide a valid Error object or a function"),this.$_setFlag("error",A)}example(A,C={}){return c(A!==void 0,"Missing example"),y.assertOptions(C,["override"]),this._inner("examples",A,{single:!0,override:C.override})}external(A,C){return typeof A=="object"&&(c(!C,"Cannot combine options with description"),C=A.description,A=A.method),c(typeof A=="function","Method must be a function"),c(C===void 0||C&&typeof C=="string","Description must be a non-empty string"),this._inner("externals",{method:A,description:C},{single:!0})}failover(A,C){return this._default("failover",A,C)}forbidden(){return this.presence("forbidden")}id(A){return A?(c(typeof A=="string","id must be a non-empty string"),c(/^[^\.]+$/.test(A),"id cannot contain period character"),this.$_setFlag("id",A)):this.$_setFlag("id",void 0)}invalid(...A){return this._values(A,"_invalids")}label(A){return c(A&&typeof A=="string","Label name must be a non-empty string"),this.$_setFlag("label",A)}meta(A){return c(A!==void 0,"Meta cannot be undefined"),this._inner("metas",A,{single:!0})}note(...A){c(A.length,"Missing notes");for(const C of A)c(C&&typeof C=="string","Notes must be non-empty strings");return this._inner("notes",A)}only(A=!0){return c(typeof A=="boolean","Invalid mode:",A),this.$_setFlag("only",A)}optional(){return this.presence("optional")}prefs(A){c(A,"Missing preferences"),c(A.context===void 0,"Cannot override context"),c(A.externals===void 0,"Cannot override externals"),c(A.warnings===void 0,"Cannot override warnings"),c(A.debug===void 0,"Cannot override debug"),y.checkPreferences(A);const C=this.clone();return C._preferences=y.preferences(C._preferences,A),C}presence(A){return c(["optional","required","forbidden"].includes(A),"Unknown presence mode",A),this.$_setFlag("presence",A)}raw(A=!0){return this.$_setFlag("result",A?"raw":void 0)}result(A){return c(["raw","strip"].includes(A),"Unknown result mode",A),this.$_setFlag("result",A)}required(){return this.presence("required")}strict(A){const C=this.clone(),I=A!==void 0&&!A;return C._preferences=y.preferences(C._preferences,{convert:I}),C}strip(A=!0){return this.$_setFlag("result",A?"strip":void 0)}tag(...A){c(A.length,"Missing tags");for(const C of A)c(C&&typeof C=="string","Tags must be non-empty strings");return this._inner("tags",A)}unit(A){return c(A&&typeof A=="string","Unit name must be a non-empty string"),this.$_setFlag("unit",A)}valid(...A){y.verifyFlat(A,"valid");const C=this.allow(...A);return C.$_setFlag("only",!!C._valids,{clone:!1}),C}when(A,C){const I=this.clone();I.$_terms.whens||(I.$_terms.whens=[]);const L=_.when(I,A,C);if(!["any","link"].includes(I.type)){const $=L.is?[L]:L.switch;for(const U of $)c(!U.then||U.then.type==="any"||U.then.type===I.type,"Cannot combine",I.type,"with",U.then&&U.then.type),c(!U.otherwise||U.otherwise.type==="any"||U.otherwise.type===I.type,"Cannot combine",I.type,"with",U.otherwise&&U.otherwise.type)}return I.$_terms.whens.push(L),I.$_mutateRebuild()}cache(A){c(!this._inRuleset(),"Cannot set caching inside a ruleset"),c(!this._cache,"Cannot override schema cache"),c(this._flags.artifact===void 0,"Cannot cache a rule with an artifact");const C=this.clone();return C._cache=A||d.provider.provision(),C.$_temp.ruleset=!1,C}clone(){const A=Object.create(Object.getPrototypeOf(this));return this._assign(A)}concat(A){c(y.isSchema(A),"Invalid schema object"),c(this.type==="any"||A.type==="any"||A.type===this.type,"Cannot merge type",this.type,"with another type:",A.type),c(!this._inRuleset(),"Cannot concatenate onto a schema with open ruleset"),c(!A._inRuleset(),"Cannot concatenate a schema with open ruleset");let C=this.clone();if(this.type==="any"&&A.type!=="any"){const I=A.clone();for(const L of Object.keys(C))L!=="type"&&(I[L]=C[L]);C=I}C._ids.concat(A._ids),C._refs.register(A,D.toSibling),C._preferences=C._preferences?y.preferences(C._preferences,A._preferences):A._preferences,C._valids=k.merge(C._valids,A._valids,A._invalids),C._invalids=k.merge(C._invalids,A._invalids,A._valids);for(const I of A._singleRules.keys())C._singleRules.has(I)&&(C._rules=C._rules.filter(L=>L.keep||L.name!==I),C._singleRules.delete(I));for(const I of A._rules)A._definition.rules[I.method].multi||C._singleRules.set(I.name,I),C._rules.push(I);if(C._flags.empty&&A._flags.empty){C._flags.empty=C._flags.empty.concat(A._flags.empty);const I=Object.assign({},A._flags);delete I.empty,E(C._flags,I)}else if(A._flags.empty){C._flags.empty=A._flags.empty;const I=Object.assign({},A._flags);delete I.empty,E(C._flags,I)}else E(C._flags,A._flags);for(const I in A.$_terms){const L=A.$_terms[I];L?C.$_terms[I]?C.$_terms[I]=C.$_terms[I].concat(L):C.$_terms[I]=L.slice():C.$_terms[I]||(C.$_terms[I]=L)}return this.$_root._tracer&&this.$_root._tracer._combine(C,[this,A]),C.$_mutateRebuild()}extend(A){return c(!A.base,"Cannot extend type with another base"),b.type(this,A)}extract(A){return A=Array.isArray(A)?A:A.split("."),this._ids.reach(A)}fork(A,C){c(!this._inRuleset(),"Cannot fork inside a ruleset");let I=this;for(let L of[].concat(A))L=Array.isArray(L)?L:L.split("."),I=I._ids.fork(L,C,I);return I.$_temp.ruleset=!1,I}rule(A){const C=this._definition;y.assertOptions(A,Object.keys(C.modifiers)),c(this.$_temp.ruleset!==!1,"Cannot apply rules to empty ruleset or the last rule added does not support rule properties");const I=this.$_temp.ruleset===null?this._rules.length-1:this.$_temp.ruleset;c(I>=0&&I<this._rules.length,"Cannot apply rules to empty ruleset");const L=this.clone();for(let $=I;$<L._rules.length;++$){const U=L._rules[$],de=p(U);for(const pe in A)C.modifiers[pe](de,A[pe]),c(de.name===U.name,"Cannot change rule name");L._rules[$]=de,L._singleRules.get(de.name)===U&&L._singleRules.set(de.name,de)}return L.$_temp.ruleset=!1,L.$_mutateRebuild()}get ruleset(){c(!this._inRuleset(),"Cannot start a new ruleset without closing the previous one");const A=this.clone();return A.$_temp.ruleset=A._rules.length,A}get $(){return this.ruleset}tailor(A){A=[].concat(A),c(!this._inRuleset(),"Cannot tailor inside a ruleset");let C=this;if(this.$_terms.alterations)for(const{target:I,adjuster:L}of this.$_terms.alterations)A.includes(I)&&(C=L(C),c(y.isSchema(C),"Alteration adjuster for",I,"failed to return a schema object"));return C=C.$_modify({each:I=>I.tailor(A),ref:!1}),C.$_temp.ruleset=!1,C.$_mutateRebuild()}tracer(){return V.location?V.location(this):this}validate(A,C){return j.entry(A,this,C)}validateAsync(A,C){return j.entryAsync(A,this,C)}$_addRule(A){typeof A=="string"&&(A={name:A}),c(A&&typeof A=="object","Invalid options"),c(A.name&&typeof A.name=="string","Invalid rule name");for(const U in A)c(U[0]!=="_","Cannot set private rule properties");const C=Object.assign({},A);C._resolve=[],C.method=C.method||C.name;const I=this._definition.rules[C.method],L=C.args;c(I,"Unknown rule",C.method);const $=this.clone();if(L){c(Object.keys(L).length===1||Object.keys(L).length===this._definition.rules[C.name].args.length,"Invalid rule definition for",this.type,C.name);for(const U in L){let de=L[U];if(I.argsByName){const pe=I.argsByName.get(U);if(pe.ref&&y.isResolvable(de))C._resolve.push(U),$.$_mutateRegister(de);else if(pe.normalize&&(de=pe.normalize(de),L[U]=de),pe.assert){const Q=y.validateArg(de,U,pe);c(!Q,Q,"or reference")}}de!==void 0?L[U]=de:delete L[U]}}return I.multi||($._ruleRemove(C.name,{clone:!1}),$._singleRules.set(C.name,C)),$.$_temp.ruleset===!1&&($.$_temp.ruleset=null),I.priority?$._rules.unshift(C):$._rules.push(C),$}$_compile(A,C){return _.schema(this.$_root,A,C)}$_createError(A,C,I,L,$,U={}){const de=U.flags!==!1?this._flags:{},pe=U.messages?w.merge(this._definition.messages,U.messages):this._definition.messages;return new v.Report(A,C,I,de,pe,L,$)}$_getFlag(A){return this._flags[A]}$_getRule(A){return this._singleRules.get(A)}$_mapLabels(A){return A=Array.isArray(A)?A:A.split("."),this._ids.labels(A)}$_match(A,C,I,L){(I=Object.assign({},I)).abortEarly=!0,I._externals=!1,C.snapshot();const $=!j.validate(A,this,C,I,L).errors;return C.restore(),$}$_modify(A){return y.assertOptions(A,["each","once","ref","schema"]),S.schema(this,A)||this}$_mutateRebuild(){return c(!this._inRuleset(),"Cannot add this rule inside a ruleset"),this._refs.reset(),this._ids.reset(),this.$_modify({each:(A,{source:C,name:I,path:L,key:$})=>{const U=this._definition[C][I]&&this._definition[C][I].register;U!==!1&&this.$_mutateRegister(A,{family:U,key:$})}}),this._definition.rebuild&&this._definition.rebuild(this),this.$_temp.ruleset=!1,this}$_mutateRegister(A,{family:C,key:I}={}){this._refs.register(A,C),this._ids.register(A,{key:I})}$_property(A){return this._definition.properties[A]}$_reach(A){return this._ids.reach(A)}$_rootReferences(){return this._refs.roots()}$_setFlag(A,C,I={}){c(A[0]==="_"||!this._inRuleset(),"Cannot set flag inside a ruleset");const L=this._definition.flags[A]||{};if(g(C,L.default)&&(C=void 0),g(C,this._flags[A]))return this;const $=I.clone!==!1?this.clone():this;return C!==void 0?($._flags[A]=C,$.$_mutateRegister(C)):delete $._flags[A],A[0]!=="_"&&($.$_temp.ruleset=!1),$}$_parent(A,...C){return this[A][y.symbols.parent].call(this,...C)}$_validate(A,C,I){return j.validate(A,this,C,I)}_assign(A){A.type=this.type,A.$_root=this.$_root,A.$_temp=Object.assign({},this.$_temp),A.$_temp.whens={},A._ids=this._ids.clone(),A._preferences=this._preferences,A._valids=this._valids&&this._valids.clone(),A._invalids=this._invalids&&this._invalids.clone(),A._rules=this._rules.slice(),A._singleRules=p(this._singleRules,{shallow:!0}),A._refs=this._refs.clone(),A._flags=Object.assign({},this._flags),A._cache=null,A.$_terms={};for(const C in this.$_terms)A.$_terms[C]=this.$_terms[C]?this.$_terms[C].slice():null;A.$_super={};for(const C in this.$_super)A.$_super[C]=this._super[C].bind(A);return A}_bare(){const A=this.clone();A._reset();const C=A._definition.terms;for(const I in C){const L=C[I];A.$_terms[I]=L.init}return A.$_mutateRebuild()}_default(A,C,I={}){return y.assertOptions(I,"literal"),c(C!==void 0,"Missing",A,"value"),c(typeof C=="function"||!I.literal,"Only function value supports literal option"),typeof C=="function"&&I.literal&&(C={[y.symbols.literal]:!0,literal:C}),this.$_setFlag(A,C)}_generate(A,C,I){if(!this.$_terms.whens)return{schema:this};const L=[],$=[];for(let pe=0;pe<this.$_terms.whens.length;++pe){const Q=this.$_terms.whens[pe];if(Q.concat){L.push(Q.concat),$.push(`${pe}.concat`);continue}const se=Q.ref?Q.ref.resolve(A,C,I):A,ye=Q.is?[Q]:Q.switch,Ce=$.length;for(let B=0;B<ye.length;++B){const{is:re,then:me,otherwise:ce}=ye[B],_e=`${pe}${Q.switch?"."+B:""}`;if(re.$_match(se,C.nest(re,`${_e}.is`),I)){if(me){const Le=C.localize([...C.path,`${_e}.then`],C.ancestors,C.schemas),{schema:xe,id:wt}=me._generate(A,Le,I);L.push(xe),$.push(`${_e}.then${wt?`(${wt})`:""}`);break}}else if(ce){const Le=C.localize([...C.path,`${_e}.otherwise`],C.ancestors,C.schemas),{schema:xe,id:wt}=ce._generate(A,Le,I);L.push(xe),$.push(`${_e}.otherwise${wt?`(${wt})`:""}`);break}}if(Q.break&&$.length>Ce)break}const U=$.join(", ");if(C.mainstay.tracer.debug(C,"rule","when",U),!U)return{schema:this};if(!C.mainstay.tracer.active&&this.$_temp.whens[U])return{schema:this.$_temp.whens[U],id:U};let de=this;this._definition.generate&&(de=this._definition.generate(this,A,C,I));for(const pe of L)de=de.concat(pe);return this.$_root._tracer&&this.$_root._tracer._combine(de,[this,...L]),this.$_temp.whens[U]=de,{schema:de,id:U}}_inner(A,C,I={}){c(!this._inRuleset(),`Cannot set ${A} inside a ruleset`);const L=this.clone();return L.$_terms[A]&&!I.override||(L.$_terms[A]=[]),I.single?L.$_terms[A].push(C):L.$_terms[A].push(...C),L.$_temp.ruleset=!1,L}_inRuleset(){return this.$_temp.ruleset!==null&&this.$_temp.ruleset!==!1}_ruleRemove(A,C={}){if(!this._singleRules.has(A))return this;const I=C.clone!==!1?this.clone():this;I._singleRules.delete(A);const L=[];for(let $=0;$<I._rules.length;++$){const U=I._rules[$];U.name!==A||U.keep?L.push(U):I._inRuleset()&&$<I.$_temp.ruleset&&--I.$_temp.ruleset}return I._rules=L,I}_values(A,C){y.verifyFlat(A,C.slice(1,-1));const I=this.clone(),L=A[0]===y.symbols.override;if(L&&(A=A.slice(1)),!I[C]&&A.length?I[C]=new k:L&&(I[C]=A.length?new k:null,I.$_mutateRebuild()),!I[C])return I;L&&I[C].override();for(const $ of A){c($!==void 0,"Cannot call allow/valid/invalid with undefined"),c($!==y.symbols.override,"Override must be the first value");const U=C==="_invalids"?"_valids":"_invalids";I[U]&&(I[U].remove($),I[U].length||(c(C==="_valids"||!I._flags.only,"Setting invalid value",$,"leaves schema rejecting all values due to previous valid rule"),I[U]=null)),I[C].add($,I._refs)}return I}}};O.Base.prototype[y.symbols.any]={version:y.version,compile:_.compile,root:"$_root"},O.Base.prototype.isImmutable=!0,O.Base.prototype.deny=O.Base.prototype.invalid,O.Base.prototype.disallow=O.Base.prototype.invalid,O.Base.prototype.equal=O.Base.prototype.valid,O.Base.prototype.exist=O.Base.prototype.required,O.Base.prototype.not=O.Base.prototype.invalid,O.Base.prototype.options=O.Base.prototype.prefs,O.Base.prototype.preferences=O.Base.prototype.prefs,o.exports=new O.Base},8652:(o,u,f)=>{const c=f(375),p=f(8571),g=f(8160),E={max:1e3,supported:new Set(["undefined","boolean","number","string"])};u.provider={provision:d=>new E.Cache(d)},E.Cache=class{constructor(d={}){g.assertOptions(d,["max"]),c(d.max===void 0||d.max&&d.max>0&&isFinite(d.max),"Invalid max cache size"),this._max=d.max||E.max,this._map=new Map,this._list=new E.List}get length(){return this._map.size}set(d,y){if(d!==null&&!E.supported.has(typeof d))return;let _=this._map.get(d);if(_)return _.value=y,void this._list.first(_);_=this._list.unshift({key:d,value:y}),this._map.set(d,_),this._compact()}get(d){const y=this._map.get(d);if(y)return this._list.first(y),p(y.value)}_compact(){if(this._map.size>this._max){const d=this._list.pop();this._map.delete(d.key)}}},E.List=class{constructor(){this.tail=null,this.head=null}unshift(d){return d.next=null,d.prev=this.head,this.head&&(this.head.next=d),this.head=d,this.tail||(this.tail=d),d}first(d){d!==this.head&&(this._remove(d),this.unshift(d))}pop(){return this._remove(this.tail)}_remove(d){const{next:y,prev:_}=d;return y.prev=_,_&&(_.next=y),d===this.tail&&(this.tail=y),d.prev=null,d.next=null,d}}},8160:(o,u,f)=>{const c=f(375),p=f(7916),g=f(5934);let E,d;const y={isoDate:/^(?:[-+]\d{2})?(?:\d{4}(?!\d{2}\b))(?:(-?)(?:(?:0[1-9]|1[0-2])(?:\1(?:[12]\d|0[1-9]|3[01]))?|W(?:[0-4]\d|5[0-2])(?:-?[1-7])?|(?:00[1-9]|0[1-9]\d|[12]\d{2}|3(?:[0-5]\d|6[1-6])))(?![T]$|[T][\d]+Z$)(?:[T\s](?:(?:(?:[01]\d|2[0-3])(?:(:?)[0-5]\d)?|24\:?00)(?:[.,]\d+(?!:))?)(?:\2[0-5]\d(?:[.,]\d+)?)?(?:[Z]|(?:[+-])(?:[01]\d|2[0-3])(?::?[0-5]\d)?)?)?)?$/};u.version=g.version,u.defaults={abortEarly:!0,allowUnknown:!1,artifacts:!1,cache:!0,context:null,convert:!0,dateFormat:"iso",errors:{escapeHtml:!1,label:"path",language:null,render:!0,stack:!1,wrap:{label:'"',array:"[]"}},externals:!0,messages:{},nonEnumerables:!1,noDefaults:!1,presence:"optional",skipFunctions:!1,stripUnknown:!1,warnings:!1},u.symbols={any:Symbol.for("@hapi/joi/schema"),arraySingle:Symbol("arraySingle"),deepDefault:Symbol("deepDefault"),errors:Symbol("errors"),literal:Symbol("literal"),override:Symbol("override"),parent:Symbol("parent"),prefs:Symbol("prefs"),ref:Symbol("ref"),template:Symbol("template"),values:Symbol("values")},u.assertOptions=function(_,v,b="Options"){c(_&&typeof _=="object"&&!Array.isArray(_),"Options must be of type object");const R=Object.keys(_).filter(w=>!v.includes(w));c(R.length===0,`${b} contain unknown keys: ${R}`)},u.checkPreferences=function(_){d=d||f(3378);const v=d.preferences.validate(_);if(v.error)throw new p([v.error.details[0].message])},u.compare=function(_,v,b){switch(b){case"=":return _===v;case">":return _>v;case"<":return _<v;case">=":return _>=v;case"<=":return _<=v}},u.default=function(_,v){return _===void 0?v:_},u.isIsoDate=function(_){return y.isoDate.test(_)},u.isNumber=function(_){return typeof _=="number"&&!isNaN(_)},u.isResolvable=function(_){return!!_&&(_[u.symbols.ref]||_[u.symbols.template])},u.isSchema=function(_,v={}){const b=_&&_[u.symbols.any];return!!b&&(c(v.legacy||b.version===u.version,"Cannot mix different versions of joi schemas"),!0)},u.isValues=function(_){return _[u.symbols.values]},u.limit=function(_){return Number.isSafeInteger(_)&&_>=0},u.preferences=function(_,v){E=E||f(6914),_=_||{},v=v||{};const b=Object.assign({},_,v);return v.errors&&_.errors&&(b.errors=Object.assign({},_.errors,v.errors),b.errors.wrap=Object.assign({},_.errors.wrap,v.errors.wrap)),v.messages&&(b.messages=E.compile(v.messages,_.messages)),delete b[u.symbols.prefs],b},u.tryWithPath=function(_,v,b={}){try{return _()}catch(R){throw R.path!==void 0?R.path=v+"."+R.path:R.path=v,b.append&&(R.message=`${R.message} (${R.path})`),R}},u.validateArg=function(_,v,{assert:b,message:R}){if(u.isSchema(b)){const w=b.validate(_);return w.error?w.error.message:void 0}if(!b(_))return v?`${v} ${R}`:R},u.verifyFlat=function(_,v){for(const b of _)c(!Array.isArray(b),"Method no longer accepts array arguments:",v)}},3292:(o,u,f)=>{const c=f(375),p=f(8160),g=f(6133),E={};u.schema=function(d,y,_={}){p.assertOptions(_,["appendPath","override"]);try{return E.schema(d,y,_)}catch(v){throw _.appendPath&&v.path!==void 0&&(v.message=`${v.message} (${v.path})`),v}},E.schema=function(d,y,_){c(y!==void 0,"Invalid undefined schema"),Array.isArray(y)&&(c(y.length,"Invalid empty array schema"),y.length===1&&(y=y[0]));const v=(b,...R)=>_.override!==!1?b.valid(d.override,...R):b.valid(...R);if(E.simple(y))return v(d,y);if(typeof y=="function")return d.custom(y);if(c(typeof y=="object","Invalid schema content:",typeof y),p.isResolvable(y))return v(d,y);if(p.isSchema(y))return y;if(Array.isArray(y)){for(const b of y)if(!E.simple(b))return d.alternatives().try(...y);return v(d,...y)}return y instanceof RegExp?d.string().regex(y):y instanceof Date?v(d.date(),y):(c(Object.getPrototypeOf(y)===Object.getPrototypeOf({}),"Schema can only contain plain objects"),d.object().keys(y))},u.ref=function(d,y){return g.isRef(d)?d:g.create(d,y)},u.compile=function(d,y,_={}){p.assertOptions(_,["legacy"]);const v=y&&y[p.symbols.any];if(v)return c(_.legacy||v.version===p.version,"Cannot mix different versions of joi schemas:",v.version,p.version),y;if(typeof y!="object"||!_.legacy)return u.schema(d,y,{appendPath:!0});const b=E.walk(y);return b?b.compile(b.root,y):u.schema(d,y,{appendPath:!0})},E.walk=function(d){if(typeof d!="object")return null;if(Array.isArray(d)){for(const _ of d){const v=E.walk(_);if(v)return v}return null}const y=d[p.symbols.any];if(y)return{root:d[y.root],compile:y.compile};c(Object.getPrototypeOf(d)===Object.getPrototypeOf({}),"Schema can only contain plain objects");for(const _ in d){const v=E.walk(d[_]);if(v)return v}return null},E.simple=function(d){return d===null||["boolean","string","number"].includes(typeof d)},u.when=function(d,y,_){if(_===void 0&&(c(y&&typeof y=="object","Missing options"),_=y,y=g.create(".")),Array.isArray(_)&&(_={switch:_}),p.assertOptions(_,["is","not","then","otherwise","switch","break"]),p.isSchema(y))return c(_.is===void 0,'"is" can not be used with a schema condition'),c(_.not===void 0,'"not" can not be used with a schema condition'),c(_.switch===void 0,'"switch" can not be used with a schema condition'),E.condition(d,{is:y,then:_.then,otherwise:_.otherwise,break:_.break});if(c(g.isRef(y)||typeof y=="string","Invalid condition:",y),c(_.not===void 0||_.is===void 0,'Cannot combine "is" with "not"'),_.switch===void 0){let b=_;_.not!==void 0&&(b={is:_.not,then:_.otherwise,otherwise:_.then,break:_.break});let R=b.is!==void 0?d.$_compile(b.is):d.$_root.invalid(null,!1,0,"").required();return c(b.then!==void 0||b.otherwise!==void 0,'options must have at least one of "then", "otherwise", or "switch"'),c(b.break===void 0||b.then===void 0||b.otherwise===void 0,"Cannot specify then, otherwise, and break all together"),_.is===void 0||g.isRef(_.is)||p.isSchema(_.is)||(R=R.required()),E.condition(d,{ref:u.ref(y),is:R,then:b.then,otherwise:b.otherwise,break:b.break})}c(Array.isArray(_.switch),'"switch" must be an array'),c(_.is===void 0,'Cannot combine "switch" with "is"'),c(_.not===void 0,'Cannot combine "switch" with "not"'),c(_.then===void 0,'Cannot combine "switch" with "then"');const v={ref:u.ref(y),switch:[],break:_.break};for(let b=0;b<_.switch.length;++b){const R=_.switch[b],w=b===_.switch.length-1;p.assertOptions(R,w?["is","then","otherwise"]:["is","then"]),c(R.is!==void 0,'Switch statement missing "is"'),c(R.then!==void 0,'Switch statement missing "then"');const S={is:d.$_compile(R.is),then:d.$_compile(R.then)};if(g.isRef(R.is)||p.isSchema(R.is)||(S.is=S.is.required()),w){c(_.otherwise===void 0||R.otherwise===void 0,'Cannot specify "otherwise" inside and outside a "switch"');const D=_.otherwise!==void 0?_.otherwise:R.otherwise;D!==void 0&&(c(v.break===void 0,"Cannot specify both otherwise and break"),S.otherwise=d.$_compile(D))}v.switch.push(S)}return v},E.condition=function(d,y){for(const _ of["then","otherwise"])y[_]===void 0?delete y[_]:y[_]=d.$_compile(y[_]);return y}},6354:(o,u,f)=>{const c=f(5688),p=f(8160),g=f(3328);u.Report=class{constructor(E,d,y,_,v,b,R){if(this.code=E,this.flags=_,this.messages=v,this.path=b.path,this.prefs=R,this.state=b,this.value=d,this.message=null,this.template=null,this.local=y||{},this.local.label=u.label(this.flags,this.state,this.prefs,this.messages),this.value===void 0||this.local.hasOwnProperty("value")||(this.local.value=this.value),this.path.length){const w=this.path[this.path.length-1];typeof w!="object"&&(this.local.key=w)}}_setTemplate(E){if(this.template=E,!this.flags.label&&this.path.length===0){const d=this._template(this.template,"root");d&&(this.local.label=d)}}toString(){if(this.message)return this.message;const E=this.code;if(!this.prefs.errors.render)return this.code;const d=this._template(this.template)||this._template(this.prefs.messages)||this._template(this.messages);return d===void 0?`Error code "${E}" is not defined, your custom type is missing the correct messages definition`:(this.message=d.render(this.value,this.state,this.prefs,this.local,{errors:this.prefs.errors,messages:[this.prefs.messages,this.messages]}),this.prefs.errors.label||(this.message=this.message.replace(/^"" /,"").trim()),this.message)}_template(E,d){return u.template(this.value,E,d||this.code,this.state,this.prefs)}},u.path=function(E){let d="";for(const y of E)typeof y!="object"&&(typeof y=="string"?(d&&(d+="."),d+=y):d+=`[${y}]`);return d},u.template=function(E,d,y,_,v){if(!d)return;if(g.isTemplate(d))return y!=="root"?d:null;let b=v.errors.language;if(p.isResolvable(b)&&(b=b.resolve(E,_,v)),b&&d[b]){if(d[b][y]!==void 0)return d[b][y];if(d[b]["*"]!==void 0)return d[b]["*"]}return d[y]?d[y]:d["*"]},u.label=function(E,d,y,_){if(!y.errors.label)return"";if(E.label)return E.label;let v=d.path;return y.errors.label==="key"&&d.path.length>1&&(v=d.path.slice(-1)),u.path(v)||u.template(null,y.messages,"root",d,y)||_&&u.template(null,_,"root",d,y)||"value"},u.process=function(E,d,y){if(!E)return null;const{override:_,message:v,details:b}=u.details(E);if(_)return _;if(y.errors.stack)return new u.ValidationError(v,b,d);const R=Error.stackTraceLimit;Error.stackTraceLimit=0;const w=new u.ValidationError(v,b,d);return Error.stackTraceLimit=R,w},u.details=function(E,d={}){let y=[];const _=[];for(const v of E){if(v instanceof Error){if(d.override!==!1)return{override:v};const R=v.toString();y.push(R),_.push({message:R,type:"override",context:{error:v}});continue}const b=v.toString();y.push(b),_.push({message:b,path:v.path.filter(R=>typeof R!="object"),type:v.code,context:v.local})}return y.length>1&&(y=[...new Set(y)]),{message:y.join(". "),details:_}},u.ValidationError=class extends Error{constructor(E,d,y){super(E),this._original=y,this.details=d}static isError(E){return E instanceof u.ValidationError}},u.ValidationError.prototype.isJoi=!0,u.ValidationError.prototype.name="ValidationError",u.ValidationError.prototype.annotate=c.error},8901:(o,u,f)=>{const c=f(375),p=f(8571),g=f(8160),E=f(6914),d={};u.type=function(y,_){const v=Object.getPrototypeOf(y),b=p(v),R=y._assign(Object.create(b)),w=Object.assign({},_);delete w.base,b._definition=w;const S=v._definition||{};w.messages=E.merge(S.messages,w.messages),w.properties=Object.assign({},S.properties,w.properties),R.type=w.type,w.flags=Object.assign({},S.flags,w.flags);const D=Object.assign({},S.terms);if(w.terms)for(const O in w.terms){const A=w.terms[O];c(R.$_terms[O]===void 0,"Invalid term override for",w.type,O),R.$_terms[O]=A.init,D[O]=A}w.terms=D,w.args||(w.args=S.args),w.prepare=d.prepare(w.prepare,S.prepare),w.coerce&&(typeof w.coerce=="function"&&(w.coerce={method:w.coerce}),w.coerce.from&&!Array.isArray(w.coerce.from)&&(w.coerce={method:w.coerce.method,from:[].concat(w.coerce.from)})),w.coerce=d.coerce(w.coerce,S.coerce),w.validate=d.validate(w.validate,S.validate);const V=Object.assign({},S.rules);if(w.rules)for(const O in w.rules){const A=w.rules[O];c(typeof A=="object","Invalid rule definition for",w.type,O);let C=A.method;if(C===void 0&&(C=function(){return this.$_addRule(O)}),C&&(c(!b[O],"Rule conflict in",w.type,O),b[O]=C),c(!V[O],"Rule conflict in",w.type,O),V[O]=A,A.alias){const I=[].concat(A.alias);for(const L of I)b[L]=A.method}A.args&&(A.argsByName=new Map,A.args=A.args.map(I=>(typeof I=="string"&&(I={name:I}),c(!A.argsByName.has(I.name),"Duplicated argument name",I.name),g.isSchema(I.assert)&&(I.assert=I.assert.strict().label(I.name)),A.argsByName.set(I.name,I),I)))}w.rules=V;const j=Object.assign({},S.modifiers);if(w.modifiers)for(const O in w.modifiers){c(!b[O],"Rule conflict in",w.type,O);const A=w.modifiers[O];c(typeof A=="function","Invalid modifier definition for",w.type,O);const C=function(I){return this.rule({[O]:I})};b[O]=C,j[O]=A}if(w.modifiers=j,w.overrides){b._super=v,R.$_super={};for(const O in w.overrides)c(v[O],"Cannot override missing",O),w.overrides[O][g.symbols.parent]=v[O],R.$_super[O]=v[O].bind(R);Object.assign(b,w.overrides)}w.cast=Object.assign({},S.cast,w.cast);const k=Object.assign({},S.manifest,w.manifest);return k.build=d.build(w.manifest&&w.manifest.build,S.manifest&&S.manifest.build),w.manifest=k,w.rebuild=d.rebuild(w.rebuild,S.rebuild),R},d.build=function(y,_){return y&&_?function(v,b){return _(y(v,b),b)}:y||_},d.coerce=function(y,_){return y&&_?{from:y.from&&_.from?[...new Set([...y.from,..._.from])]:null,method(v,b){let R;if((!_.from||_.from.includes(typeof v))&&(R=_.method(v,b),R)){if(R.errors||R.value===void 0)return R;v=R.value}if(!y.from||y.from.includes(typeof v)){const w=y.method(v,b);if(w)return w}return R}}:y||_},d.prepare=function(y,_){return y&&_?function(v,b){const R=y(v,b);if(R){if(R.errors||R.value===void 0)return R;v=R.value}return _(v,b)||R}:y||_},d.rebuild=function(y,_){return y&&_?function(v){_(v),y(v)}:y||_},d.validate=function(y,_){return y&&_?function(v,b){const R=_(v,b);if(R){if(R.errors&&(!Array.isArray(R.errors)||R.errors.length))return R;v=R.value}return y(v,b)||R}:y||_}},5107:(o,u,f)=>{const c=f(375),p=f(8571),g=f(8652),E=f(8160),d=f(3292),y=f(6354),_=f(8901),v=f(9708),b=f(6133),R=f(3328),w=f(1152);let S;const D={types:{alternatives:f(4946),any:f(8068),array:f(546),boolean:f(4937),date:f(7500),function:f(390),link:f(8785),number:f(3832),object:f(8966),string:f(7417),symbol:f(8826)},aliases:{alt:"alternatives",bool:"boolean",func:"function"},root:function(){const V={_types:new Set(Object.keys(D.types))};for(const j of V._types)V[j]=function(...k){return c(!k.length||["alternatives","link","object"].includes(j),"The",j,"type does not allow arguments"),D.generate(this,D.types[j],k)};for(const j of["allow","custom","disallow","equal","exist","forbidden","invalid","not","only","optional","options","prefs","preferences","required","strip","valid","when"])V[j]=function(...k){return this.any()[j](...k)};Object.assign(V,D.methods);for(const j in D.aliases){const k=D.aliases[j];V[j]=V[k]}return V.x=V.expression,w.setup&&w.setup(V),V}};D.methods={ValidationError:y.ValidationError,version:E.version,cache:g.provider,assert(V,j,...k){D.assert(V,j,!0,k)},attempt:(V,j,...k)=>D.assert(V,j,!1,k),build(V){return c(typeof v.build=="function","Manifest functionality disabled"),v.build(this,V)},checkPreferences(V){E.checkPreferences(V)},compile(V,j){return d.compile(this,V,j)},defaults(V){c(typeof V=="function","modifier must be a function");const j=Object.assign({},this);for(const k of j._types){const O=V(j[k]());c(E.isSchema(O),"modifier must return a valid schema object"),j[k]=function(...A){return D.generate(this,O,A)}}return j},expression:(...V)=>new R(...V),extend(...V){E.verifyFlat(V,"extend"),S=S||f(3378),c(V.length,"You need to provide at least one extension"),this.assert(V,S.extensions);const j=Object.assign({},this);j._types=new Set(j._types);for(let k of V){typeof k=="function"&&(k=k(j)),this.assert(k,S.extension);const O=D.expandExtension(k,j);for(const A of O){c(j[A.type]===void 0||j._types.has(A.type),"Cannot override name",A.type);const C=A.base||this.any(),I=_.type(C,A);j._types.add(A.type),j[A.type]=function(...L){return D.generate(this,I,L)}}}return j},isError:y.ValidationError.isError,isExpression:R.isTemplate,isRef:b.isRef,isSchema:E.isSchema,in:(...V)=>b.in(...V),override:E.symbols.override,ref:(...V)=>b.create(...V),types(){const V={};for(const j of this._types)V[j]=this[j]();for(const j in D.aliases)V[j]=this[j]();return V}},D.assert=function(V,j,k,O){const A=O[0]instanceof Error||typeof O[0]=="string"?O[0]:null,C=A!==null?O[1]:O[0],I=j.validate(V,E.preferences({errors:{stack:!0}},C||{}));let L=I.error;if(!L)return I.value;if(A instanceof Error)throw A;const $=k&&typeof L.annotate=="function"?L.annotate():L.message;throw L instanceof y.ValidationError==0&&(L=p(L)),L.message=A?`${A} ${$}`:$,L},D.generate=function(V,j,k){return c(V,"Must be invoked on a Joi instance."),j.$_root=V,j._definition.args&&k.length?j._definition.args(j,...k):j},D.expandExtension=function(V,j){if(typeof V.type=="string")return[V];const k=[];for(const O of j._types)if(V.type.test(O)){const A=Object.assign({},V);A.type=O,A.base=j[O](),k.push(A)}return k},o.exports=D.root()},6914:(o,u,f)=>{const c=f(375),p=f(8571),g=f(3328);u.compile=function(E,d){if(typeof E=="string")return c(!d,"Cannot set single message string"),new g(E);if(g.isTemplate(E))return c(!d,"Cannot set single message template"),E;c(typeof E=="object"&&!Array.isArray(E),"Invalid message options"),d=d?p(d):{};for(let y in E){const _=E[y];if(y==="root"||g.isTemplate(_)){d[y]=_;continue}if(typeof _=="string"){d[y]=new g(_);continue}c(typeof _=="object"&&!Array.isArray(_),"Invalid message for",y);const v=y;for(y in d[v]=d[v]||{},_){const b=_[y];y==="root"||g.isTemplate(b)?d[v][y]=b:(c(typeof b=="string","Invalid message for",y,"in",v),d[v][y]=new g(b))}}return d},u.decompile=function(E){const d={};for(let y in E){const _=E[y];if(y==="root"){d.root=_;continue}if(g.isTemplate(_)){d[y]=_.describe({compact:!0});continue}const v=y;for(y in d[v]={},_){const b=_[y];y!=="root"?d[v][y]=b.describe({compact:!0}):d[v].root=b}}return d},u.merge=function(E,d){if(!E)return u.compile(d);if(!d)return E;if(typeof d=="string")return new g(d);if(g.isTemplate(d))return d;const y=p(E);for(let _ in d){const v=d[_];if(_==="root"||g.isTemplate(v)){y[_]=v;continue}if(typeof v=="string"){y[_]=new g(v);continue}c(typeof v=="object"&&!Array.isArray(v),"Invalid message for",_);const b=_;for(_ in y[b]=y[b]||{},v){const R=v[_];_==="root"||g.isTemplate(R)?y[b][_]=R:(c(typeof R=="string","Invalid message for",_,"in",b),y[b][_]=new g(R))}}return y}},2294:(o,u,f)=>{const c=f(375),p=f(8160),g=f(6133),E={};u.Ids=E.Ids=class{constructor(){this._byId=new Map,this._byKey=new Map,this._schemaChain=!1}clone(){const d=new E.Ids;return d._byId=new Map(this._byId),d._byKey=new Map(this._byKey),d._schemaChain=this._schemaChain,d}concat(d){d._schemaChain&&(this._schemaChain=!0);for(const[y,_]of d._byId.entries())c(!this._byKey.has(y),"Schema id conflicts with existing key:",y),this._byId.set(y,_);for(const[y,_]of d._byKey.entries())c(!this._byId.has(y),"Schema key conflicts with existing id:",y),this._byKey.set(y,_)}fork(d,y,_){const v=this._collect(d);v.push({schema:_});const b=v.shift();let R={id:b.id,schema:y(b.schema)};c(p.isSchema(R.schema),"adjuster function failed to return a joi schema type");for(const w of v)R={id:w.id,schema:E.fork(w.schema,R.id,R.schema)};return R.schema}labels(d,y=[]){const _=d[0],v=this._get(_);if(!v)return[...y,...d].join(".");const b=d.slice(1);return y=[...y,v.schema._flags.label||_],b.length?v.schema._ids.labels(b,y):y.join(".")}reach(d,y=[]){const _=d[0],v=this._get(_);c(v,"Schema does not contain path",[...y,...d].join("."));const b=d.slice(1);return b.length?v.schema._ids.reach(b,[...y,_]):v.schema}register(d,{key:y}={}){if(!d||!p.isSchema(d))return;(d.$_property("schemaChain")||d._ids._schemaChain)&&(this._schemaChain=!0);const _=d._flags.id;if(_){const v=this._byId.get(_);c(!v||v.schema===d,"Cannot add different schemas with the same id:",_),c(!this._byKey.has(_),"Schema id conflicts with existing key:",_),this._byId.set(_,{schema:d,id:_})}y&&(c(!this._byKey.has(y),"Schema already contains key:",y),c(!this._byId.has(y),"Schema key conflicts with existing id:",y),this._byKey.set(y,{schema:d,id:y}))}reset(){this._byId=new Map,this._byKey=new Map,this._schemaChain=!1}_collect(d,y=[],_=[]){const v=d[0],b=this._get(v);c(b,"Schema does not contain path",[...y,...d].join(".")),_=[b,..._];const R=d.slice(1);return R.length?b.schema._ids._collect(R,[...y,v],_):_}_get(d){return this._byId.get(d)||this._byKey.get(d)}},E.fork=function(d,y,_){const v=u.schema(d,{each:(b,{key:R})=>{if(y===(b._flags.id||R))return _},ref:!1});return v?v.$_mutateRebuild():d},u.schema=function(d,y){let _;for(const v in d._flags){if(v[0]==="_")continue;const b=E.scan(d._flags[v],{source:"flags",name:v},y);b!==void 0&&(_=_||d.clone(),_._flags[v]=b)}for(let v=0;v<d._rules.length;++v){const b=d._rules[v],R=E.scan(b.args,{source:"rules",name:b.name},y);if(R!==void 0){_=_||d.clone();const w=Object.assign({},b);w.args=R,_._rules[v]=w,_._singleRules.get(b.name)===b&&_._singleRules.set(b.name,w)}}for(const v in d.$_terms){if(v[0]==="_")continue;const b=E.scan(d.$_terms[v],{source:"terms",name:v},y);b!==void 0&&(_=_||d.clone(),_.$_terms[v]=b)}return _},E.scan=function(d,y,_,v,b){const R=v||[];if(d===null||typeof d!="object")return;let w;if(Array.isArray(d)){for(let S=0;S<d.length;++S){const D=y.source==="terms"&&y.name==="keys"&&d[S].key,V=E.scan(d[S],y,_,[S,...R],D);V!==void 0&&(w=w||d.slice(),w[S]=V)}return w}if(_.schema!==!1&&p.isSchema(d)||_.ref!==!1&&g.isRef(d)){const S=_.each(d,{...y,path:R,key:b});return S===d?void 0:S}for(const S in d){if(S[0]==="_")continue;const D=E.scan(d[S],y,_,[S,...R],b);D!==void 0&&(w=w||Object.assign({},d),w[S]=D)}return w}},6133:(o,u,f)=>{const c=f(375),p=f(8571),g=f(9621),E=f(8160);let d;const y={symbol:Symbol("ref"),defaults:{adjust:null,in:!1,iterables:null,map:null,separator:".",type:"value"}};u.create=function(_,v={}){c(typeof _=="string","Invalid reference key:",_),E.assertOptions(v,["adjust","ancestor","in","iterables","map","prefix","render","separator"]),c(!v.prefix||typeof v.prefix=="object","options.prefix must be of type object");const b=Object.assign({},y.defaults,v);delete b.prefix;const R=b.separator,w=y.context(_,R,v.prefix);if(b.type=w.type,_=w.key,b.type==="value")if(w.root&&(c(!R||_[0]!==R,"Cannot specify relative path with root prefix"),b.ancestor="root",_||(_=null)),R&&R===_)_=null,b.ancestor=0;else if(b.ancestor!==void 0)c(!R||!_||_[0]!==R,"Cannot combine prefix with ancestor option");else{const[S,D]=y.ancestor(_,R);D&&(_=_.slice(D))===""&&(_=null),b.ancestor=S}return b.path=R?_===null?[]:_.split(R):[_],new y.Ref(b)},u.in=function(_,v={}){return u.create(_,{...v,in:!0})},u.isRef=function(_){return!!_&&!!_[E.symbols.ref]},y.Ref=class{constructor(_){c(typeof _=="object","Invalid reference construction"),E.assertOptions(_,["adjust","ancestor","in","iterables","map","path","render","separator","type","depth","key","root","display"]),c([!1,void 0].includes(_.separator)||typeof _.separator=="string"&&_.separator.length===1,"Invalid separator"),c(!_.adjust||typeof _.adjust=="function","options.adjust must be a function"),c(!_.map||Array.isArray(_.map),"options.map must be an array"),c(!_.map||!_.adjust,"Cannot set both map and adjust options"),Object.assign(this,y.defaults,_),c(this.type==="value"||this.ancestor===void 0,"Non-value references cannot reference ancestors"),Array.isArray(this.map)&&(this.map=new Map(this.map)),this.depth=this.path.length,this.key=this.path.length?this.path.join(this.separator):null,this.root=this.path[0],this.updateDisplay()}resolve(_,v,b,R,w={}){return c(!this.in||w.in,"Invalid in() reference usage"),this.type==="global"?this._resolve(b.context,v,w):this.type==="local"?this._resolve(R,v,w):this.ancestor?this.ancestor==="root"?this._resolve(v.ancestors[v.ancestors.length-1],v,w):(c(this.ancestor<=v.ancestors.length,"Invalid reference exceeds the schema root:",this.display),this._resolve(v.ancestors[this.ancestor-1],v,w)):this._resolve(_,v,w)}_resolve(_,v,b){let R;if(this.type==="value"&&v.mainstay.shadow&&b.shadow!==!1&&(R=v.mainstay.shadow.get(this.absolute(v))),R===void 0&&(R=g(_,this.path,{iterables:this.iterables,functions:!0})),this.adjust&&(R=this.adjust(R)),this.map){const w=this.map.get(R);w!==void 0&&(R=w)}return v.mainstay&&v.mainstay.tracer.resolve(v,this,R),R}toString(){return this.display}absolute(_){return[..._.path.slice(0,-this.ancestor),...this.path]}clone(){return new y.Ref(this)}describe(){const _={path:this.path};this.type!=="value"&&(_.type=this.type),this.separator!=="."&&(_.separator=this.separator),this.type==="value"&&this.ancestor!==1&&(_.ancestor=this.ancestor),this.map&&(_.map=[...this.map]);for(const v of["adjust","iterables","render"])this[v]!==null&&this[v]!==void 0&&(_[v]=this[v]);return this.in!==!1&&(_.in=!0),{ref:_}}updateDisplay(){const _=this.key!==null?this.key:"";if(this.type!=="value")return void(this.display=`ref:${this.type}:${_}`);if(!this.separator)return void(this.display=`ref:${_}`);if(!this.ancestor)return void(this.display=`ref:${this.separator}${_}`);if(this.ancestor==="root")return void(this.display=`ref:root:${_}`);if(this.ancestor===1)return void(this.display=`ref:${_||".."}`);const v=new Array(this.ancestor+1).fill(this.separator).join("");this.display=`ref:${v}${_||""}`}},y.Ref.prototype[E.symbols.ref]=!0,u.build=function(_){return(_=Object.assign({},y.defaults,_)).type==="value"&&_.ancestor===void 0&&(_.ancestor=1),new y.Ref(_)},y.context=function(_,v,b={}){if(_=_.trim(),b){const R=b.global===void 0?"$":b.global;if(R!==v&&_.startsWith(R))return{key:_.slice(R.length),type:"global"};const w=b.local===void 0?"#":b.local;if(w!==v&&_.startsWith(w))return{key:_.slice(w.length),type:"local"};const S=b.root===void 0?"/":b.root;if(S!==v&&_.startsWith(S))return{key:_.slice(S.length),type:"value",root:!0}}return{key:_,type:"value"}},y.ancestor=function(_,v){if(!v)return[1,0];if(_[0]!==v)return[1,0];if(_[1]!==v)return[0,1];let b=2;for(;_[b]===v;)++b;return[b-1,b]},u.toSibling=0,u.toParent=1,u.Manager=class{constructor(){this.refs=[]}register(_,v){if(_)if(v=v===void 0?u.toParent:v,Array.isArray(_))for(const b of _)this.register(b,v);else if(E.isSchema(_))for(const b of _._refs.refs)b.ancestor-v>=0&&this.refs.push({ancestor:b.ancestor-v,root:b.root});else u.isRef(_)&&_.type==="value"&&_.ancestor-v>=0&&this.refs.push({ancestor:_.ancestor-v,root:_.root}),d=d||f(3328),d.isTemplate(_)&&this.register(_.refs(),v)}get length(){return this.refs.length}clone(){const _=new u.Manager;return _.refs=p(this.refs),_}reset(){this.refs=[]}roots(){return this.refs.filter(_=>!_.ancestor).map(_=>_.root)}}},3378:(o,u,f)=>{const c=f(5107),p={};p.wrap=c.string().min(1).max(2).allow(!1),u.preferences=c.object({allowUnknown:c.boolean(),abortEarly:c.boolean(),artifacts:c.boolean(),cache:c.boolean(),context:c.object(),convert:c.boolean(),dateFormat:c.valid("date","iso","string","time","utc"),debug:c.boolean(),errors:{escapeHtml:c.boolean(),label:c.valid("path","key",!1),language:[c.string(),c.object().ref()],render:c.boolean(),stack:c.boolean(),wrap:{label:p.wrap,array:p.wrap,string:p.wrap}},externals:c.boolean(),messages:c.object(),noDefaults:c.boolean(),nonEnumerables:c.boolean(),presence:c.valid("required","optional","forbidden"),skipFunctions:c.boolean(),stripUnknown:c.object({arrays:c.boolean(),objects:c.boolean()}).or("arrays","objects").allow(!0,!1),warnings:c.boolean()}).strict(),p.nameRx=/^[a-zA-Z0-9]\w*$/,p.rule=c.object({alias:c.array().items(c.string().pattern(p.nameRx)).single(),args:c.array().items(c.string(),c.object({name:c.string().pattern(p.nameRx).required(),ref:c.boolean(),assert:c.alternatives([c.function(),c.object().schema()]).conditional("ref",{is:!0,then:c.required()}),normalize:c.function(),message:c.string().when("assert",{is:c.function(),then:c.required()})})),convert:c.boolean(),manifest:c.boolean(),method:c.function().allow(!1),multi:c.boolean(),validate:c.function()}),u.extension=c.object({type:c.alternatives([c.string(),c.object().regex()]).required(),args:c.function(),cast:c.object().pattern(p.nameRx,c.object({from:c.function().maxArity(1).required(),to:c.function().minArity(1).maxArity(2).required()})),base:c.object().schema().when("type",{is:c.object().regex(),then:c.forbidden()}),coerce:[c.function().maxArity(3),c.object({method:c.function().maxArity(3).required(),from:c.array().items(c.string()).single()})],flags:c.object().pattern(p.nameRx,c.object({setter:c.string(),default:c.any()})),manifest:{build:c.function().arity(2)},messages:[c.object(),c.string()],modifiers:c.object().pattern(p.nameRx,c.function().minArity(1).maxArity(2)),overrides:c.object().pattern(p.nameRx,c.function()),prepare:c.function().maxArity(3),rebuild:c.function().arity(1),rules:c.object().pattern(p.nameRx,p.rule),terms:c.object().pattern(p.nameRx,c.object({init:c.array().allow(null).required(),manifest:c.object().pattern(/.+/,[c.valid("schema","single"),c.object({mapped:c.object({from:c.string().required(),to:c.string().required()}).required()})])})),validate:c.function().maxArity(3)}).strict(),u.extensions=c.array().items(c.object(),c.function().arity(1)).strict(),p.desc={buffer:c.object({buffer:c.string()}),func:c.object({function:c.function().required(),options:{literal:!0}}),override:c.object({override:!0}),ref:c.object({ref:c.object({type:c.valid("value","global","local"),path:c.array().required(),separator:c.string().length(1).allow(!1),ancestor:c.number().min(0).integer().allow("root"),map:c.array().items(c.array().length(2)).min(1),adjust:c.function(),iterables:c.boolean(),in:c.boolean(),render:c.boolean()}).required()}),regex:c.object({regex:c.string().min(3)}),special:c.object({special:c.valid("deep").required()}),template:c.object({template:c.string().required(),options:c.object()}),value:c.object({value:c.alternatives([c.object(),c.array()]).required()})},p.desc.entity=c.alternatives([c.array().items(c.link("...")),c.boolean(),c.function(),c.number(),c.string(),p.desc.buffer,p.desc.func,p.desc.ref,p.desc.regex,p.desc.special,p.desc.template,p.desc.value,c.link("/")]),p.desc.values=c.array().items(null,c.boolean(),c.function(),c.number().allow(1/0,-1/0),c.string().allow(""),c.symbol(),p.desc.buffer,p.desc.func,p.desc.override,p.desc.ref,p.desc.regex,p.desc.template,p.desc.value),p.desc.messages=c.object().pattern(/.+/,[c.string(),p.desc.template,c.object().pattern(/.+/,[c.string(),p.desc.template])]),u.description=c.object({type:c.string().required(),flags:c.object({cast:c.string(),default:c.any(),description:c.string(),empty:c.link("/"),failover:p.desc.entity,id:c.string(),label:c.string(),only:!0,presence:["optional","required","forbidden"],result:["raw","strip"],strip:c.boolean(),unit:c.string()}).unknown(),preferences:{allowUnknown:c.boolean(),abortEarly:c.boolean(),artifacts:c.boolean(),cache:c.boolean(),convert:c.boolean(),dateFormat:["date","iso","string","time","utc"],errors:{escapeHtml:c.boolean(),label:["path","key"],language:[c.string(),p.desc.ref],wrap:{label:p.wrap,array:p.wrap}},externals:c.boolean(),messages:p.desc.messages,noDefaults:c.boolean(),nonEnumerables:c.boolean(),presence:["required","optional","forbidden"],skipFunctions:c.boolean(),stripUnknown:c.object({arrays:c.boolean(),objects:c.boolean()}).or("arrays","objects").allow(!0,!1),warnings:c.boolean()},allow:p.desc.values,invalid:p.desc.values,rules:c.array().min(1).items({name:c.string().required(),args:c.object().min(1),keep:c.boolean(),message:[c.string(),p.desc.messages],warn:c.boolean()}),keys:c.object().pattern(/.*/,c.link("/")),link:p.desc.ref}).pattern(/^[a-z]\w*$/,c.any())},493:(o,u,f)=>{const c=f(8571),p=f(9621),g=f(8160),E={value:Symbol("value")};o.exports=E.State=class{constructor(d,y,_){this.path=d,this.ancestors=y,this.mainstay=_.mainstay,this.schemas=_.schemas,this.debug=null}localize(d,y=null,_=null){const v=new E.State(d,y,this);return _&&v.schemas&&(v.schemas=[E.schemas(_),...v.schemas]),v}nest(d,y){const _=new E.State(this.path,this.ancestors,this);return _.schemas=_.schemas&&[E.schemas(d),..._.schemas],_.debug=y,_}shadow(d,y){this.mainstay.shadow=this.mainstay.shadow||new E.Shadow,this.mainstay.shadow.set(this.path,d,y)}snapshot(){this.mainstay.shadow&&(this._snapshot=c(this.mainstay.shadow.node(this.path))),this.mainstay.snapshot()}restore(){this.mainstay.shadow&&(this.mainstay.shadow.override(this.path,this._snapshot),this._snapshot=void 0),this.mainstay.restore()}commit(){this.mainstay.shadow&&(this.mainstay.shadow.override(this.path,this._snapshot),this._snapshot=void 0),this.mainstay.commit()}},E.schemas=function(d){return g.isSchema(d)?{schema:d}:d},E.Shadow=class{constructor(){this._values=null}set(d,y,_){if(!d.length||_==="strip"&&typeof d[d.length-1]=="number")return;this._values=this._values||new Map;let v=this._values;for(let b=0;b<d.length;++b){const R=d[b];let w=v.get(R);w||(w=new Map,v.set(R,w)),v=w}v[E.value]=y}get(d){const y=this.node(d);if(y)return y[E.value]}node(d){if(this._values)return p(this._values,d,{iterables:!0})}override(d,y){if(!this._values)return;const _=d.slice(0,-1),v=d[d.length-1],b=p(this._values,_,{iterables:!0});y?b.set(v,y):b&&b.delete(v)}}},3328:(o,u,f)=>{const c=f(375),p=f(8571),g=f(5277),E=f(1447),d=f(8160),y=f(6354),_=f(6133),v={symbol:Symbol("template"),opens:new Array(1e3).join("\0"),closes:new Array(1e3).join(""),dateFormat:{date:Date.prototype.toDateString,iso:Date.prototype.toISOString,string:Date.prototype.toString,time:Date.prototype.toTimeString,utc:Date.prototype.toUTCString}};o.exports=v.Template=class{constructor(b,R){if(c(typeof b=="string","Template source must be a string"),c(!b.includes("\0")&&!b.includes(""),"Template source cannot contain reserved control characters"),this.source=b,this.rendered=b,this._template=null,R){const{functions:w,...S}=R;this._settings=Object.keys(S).length?p(S):void 0,this._functions=w,this._functions&&(c(Object.keys(this._functions).every(D=>typeof D=="string"),"Functions keys must be strings"),c(Object.values(this._functions).every(D=>typeof D=="function"),"Functions values must be functions"))}else this._settings=void 0,this._functions=void 0;this._parse()}_parse(){if(!this.source.includes("{"))return;const b=v.encode(this.source),R=v.split(b);let w=!1;const S=[],D=R.shift();D&&S.push(D);for(const V of R){const j=V[0]!=="{",k=j?"}":"}}",O=V.indexOf(k);if(O===-1||V[1]==="{"){S.push(`{${v.decode(V)}`);continue}let A=V.slice(j?0:1,O);const C=A[0]===":";C&&(A=A.slice(1));const I=this._ref(v.decode(A),{raw:j,wrapped:C});S.push(I),typeof I!="string"&&(w=!0);const L=V.slice(O+k.length);L&&S.push(v.decode(L))}w?this._template=S:this.rendered=S.join("")}static date(b,R){return v.dateFormat[R.dateFormat].call(b)}describe(b={}){if(!this._settings&&b.compact)return this.source;const R={template:this.source};return this._settings&&(R.options=this._settings),this._functions&&(R.functions=this._functions),R}static build(b){return new v.Template(b.template,b.options||b.functions?{...b.options,functions:b.functions}:void 0)}isDynamic(){return!!this._template}static isTemplate(b){return!!b&&!!b[d.symbols.template]}refs(){if(!this._template)return;const b=[];for(const R of this._template)typeof R!="string"&&b.push(...R.refs);return b}resolve(b,R,w,S){return this._template&&this._template.length===1?this._part(this._template[0],b,R,w,S,{}):this.render(b,R,w,S)}_part(b,...R){return b.ref?b.ref.resolve(...R):b.formula.evaluate(R)}render(b,R,w,S,D={}){if(!this.isDynamic())return this.rendered;const V=[];for(const j of this._template)if(typeof j=="string")V.push(j);else{const k=this._part(j,b,R,w,S,D),O=v.stringify(k,b,R,w,S,D);if(O!==void 0){const A=j.raw||(D.errors&&D.errors.escapeHtml)===!1?O:g(O);V.push(v.wrap(A,j.wrapped&&w.errors.wrap.label))}}return V.join("")}_ref(b,{raw:R,wrapped:w}){const S=[],D=j=>{const k=_.create(j,this._settings);return S.push(k),O=>{const A=k.resolve(...O);return A!==void 0?A:null}};try{const j=this._functions?{...v.functions,...this._functions}:v.functions;var V=new E.Parser(b,{reference:D,functions:j,constants:v.constants})}catch(j){throw j.message=`Invalid template variable "${b}" fails due to: ${j.message}`,j}if(V.single){if(V.single.type==="reference"){const j=S[0];return{ref:j,raw:R,refs:S,wrapped:w||j.type==="local"&&j.key==="label"}}return v.stringify(V.single.value)}return{formula:V,raw:R,refs:S}}toString(){return this.source}},v.Template.prototype[d.symbols.template]=!0,v.Template.prototype.isImmutable=!0,v.encode=function(b){return b.replace(/\\(\{+)/g,(R,w)=>v.opens.slice(0,w.length)).replace(/\\(\}+)/g,(R,w)=>v.closes.slice(0,w.length))},v.decode=function(b){return b.replace(/\u0000/g,"{").replace(/\u0001/g,"}")},v.split=function(b){const R=[];let w="";for(let S=0;S<b.length;++S){const D=b[S];if(D==="{"){let V="";for(;S+1<b.length&&b[S+1]==="{";)V+="{",++S;R.push(w),w=V}else w+=D}return R.push(w),R},v.wrap=function(b,R){return R?R.length===1?`${R}${b}${R}`:`${R[0]}${b}${R[1]}`:b},v.stringify=function(b,R,w,S,D,V={}){const j=typeof b,k=S&&S.errors&&S.errors.wrap||{};let O=!1;if(_.isRef(b)&&b.render&&(O=b.in,b=b.resolve(R,w,S,D,{in:b.in,...V})),b===null)return"null";if(j==="string")return v.wrap(b,V.arrayItems&&k.string);if(j==="number"||j==="function"||j==="symbol")return b.toString();if(j!=="object")return JSON.stringify(b);if(b instanceof Date)return v.Template.date(b,S);if(b instanceof Map){const C=[];for(const[I,L]of b.entries())C.push(`${I.toString()} -> ${L.toString()}`);b=C}if(!Array.isArray(b))return b.toString();const A=[];for(const C of b)A.push(v.stringify(C,R,w,S,D,{arrayItems:!0,...V}));return v.wrap(A.join(", "),!O&&k.array)},v.constants={true:!0,false:!1,null:null,second:1e3,minute:6e4,hour:36e5,day:864e5},v.functions={if:(b,R,w)=>b?R:w,length:b=>typeof b=="string"?b.length:b&&typeof b=="object"?Array.isArray(b)?b.length:Object.keys(b).length:null,msg(b){const[R,w,S,D,V]=this,j=V.messages;if(!j)return"";const k=y.template(R,j[0],b,w,S)||y.template(R,j[1],b,w,S);return k?k.render(R,w,S,D,V):""},number:b=>typeof b=="number"?b:typeof b=="string"?parseFloat(b):typeof b=="boolean"?b?1:0:b instanceof Date?b.getTime():null}},4946:(o,u,f)=>{const c=f(375),p=f(1687),g=f(8068),E=f(8160),d=f(3292),y=f(6354),_=f(6133),v={};o.exports=g.extend({type:"alternatives",flags:{match:{default:"any"}},terms:{matches:{init:[],register:_.toSibling}},args:(b,...R)=>R.length===1&&Array.isArray(R[0])?b.try(...R[0]):b.try(...R),validate(b,R){const{schema:w,error:S,state:D,prefs:V}=R;if(w._flags.match){const k=[],O=[];for(let C=0;C<w.$_terms.matches.length;++C){const I=w.$_terms.matches[C],L=D.nest(I.schema,`match.${C}`);L.snapshot();const $=I.schema.$_validate(b,L,V);$.errors?(O.push($.errors),L.restore()):(k.push($.value),L.commit())}if(k.length===0)return{errors:S("alternatives.any",{details:O.map(C=>y.details(C,{override:!1}))})};if(w._flags.match==="one")return k.length===1?{value:k[0]}:{errors:S("alternatives.one")};if(k.length!==w.$_terms.matches.length)return{errors:S("alternatives.all",{details:O.map(C=>y.details(C,{override:!1}))})};const A=C=>C.$_terms.matches.some(I=>I.schema.type==="object"||I.schema.type==="alternatives"&&A(I.schema));return A(w)?{value:k.reduce((C,I)=>p(C,I,{mergeArrays:!1}))}:{value:k[k.length-1]}}const j=[];for(let k=0;k<w.$_terms.matches.length;++k){const O=w.$_terms.matches[k];if(O.schema){const I=D.nest(O.schema,`match.${k}`);I.snapshot();const L=O.schema.$_validate(b,I,V);if(!L.errors)return I.commit(),L;I.restore(),j.push({schema:O.schema,reports:L.errors});continue}const A=O.ref?O.ref.resolve(b,D,V):b,C=O.is?[O]:O.switch;for(let I=0;I<C.length;++I){const L=C[I],{is:$,then:U,otherwise:de}=L,pe=`match.${k}${O.switch?"."+I:""}`;if($.$_match(A,D.nest($,`${pe}.is`),V)){if(U)return U.$_validate(b,D.nest(U,`${pe}.then`),V)}else if(de)return de.$_validate(b,D.nest(de,`${pe}.otherwise`),V)}}return v.errors(j,R)},rules:{conditional:{method(b,R){c(!this._flags._endedSwitch,"Unreachable condition"),c(!this._flags.match,"Cannot combine match mode",this._flags.match,"with conditional rule"),c(R.break===void 0,"Cannot use break option with alternatives conditional");const w=this.clone(),S=d.when(w,b,R),D=S.is?[S]:S.switch;for(const V of D)if(V.then&&V.otherwise){w.$_setFlag("_endedSwitch",!0,{clone:!1});break}return w.$_terms.matches.push(S),w.$_mutateRebuild()}},match:{method(b){if(c(["any","one","all"].includes(b),"Invalid alternatives match mode",b),b!=="any")for(const R of this.$_terms.matches)c(R.schema,"Cannot combine match mode",b,"with conditional rules");return this.$_setFlag("match",b)}},try:{method(...b){c(b.length,"Missing alternative schemas"),E.verifyFlat(b,"try"),c(!this._flags._endedSwitch,"Unreachable condition");const R=this.clone();for(const w of b)R.$_terms.matches.push({schema:R.$_compile(w)});return R.$_mutateRebuild()}}},overrides:{label(b){return this.$_parent("label",b).$_modify({each:(R,w)=>w.path[0]!=="is"&&typeof R._flags.label!="string"?R.label(b):void 0,ref:!1})}},rebuild(b){b.$_modify({each:R=>{E.isSchema(R)&&R.type==="array"&&b.$_setFlag("_arrayItems",!0,{clone:!1})}})},manifest:{build(b,R){if(R.matches)for(const w of R.matches){const{schema:S,ref:D,is:V,not:j,then:k,otherwise:O}=w;b=S?b.try(S):D?b.conditional(D,{is:V,then:k,not:j,otherwise:O,switch:w.switch}):b.conditional(V,{then:k,otherwise:O})}return b}},messages:{"alternatives.all":"{{#label}} does not match all of the required types","alternatives.any":"{{#label}} does not match any of the allowed types","alternatives.match":"{{#label}} does not match any of the allowed types","alternatives.one":"{{#label}} matches more than one allowed type","alternatives.types":"{{#label}} must be one of {{#types}}"}}),v.errors=function(b,{error:R,state:w}){if(!b.length)return{errors:R("alternatives.any")};if(b.length===1)return{errors:b[0].reports};const S=new Set,D=[];for(const{reports:V,schema:j}of b){if(V.length>1)return v.unmatched(b,R);const k=V[0];if(k instanceof y.Report==0)return v.unmatched(b,R);if(k.state.path.length!==w.path.length){D.push({type:j.type,report:k});continue}if(k.code==="any.only"){for(const C of k.local.valids)S.add(C);continue}const[O,A]=k.code.split(".");A!=="base"?D.push({type:j.type,report:k}):k.code==="object.base"?S.add(k.local.type):S.add(O)}return D.length?D.length===1?{errors:D[0].report}:v.unmatched(b,R):{errors:R("alternatives.types",{types:[...S]})}},v.unmatched=function(b,R){const w=[];for(const S of b)w.push(...S.reports);return{errors:R("alternatives.match",y.details(w,{override:!1}))}}},8068:(o,u,f)=>{const c=f(375),p=f(7629),g=f(8160),E=f(6914);o.exports=p.extend({type:"any",flags:{only:{default:!1}},terms:{alterations:{init:null},examples:{init:null},externals:{init:null},metas:{init:[]},notes:{init:[]},shared:{init:null},tags:{init:[]},whens:{init:null}},rules:{custom:{method(d,y){return c(typeof d=="function","Method must be a function"),c(y===void 0||y&&typeof y=="string","Description must be a non-empty string"),this.$_addRule({name:"custom",args:{method:d,description:y}})},validate(d,y,{method:_}){try{return _(d,y)}catch(v){return y.error("any.custom",{error:v})}},args:["method","description"],multi:!0},messages:{method(d){return this.prefs({messages:d})}},shared:{method(d){c(g.isSchema(d)&&d._flags.id,"Schema must be a schema with an id");const y=this.clone();return y.$_terms.shared=y.$_terms.shared||[],y.$_terms.shared.push(d),y.$_mutateRegister(d),y}},warning:{method(d,y){return c(d&&typeof d=="string","Invalid warning code"),this.$_addRule({name:"warning",args:{code:d,local:y},warn:!0})},validate:(d,y,{code:_,local:v})=>y.error(_,v),args:["code","local"],multi:!0}},modifiers:{keep(d,y=!0){d.keep=y},message(d,y){d.message=E.compile(y)},warn(d,y=!0){d.warn=y}},manifest:{build(d,y){for(const _ in y){const v=y[_];if(["examples","externals","metas","notes","tags"].includes(_))for(const b of v)d=d[_.slice(0,-1)](b);else if(_!=="alterations")if(_!=="whens"){if(_==="shared")for(const b of v)d=d.shared(b)}else for(const b of v){const{ref:R,is:w,not:S,then:D,otherwise:V,concat:j}=b;d=j?d.concat(j):R?d.when(R,{is:w,not:S,then:D,otherwise:V,switch:b.switch,break:b.break}):d.when(w,{then:D,otherwise:V,break:b.break})}else{const b={};for(const{target:R,adjuster:w}of v)b[R]=w;d=d.alter(b)}}return d}},messages:{"any.custom":"{{#label}} failed custom validation because {{#error.message}}","any.default":"{{#label}} threw an error when running default method","any.failover":"{{#label}} threw an error when running failover method","any.invalid":"{{#label}} contains an invalid value","any.only":'{{#label}} must be {if(#valids.length == 1, "", "one of ")}{{#valids}}',"any.ref":"{{#label}} {{#arg}} references {{:#ref}} which {{#reason}}","any.required":"{{#label}} is required","any.unknown":"{{#label}} is not allowed"}})},546:(o,u,f)=>{const c=f(375),p=f(9474),g=f(9621),E=f(8068),d=f(8160),y=f(3292),_={};o.exports=E.extend({type:"array",flags:{single:{default:!1},sparse:{default:!1}},terms:{items:{init:[],manifest:"schema"},ordered:{init:[],manifest:"schema"},_exclusions:{init:[]},_inclusions:{init:[]},_requireds:{init:[]}},coerce:{from:"object",method(v,{schema:b,state:R,prefs:w}){if(!Array.isArray(v))return;const S=b.$_getRule("sort");return S?_.sort(b,v,S.args.options,R,w):void 0}},validate(v,{schema:b,error:R}){if(!Array.isArray(v)){if(b._flags.single){const w=[v];return w[d.symbols.arraySingle]=!0,{value:w}}return{errors:R("array.base")}}if(b.$_getRule("items")||b.$_terms.externals)return{value:v.slice()}},rules:{has:{method(v){v=this.$_compile(v,{appendPath:!0});const b=this.$_addRule({name:"has",args:{schema:v}});return b.$_mutateRegister(v),b},validate(v,{state:b,prefs:R,error:w},{schema:S}){const D=[v,...b.ancestors];for(let j=0;j<v.length;++j){const k=b.localize([...b.path,j],D,S);if(S.$_match(v[j],k,R))return v}const V=S._flags.label;return V?w("array.hasKnown",{patternLabel:V}):w("array.hasUnknown",null)},multi:!0},items:{method(...v){d.verifyFlat(v,"items");const b=this.$_addRule("items");for(let R=0;R<v.length;++R){const w=d.tryWithPath(()=>this.$_compile(v[R]),R,{append:!0});b.$_terms.items.push(w)}return b.$_mutateRebuild()},validate(v,{schema:b,error:R,state:w,prefs:S,errorsArray:D}){const V=b.$_terms._requireds.slice(),j=b.$_terms.ordered.slice(),k=[...b.$_terms._inclusions,...V],O=!v[d.symbols.arraySingle];delete v[d.symbols.arraySingle];const A=D();let C=v.length;for(let I=0;I<C;++I){const L=v[I];let $=!1,U=!1;const de=O?I:new Number(I),pe=[...w.path,de];if(!b._flags.sparse&&L===void 0){if(A.push(R("array.sparse",{key:de,path:pe,pos:I,value:void 0},w.localize(pe))),S.abortEarly)return A;j.shift();continue}const Q=[v,...w.ancestors];for(const B of b.$_terms._exclusions)if(B.$_match(L,w.localize(pe,Q,B),S,{presence:"ignore"})){if(A.push(R("array.excludes",{pos:I,value:L},w.localize(pe))),S.abortEarly)return A;$=!0,j.shift();break}if($)continue;if(b.$_terms.ordered.length){if(j.length){const B=j.shift(),re=B.$_validate(L,w.localize(pe,Q,B),S);if(re.errors){if(A.push(...re.errors),S.abortEarly)return A}else if(B._flags.result==="strip")_.fastSplice(v,I),--I,--C;else{if(!b._flags.sparse&&re.value===void 0){if(A.push(R("array.sparse",{key:de,path:pe,pos:I,value:void 0},w.localize(pe))),S.abortEarly)return A;continue}v[I]=re.value}continue}if(!b.$_terms.items.length){if(A.push(R("array.orderedLength",{pos:I,limit:b.$_terms.ordered.length})),S.abortEarly)return A;break}}const se=[];let ye=V.length;for(let B=0;B<ye;++B){const re=w.localize(pe,Q,V[B]);re.snapshot();const me=V[B].$_validate(L,re,S);if(se[B]=me,!me.errors){if(re.commit(),v[I]=me.value,U=!0,_.fastSplice(V,B),--B,--ye,!b._flags.sparse&&me.value===void 0&&(A.push(R("array.sparse",{key:de,path:pe,pos:I,value:void 0},w.localize(pe))),S.abortEarly))return A;break}re.restore()}if(U)continue;const Ce=S.stripUnknown&&!!S.stripUnknown.arrays||!1;ye=k.length;for(const B of k){let re;const me=V.indexOf(B);if(me!==-1)re=se[me];else{const ce=w.localize(pe,Q,B);if(ce.snapshot(),re=B.$_validate(L,ce,S),!re.errors){ce.commit(),B._flags.result==="strip"?(_.fastSplice(v,I),--I,--C):b._flags.sparse||re.value!==void 0?v[I]=re.value:(A.push(R("array.sparse",{key:de,path:pe,pos:I,value:void 0},w.localize(pe))),$=!0),U=!0;break}ce.restore()}if(ye===1){if(Ce){_.fastSplice(v,I),--I,--C,U=!0;break}if(A.push(...re.errors),S.abortEarly)return A;$=!0;break}}if(!$&&(b.$_terms._inclusions.length||b.$_terms._requireds.length)&&!U){if(Ce){_.fastSplice(v,I),--I,--C;continue}if(A.push(R("array.includes",{pos:I,value:L},w.localize(pe))),S.abortEarly)return A}}return V.length&&_.fillMissedErrors(b,A,V,v,w,S),j.length&&(_.fillOrderedErrors(b,A,j,v,w,S),A.length||_.fillDefault(j,v,w,S)),A.length?A:v},priority:!0,manifest:!1},length:{method(v){return this.$_addRule({name:"length",args:{limit:v},operator:"="})},validate:(v,b,{limit:R},{name:w,operator:S,args:D})=>d.compare(v.length,R,S)?v:b.error("array."+w,{limit:D.limit,value:v}),args:[{name:"limit",ref:!0,assert:d.limit,message:"must be a positive integer"}]},max:{method(v){return this.$_addRule({name:"max",method:"length",args:{limit:v},operator:"<="})}},min:{method(v){return this.$_addRule({name:"min",method:"length",args:{limit:v},operator:">="})}},ordered:{method(...v){d.verifyFlat(v,"ordered");const b=this.$_addRule("items");for(let R=0;R<v.length;++R){const w=d.tryWithPath(()=>this.$_compile(v[R]),R,{append:!0});_.validateSingle(w,b),b.$_mutateRegister(w),b.$_terms.ordered.push(w)}return b.$_mutateRebuild()}},single:{method(v){const b=v===void 0||!!v;return c(!b||!this._flags._arrayItems,"Cannot specify single rule when array has array items"),this.$_setFlag("single",b)}},sort:{method(v={}){d.assertOptions(v,["by","order"]);const b={order:v.order||"ascending"};return v.by&&(b.by=y.ref(v.by,{ancestor:0}),c(!b.by.ancestor,"Cannot sort by ancestor")),this.$_addRule({name:"sort",args:{options:b}})},validate(v,{error:b,state:R,prefs:w,schema:S},{options:D}){const{value:V,errors:j}=_.sort(S,v,D,R,w);if(j)return j;for(let k=0;k<v.length;++k)if(v[k]!==V[k])return b("array.sort",{order:D.order,by:D.by?D.by.key:"value"});return v},convert:!0},sparse:{method(v){const b=v===void 0||!!v;return this._flags.sparse===b?this:(b?this.clone():this.$_addRule("items")).$_setFlag("sparse",b,{clone:!1})}},unique:{method(v,b={}){c(!v||typeof v=="function"||typeof v=="string","comparator must be a function or a string"),d.assertOptions(b,["ignoreUndefined","separator"]);const R={name:"unique",args:{options:b,comparator:v}};if(v)if(typeof v=="string"){const w=d.default(b.separator,".");R.path=w?v.split(w):[v]}else R.comparator=v;return this.$_addRule(R)},validate(v,{state:b,error:R,schema:w},{comparator:S,options:D},{comparator:V,path:j}){const k={string:Object.create(null),number:Object.create(null),undefined:Object.create(null),boolean:Object.create(null),bigint:Object.create(null),object:new Map,function:new Map,custom:new Map},O=V||p,A=D.ignoreUndefined;for(let C=0;C<v.length;++C){const I=j?g(v[C],j):v[C],L=V?k.custom:k[typeof I];if(c(L,"Failed to find unique map container for type",typeof I),L instanceof Map){const $=L.entries();let U;for(;!(U=$.next()).done;)if(O(U.value[0],I)){const de=b.localize([...b.path,C],[v,...b.ancestors]),pe={pos:C,value:v[C],dupePos:U.value[1],dupeValue:v[U.value[1]]};return j&&(pe.path=S),R("array.unique",pe,de)}L.set(I,C)}else{if((!A||I!==void 0)&&L[I]!==void 0){const $={pos:C,value:v[C],dupePos:L[I],dupeValue:v[L[I]]};return j&&($.path=S),R("array.unique",$,b.localize([...b.path,C],[v,...b.ancestors]))}L[I]=C}}return v},args:["comparator","options"],multi:!0}},cast:{set:{from:Array.isArray,to:(v,b)=>new Set(v)}},rebuild(v){v.$_terms._inclusions=[],v.$_terms._exclusions=[],v.$_terms._requireds=[];for(const b of v.$_terms.items)_.validateSingle(b,v),b._flags.presence==="required"?v.$_terms._requireds.push(b):b._flags.presence==="forbidden"?v.$_terms._exclusions.push(b):v.$_terms._inclusions.push(b);for(const b of v.$_terms.ordered)_.validateSingle(b,v)},manifest:{build:(v,b)=>(b.items&&(v=v.items(...b.items)),b.ordered&&(v=v.ordered(...b.ordered)),v)},messages:{"array.base":"{{#label}} must be an array","array.excludes":"{{#label}} contains an excluded value","array.hasKnown":"{{#label}} does not contain at least one required match for type {:#patternLabel}","array.hasUnknown":"{{#label}} does not contain at least one required match","array.includes":"{{#label}} does not match any of the allowed types","array.includesRequiredBoth":"{{#label}} does not contain {{#knownMisses}} and {{#unknownMisses}} other required value(s)","array.includesRequiredKnowns":"{{#label}} does not contain {{#knownMisses}}","array.includesRequiredUnknowns":"{{#label}} does not contain {{#unknownMisses}} required value(s)","array.length":"{{#label}} must contain {{#limit}} items","array.max":"{{#label}} must contain less than or equal to {{#limit}} items","array.min":"{{#label}} must contain at least {{#limit}} items","array.orderedLength":"{{#label}} must contain at most {{#limit}} items","array.sort":"{{#label}} must be sorted in {#order} order by {{#by}}","array.sort.mismatching":"{{#label}} cannot be sorted due to mismatching types","array.sort.unsupported":"{{#label}} cannot be sorted due to unsupported type {#type}","array.sparse":"{{#label}} must not be a sparse array item","array.unique":"{{#label}} contains a duplicate value"}}),_.fillMissedErrors=function(v,b,R,w,S,D){const V=[];let j=0;for(const k of R){const O=k._flags.label;O?V.push(O):++j}V.length?j?b.push(v.$_createError("array.includesRequiredBoth",w,{knownMisses:V,unknownMisses:j},S,D)):b.push(v.$_createError("array.includesRequiredKnowns",w,{knownMisses:V},S,D)):b.push(v.$_createError("array.includesRequiredUnknowns",w,{unknownMisses:j},S,D))},_.fillOrderedErrors=function(v,b,R,w,S,D){const V=[];for(const j of R)j._flags.presence==="required"&&V.push(j);V.length&&_.fillMissedErrors(v,b,V,w,S,D)},_.fillDefault=function(v,b,R,w){const S=[];let D=!0;for(let V=v.length-1;V>=0;--V){const j=v[V],k=[b,...R.ancestors],O=j.$_validate(void 0,R.localize(R.path,k,j),w).value;if(D){if(O===void 0)continue;D=!1}S.unshift(O)}S.length&&b.push(...S)},_.fastSplice=function(v,b){let R=b;for(;R<v.length;)v[R++]=v[R];--v.length},_.validateSingle=function(v,b){(v.type==="array"||v._flags._arrayItems)&&(c(!b._flags.single,"Cannot specify array item with single rule enabled"),b.$_setFlag("_arrayItems",!0,{clone:!1}))},_.sort=function(v,b,R,w,S){const D=R.order==="ascending"?1:-1,V=-1*D,j=D,k=(O,A)=>{let C=_.compare(O,A,V,j);if(C!==null||(R.by&&(O=R.by.resolve(O,w,S),A=R.by.resolve(A,w,S)),C=_.compare(O,A,V,j),C!==null))return C;const I=typeof O;if(I!==typeof A)throw v.$_createError("array.sort.mismatching",b,null,w,S);if(I!=="number"&&I!=="string")throw v.$_createError("array.sort.unsupported",b,{type:I},w,S);return I==="number"?(O-A)*D:O<A?V:j};try{return{value:b.slice().sort(k)}}catch(O){return{errors:O}}},_.compare=function(v,b,R,w){return v===b?0:v===void 0?1:b===void 0?-1:v===null?w:b===null?R:null}},4937:(o,u,f)=>{const c=f(375),p=f(8068),g=f(8160),E=f(2036),d={isBool:function(y){return typeof y=="boolean"}};o.exports=p.extend({type:"boolean",flags:{sensitive:{default:!1}},terms:{falsy:{init:null,manifest:"values"},truthy:{init:null,manifest:"values"}},coerce(y,{schema:_}){if(typeof y!="boolean"){if(typeof y=="string"){const v=_._flags.sensitive?y:y.toLowerCase();y=v==="true"||v!=="false"&&y}return typeof y!="boolean"&&(y=_.$_terms.truthy&&_.$_terms.truthy.has(y,null,null,!_._flags.sensitive)||(!_.$_terms.falsy||!_.$_terms.falsy.has(y,null,null,!_._flags.sensitive))&&y),{value:y}}},validate(y,{error:_}){if(typeof y!="boolean")return{value:y,errors:_("boolean.base")}},rules:{truthy:{method(...y){g.verifyFlat(y,"truthy");const _=this.clone();_.$_terms.truthy=_.$_terms.truthy||new E;for(let v=0;v<y.length;++v){const b=y[v];c(b!==void 0,"Cannot call truthy with undefined"),_.$_terms.truthy.add(b)}return _}},falsy:{method(...y){g.verifyFlat(y,"falsy");const _=this.clone();_.$_terms.falsy=_.$_terms.falsy||new E;for(let v=0;v<y.length;++v){const b=y[v];c(b!==void 0,"Cannot call falsy with undefined"),_.$_terms.falsy.add(b)}return _}},sensitive:{method(y=!0){return this.$_setFlag("sensitive",y)}}},cast:{number:{from:d.isBool,to:(y,_)=>y?1:0},string:{from:d.isBool,to:(y,_)=>y?"true":"false"}},manifest:{build:(y,_)=>(_.truthy&&(y=y.truthy(..._.truthy)),_.falsy&&(y=y.falsy(..._.falsy)),y)},messages:{"boolean.base":"{{#label}} must be a boolean"}})},7500:(o,u,f)=>{const c=f(375),p=f(8068),g=f(8160),E=f(3328),d={isDate:function(y){return y instanceof Date}};o.exports=p.extend({type:"date",coerce:{from:["number","string"],method:(y,{schema:_})=>({value:d.parse(y,_._flags.format)||y})},validate(y,{schema:_,error:v,prefs:b}){if(y instanceof Date&&!isNaN(y.getTime()))return;const R=_._flags.format;return b.convert&&R&&typeof y=="string"?{value:y,errors:v("date.format",{format:R})}:{value:y,errors:v("date.base")}},rules:{compare:{method:!1,validate(y,_,{date:v},{name:b,operator:R,args:w}){const S=v==="now"?Date.now():v.getTime();return g.compare(y.getTime(),S,R)?y:_.error("date."+b,{limit:w.date,value:y})},args:[{name:"date",ref:!0,normalize:y=>y==="now"?y:d.parse(y),assert:y=>y!==null,message:"must have a valid date format"}]},format:{method(y){return c(["iso","javascript","unix"].includes(y),"Unknown date format",y),this.$_setFlag("format",y)}},greater:{method(y){return this.$_addRule({name:"greater",method:"compare",args:{date:y},operator:">"})}},iso:{method(){return this.format("iso")}},less:{method(y){return this.$_addRule({name:"less",method:"compare",args:{date:y},operator:"<"})}},max:{method(y){return this.$_addRule({name:"max",method:"compare",args:{date:y},operator:"<="})}},min:{method(y){return this.$_addRule({name:"min",method:"compare",args:{date:y},operator:">="})}},timestamp:{method(y="javascript"){return c(["javascript","unix"].includes(y),'"type" must be one of "javascript, unix"'),this.format(y)}}},cast:{number:{from:d.isDate,to:(y,_)=>y.getTime()},string:{from:d.isDate,to:(y,{prefs:_})=>E.date(y,_)}},messages:{"date.base":"{{#label}} must be a valid date","date.format":'{{#label}} must be in {msg("date.format." + #format) || #format} format',"date.greater":"{{#label}} must be greater than {{:#limit}}","date.less":"{{#label}} must be less than {{:#limit}}","date.max":"{{#label}} must be less than or equal to {{:#limit}}","date.min":"{{#label}} must be greater than or equal to {{:#limit}}","date.format.iso":"ISO 8601 date","date.format.javascript":"timestamp or number of milliseconds","date.format.unix":"timestamp or number of seconds"}}),d.parse=function(y,_){if(y instanceof Date)return y;if(typeof y!="string"&&(isNaN(y)||!isFinite(y))||/^\s*$/.test(y))return null;if(_==="iso")return g.isIsoDate(y)?d.date(y.toString()):null;const v=y;if(typeof y=="string"&&/^[+-]?\d+(\.\d+)?$/.test(y)&&(y=parseFloat(y)),_){if(_==="javascript")return d.date(1*y);if(_==="unix")return d.date(1e3*y);if(typeof v=="string")return null}return d.date(y)},d.date=function(y){const _=new Date(y);return isNaN(_.getTime())?null:_}},390:(o,u,f)=>{const c=f(375),p=f(7824);o.exports=p.extend({type:"function",properties:{typeof:"function"},rules:{arity:{method(g){return c(Number.isSafeInteger(g)&&g>=0,"n must be a positive integer"),this.$_addRule({name:"arity",args:{n:g}})},validate:(g,E,{n:d})=>g.length===d?g:E.error("function.arity",{n:d})},class:{method(){return this.$_addRule("class")},validate:(g,E)=>/^\s*class\s/.test(g.toString())?g:E.error("function.class",{value:g})},minArity:{method(g){return c(Number.isSafeInteger(g)&&g>0,"n must be a strict positive integer"),this.$_addRule({name:"minArity",args:{n:g}})},validate:(g,E,{n:d})=>g.length>=d?g:E.error("function.minArity",{n:d})},maxArity:{method(g){return c(Number.isSafeInteger(g)&&g>=0,"n must be a positive integer"),this.$_addRule({name:"maxArity",args:{n:g}})},validate:(g,E,{n:d})=>g.length<=d?g:E.error("function.maxArity",{n:d})}},messages:{"function.arity":"{{#label}} must have an arity of {{#n}}","function.class":"{{#label}} must be a class","function.maxArity":"{{#label}} must have an arity lesser or equal to {{#n}}","function.minArity":"{{#label}} must have an arity greater or equal to {{#n}}"}})},7824:(o,u,f)=>{const c=f(978),p=f(375),g=f(8571),E=f(3652),d=f(8068),y=f(8160),_=f(3292),v=f(6354),b=f(6133),R=f(3328),w={renameDefaults:{alias:!1,multiple:!1,override:!1}};o.exports=d.extend({type:"_keys",properties:{typeof:"object"},flags:{unknown:{default:void 0}},terms:{dependencies:{init:null},keys:{init:null,manifest:{mapped:{from:"schema",to:"key"}}},patterns:{init:null},renames:{init:null}},args:(S,D)=>S.keys(D),validate(S,{schema:D,error:V,state:j,prefs:k}){if(!S||typeof S!==D.$_property("typeof")||Array.isArray(S))return{value:S,errors:V("object.base",{type:D.$_property("typeof")})};if(!(D.$_terms.renames||D.$_terms.dependencies||D.$_terms.keys||D.$_terms.patterns||D.$_terms.externals))return;S=w.clone(S,k);const O=[];if(D.$_terms.renames&&!w.rename(D,S,j,k,O))return{value:S,errors:O};if(!D.$_terms.keys&&!D.$_terms.patterns&&!D.$_terms.dependencies)return{value:S,errors:O};const A=new Set(Object.keys(S));if(D.$_terms.keys){const C=[S,...j.ancestors];for(const I of D.$_terms.keys){const L=I.key,$=S[L];A.delete(L);const U=j.localize([...j.path,L],C,I),de=I.schema.$_validate($,U,k);if(de.errors){if(k.abortEarly)return{value:S,errors:de.errors};de.value!==void 0&&(S[L]=de.value),O.push(...de.errors)}else I.schema._flags.result==="strip"||de.value===void 0&&$!==void 0?delete S[L]:de.value!==void 0&&(S[L]=de.value)}}if(A.size||D._flags._hasPatternMatch){const C=w.unknown(D,S,A,O,j,k);if(C)return C}if(D.$_terms.dependencies)for(const C of D.$_terms.dependencies){if(C.key!==null&&w.isPresent(C.options)(C.key.resolve(S,j,k,null,{shadow:!1}))===!1)continue;const I=w.dependencies[C.rel](D,C,S,j,k);if(I){const L=D.$_createError(I.code,S,I.context,j,k);if(k.abortEarly)return{value:S,errors:L};O.push(L)}}return{value:S,errors:O}},rules:{and:{method(...S){return y.verifyFlat(S,"and"),w.dependency(this,"and",null,S)}},append:{method(S){return S==null||Object.keys(S).length===0?this:this.keys(S)}},assert:{method(S,D,V){R.isTemplate(S)||(S=_.ref(S)),p(V===void 0||typeof V=="string","Message must be a string"),D=this.$_compile(D,{appendPath:!0});const j=this.$_addRule({name:"assert",args:{subject:S,schema:D,message:V}});return j.$_mutateRegister(S),j.$_mutateRegister(D),j},validate(S,{error:D,prefs:V,state:j},{subject:k,schema:O,message:A}){const C=k.resolve(S,j,V),I=b.isRef(k)?k.absolute(j):[];return O.$_match(C,j.localize(I,[S,...j.ancestors],O),V)?S:D("object.assert",{subject:k,message:A})},args:["subject","schema","message"],multi:!0},instance:{method(S,D){return p(typeof S=="function","constructor must be a function"),D=D||S.name,this.$_addRule({name:"instance",args:{constructor:S,name:D}})},validate:(S,D,{constructor:V,name:j})=>S instanceof V?S:D.error("object.instance",{type:j,value:S}),args:["constructor","name"]},keys:{method(S){p(S===void 0||typeof S=="object","Object schema must be a valid object"),p(!y.isSchema(S),"Object schema cannot be a joi schema");const D=this.clone();if(S)if(Object.keys(S).length){D.$_terms.keys=D.$_terms.keys?D.$_terms.keys.filter(V=>!S.hasOwnProperty(V.key)):new w.Keys;for(const V in S)y.tryWithPath(()=>D.$_terms.keys.push({key:V,schema:this.$_compile(S[V])}),V)}else D.$_terms.keys=new w.Keys;else D.$_terms.keys=null;return D.$_mutateRebuild()}},length:{method(S){return this.$_addRule({name:"length",args:{limit:S},operator:"="})},validate:(S,D,{limit:V},{name:j,operator:k,args:O})=>y.compare(Object.keys(S).length,V,k)?S:D.error("object."+j,{limit:O.limit,value:S}),args:[{name:"limit",ref:!0,assert:y.limit,message:"must be a positive integer"}]},max:{method(S){return this.$_addRule({name:"max",method:"length",args:{limit:S},operator:"<="})}},min:{method(S){return this.$_addRule({name:"min",method:"length",args:{limit:S},operator:">="})}},nand:{method(...S){return y.verifyFlat(S,"nand"),w.dependency(this,"nand",null,S)}},or:{method(...S){return y.verifyFlat(S,"or"),w.dependency(this,"or",null,S)}},oxor:{method(...S){return w.dependency(this,"oxor",null,S)}},pattern:{method(S,D,V={}){const j=S instanceof RegExp;j||(S=this.$_compile(S,{appendPath:!0})),p(D!==void 0,"Invalid rule"),y.assertOptions(V,["fallthrough","matches"]),j&&p(!S.flags.includes("g")&&!S.flags.includes("y"),"pattern should not use global or sticky mode"),D=this.$_compile(D,{appendPath:!0});const k=this.clone();k.$_terms.patterns=k.$_terms.patterns||[];const O={[j?"regex":"schema"]:S,rule:D};return V.matches&&(O.matches=this.$_compile(V.matches),O.matches.type!=="array"&&(O.matches=O.matches.$_root.array().items(O.matches)),k.$_mutateRegister(O.matches),k.$_setFlag("_hasPatternMatch",!0,{clone:!1})),V.fallthrough&&(O.fallthrough=!0),k.$_terms.patterns.push(O),k.$_mutateRegister(D),k}},ref:{method(){return this.$_addRule("ref")},validate:(S,D)=>b.isRef(S)?S:D.error("object.refType",{value:S})},regex:{method(){return this.$_addRule("regex")},validate:(S,D)=>S instanceof RegExp?S:D.error("object.regex",{value:S})},rename:{method(S,D,V={}){p(typeof S=="string"||S instanceof RegExp,"Rename missing the from argument"),p(typeof D=="string"||D instanceof R,"Invalid rename to argument"),p(D!==S,"Cannot rename key to same name:",S),y.assertOptions(V,["alias","ignoreUndefined","override","multiple"]);const j=this.clone();j.$_terms.renames=j.$_terms.renames||[];for(const k of j.$_terms.renames)p(k.from!==S,"Cannot rename the same key multiple times");return D instanceof R&&j.$_mutateRegister(D),j.$_terms.renames.push({from:S,to:D,options:c(w.renameDefaults,V)}),j}},schema:{method(S="any"){return this.$_addRule({name:"schema",args:{type:S}})},validate:(S,D,{type:V})=>!y.isSchema(S)||V!=="any"&&S.type!==V?D.error("object.schema",{type:V}):S},unknown:{method(S){return this.$_setFlag("unknown",S!==!1)}},with:{method(S,D,V={}){return w.dependency(this,"with",S,D,V)}},without:{method(S,D,V={}){return w.dependency(this,"without",S,D,V)}},xor:{method(...S){return y.verifyFlat(S,"xor"),w.dependency(this,"xor",null,S)}}},overrides:{default(S,D){return S===void 0&&(S=y.symbols.deepDefault),this.$_parent("default",S,D)}},rebuild(S){if(S.$_terms.keys){const D=new E.Sorter;for(const V of S.$_terms.keys)y.tryWithPath(()=>D.add(V,{after:V.schema.$_rootReferences(),group:V.key}),V.key);S.$_terms.keys=new w.Keys(...D.nodes)}},manifest:{build(S,D){if(D.keys&&(S=S.keys(D.keys)),D.dependencies)for(const{rel:V,key:j=null,peers:k,options:O}of D.dependencies)S=w.dependency(S,V,j,k,O);if(D.patterns)for(const{regex:V,schema:j,rule:k,fallthrough:O,matches:A}of D.patterns)S=S.pattern(V||j,k,{fallthrough:O,matches:A});if(D.renames)for(const{from:V,to:j,options:k}of D.renames)S=S.rename(V,j,k);return S}},messages:{"object.and":"{{#label}} contains {{#presentWithLabels}} without its required peers {{#missingWithLabels}}","object.assert":'{{#label}} is invalid because {if(#subject.key, `"` + #subject.key + `" failed to ` + (#message || "pass the assertion test"), #message || "the assertion failed")}',"object.base":"{{#label}} must be of type {{#type}}","object.instance":"{{#label}} must be an instance of {{:#type}}","object.length":'{{#label}} must have {{#limit}} key{if(#limit == 1, "", "s")}',"object.max":'{{#label}} must have less than or equal to {{#limit}} key{if(#limit == 1, "", "s")}',"object.min":'{{#label}} must have at least {{#limit}} key{if(#limit == 1, "", "s")}',"object.missing":"{{#label}} must contain at least one of {{#peersWithLabels}}","object.nand":"{{:#mainWithLabel}} must not exist simultaneously with {{#peersWithLabels}}","object.oxor":"{{#label}} contains a conflict between optional exclusive peers {{#peersWithLabels}}","object.pattern.match":"{{#label}} keys failed to match pattern requirements","object.refType":"{{#label}} must be a Joi reference","object.regex":"{{#label}} must be a RegExp object","object.rename.multiple":"{{#label}} cannot rename {{:#from}} because multiple renames are disabled and another key was already renamed to {{:#to}}","object.rename.override":"{{#label}} cannot rename {{:#from}} because override is disabled and target {{:#to}} exists","object.schema":"{{#label}} must be a Joi schema of {{#type}} type","object.unknown":"{{#label}} is not allowed","object.with":"{{:#mainWithLabel}} missing required peer {{:#peerWithLabel}}","object.without":"{{:#mainWithLabel}} conflict with forbidden peer {{:#peerWithLabel}}","object.xor":"{{#label}} contains a conflict between exclusive peers {{#peersWithLabels}}"}}),w.clone=function(S,D){if(typeof S=="object"){if(D.nonEnumerables)return g(S,{shallow:!0});const j=Object.create(Object.getPrototypeOf(S));return Object.assign(j,S),j}const V=function(...j){return S.apply(this,j)};return V.prototype=g(S.prototype),Object.defineProperty(V,"name",{value:S.name,writable:!1}),Object.defineProperty(V,"length",{value:S.length,writable:!1}),Object.assign(V,S),V},w.dependency=function(S,D,V,j,k){p(V===null||typeof V=="string",D,"key must be a strings"),k||(k=j.length>1&&typeof j[j.length-1]=="object"?j.pop():{}),y.assertOptions(k,["separator","isPresent"]),j=[].concat(j);const O=y.default(k.separator,"."),A=[];for(const I of j)p(typeof I=="string",D,"peers must be strings"),A.push(_.ref(I,{separator:O,ancestor:0,prefix:!1}));V!==null&&(V=_.ref(V,{separator:O,ancestor:0,prefix:!1}));const C=S.clone();return C.$_terms.dependencies=C.$_terms.dependencies||[],C.$_terms.dependencies.push(new w.Dependency(D,V,A,j,k)),C},w.dependencies={and(S,D,V,j,k){const O=[],A=[],C=D.peers.length,I=w.isPresent(D.options);for(const L of D.peers)I(L.resolve(V,j,k,null,{shadow:!1}))===!1?O.push(L.key):A.push(L.key);if(O.length!==C&&A.length!==C)return{code:"object.and",context:{present:A,presentWithLabels:w.keysToLabels(S,A),missing:O,missingWithLabels:w.keysToLabels(S,O)}}},nand(S,D,V,j,k){const O=[],A=w.isPresent(D.options);for(const L of D.peers)A(L.resolve(V,j,k,null,{shadow:!1}))&&O.push(L.key);if(O.length!==D.peers.length)return;const C=D.paths[0],I=D.paths.slice(1);return{code:"object.nand",context:{main:C,mainWithLabel:w.keysToLabels(S,C),peers:I,peersWithLabels:w.keysToLabels(S,I)}}},or(S,D,V,j,k){const O=w.isPresent(D.options);for(const A of D.peers)if(O(A.resolve(V,j,k,null,{shadow:!1})))return;return{code:"object.missing",context:{peers:D.paths,peersWithLabels:w.keysToLabels(S,D.paths)}}},oxor(S,D,V,j,k){const O=[],A=w.isPresent(D.options);for(const I of D.peers)A(I.resolve(V,j,k,null,{shadow:!1}))&&O.push(I.key);if(!O.length||O.length===1)return;const C={peers:D.paths,peersWithLabels:w.keysToLabels(S,D.paths)};return C.present=O,C.presentWithLabels=w.keysToLabels(S,O),{code:"object.oxor",context:C}},with(S,D,V,j,k){const O=w.isPresent(D.options);for(const A of D.peers)if(O(A.resolve(V,j,k,null,{shadow:!1}))===!1)return{code:"object.with",context:{main:D.key.key,mainWithLabel:w.keysToLabels(S,D.key.key),peer:A.key,peerWithLabel:w.keysToLabels(S,A.key)}}},without(S,D,V,j,k){const O=w.isPresent(D.options);for(const A of D.peers)if(O(A.resolve(V,j,k,null,{shadow:!1})))return{code:"object.without",context:{main:D.key.key,mainWithLabel:w.keysToLabels(S,D.key.key),peer:A.key,peerWithLabel:w.keysToLabels(S,A.key)}}},xor(S,D,V,j,k){const O=[],A=w.isPresent(D.options);for(const I of D.peers)A(I.resolve(V,j,k,null,{shadow:!1}))&&O.push(I.key);if(O.length===1)return;const C={peers:D.paths,peersWithLabels:w.keysToLabels(S,D.paths)};return O.length===0?{code:"object.missing",context:C}:(C.present=O,C.presentWithLabels=w.keysToLabels(S,O),{code:"object.xor",context:C})}},w.keysToLabels=function(S,D){return Array.isArray(D)?D.map(V=>S.$_mapLabels(V)):S.$_mapLabels(D)},w.isPresent=function(S){return typeof S.isPresent=="function"?S.isPresent:D=>D!==void 0},w.rename=function(S,D,V,j,k){const O={};for(const A of S.$_terms.renames){const C=[],I=typeof A.from!="string";if(I)for(const L in D){if(D[L]===void 0&&A.options.ignoreUndefined||L===A.to)continue;const $=A.from.exec(L);$&&C.push({from:L,to:A.to,match:$})}else!Object.prototype.hasOwnProperty.call(D,A.from)||D[A.from]===void 0&&A.options.ignoreUndefined||C.push(A);for(const L of C){const $=L.from;let U=L.to;if(U instanceof R&&(U=U.render(D,V,j,L.match)),$!==U){if(!A.options.multiple&&O[U]&&(k.push(S.$_createError("object.rename.multiple",D,{from:$,to:U,pattern:I},V,j)),j.abortEarly)||Object.prototype.hasOwnProperty.call(D,U)&&!A.options.override&&!O[U]&&(k.push(S.$_createError("object.rename.override",D,{from:$,to:U,pattern:I},V,j)),j.abortEarly))return!1;D[$]===void 0?delete D[U]:D[U]=D[$],O[U]=!0,A.options.alias||delete D[$]}}}return!0},w.unknown=function(S,D,V,j,k,O){if(S.$_terms.patterns){let A=!1;const C=S.$_terms.patterns.map(L=>{if(L.matches)return A=!0,[]}),I=[D,...k.ancestors];for(const L of V){const $=D[L],U=[...k.path,L];for(let de=0;de<S.$_terms.patterns.length;++de){const pe=S.$_terms.patterns[de];if(pe.regex){const ye=pe.regex.test(L);if(k.mainstay.tracer.debug(k,"rule",`pattern.${de}`,ye?"pass":"error"),!ye)continue}else if(!pe.schema.$_match(L,k.nest(pe.schema,`pattern.${de}`),O))continue;V.delete(L);const Q=k.localize(U,I,{schema:pe.rule,key:L}),se=pe.rule.$_validate($,Q,O);if(se.errors){if(O.abortEarly)return{value:D,errors:se.errors};j.push(...se.errors)}if(pe.matches&&C[de].push(L),D[L]=se.value,!pe.fallthrough)break}}if(A)for(let L=0;L<C.length;++L){const $=C[L];if(!$)continue;const U=S.$_terms.patterns[L].matches,de=k.localize(k.path,I,U),pe=U.$_validate($,de,O);if(pe.errors){const Q=v.details(pe.errors,{override:!1});Q.matches=$;const se=S.$_createError("object.pattern.match",D,Q,k,O);if(O.abortEarly)return{value:D,errors:se};j.push(se)}}}if(V.size&&(S.$_terms.keys||S.$_terms.patterns)){if(O.stripUnknown&&S._flags.unknown===void 0||O.skipFunctions){const A=!(!O.stripUnknown||O.stripUnknown!==!0&&!O.stripUnknown.objects);for(const C of V)A?(delete D[C],V.delete(C)):typeof D[C]=="function"&&V.delete(C)}if(!y.default(S._flags.unknown,O.allowUnknown))for(const A of V){const C=k.localize([...k.path,A],[]),I=S.$_createError("object.unknown",D[A],{child:A},C,O,{flags:!1});if(O.abortEarly)return{value:D,errors:I};j.push(I)}}},w.Dependency=class{constructor(S,D,V,j,k){this.rel=S,this.key=D,this.peers=V,this.paths=j,this.options=k}describe(){const S={rel:this.rel,peers:this.paths};return this.key!==null&&(S.key=this.key.key),this.peers[0].separator!=="."&&(S.options={...S.options,separator:this.peers[0].separator}),this.options.isPresent&&(S.options={...S.options,isPresent:this.options.isPresent}),S}},w.Keys=class extends Array{concat(S){const D=this.slice(),V=new Map;for(let j=0;j<D.length;++j)V.set(D[j].key,j);for(const j of S){const k=j.key,O=V.get(k);O!==void 0?D[O]={key:k,schema:D[O].schema.concat(j.schema)}:D.push(j)}return D}}},8785:(o,u,f)=>{const c=f(375),p=f(8068),g=f(8160),E=f(3292),d=f(6354),y={};o.exports=p.extend({type:"link",properties:{schemaChain:!0},terms:{link:{init:null,manifest:"single",register:!1}},args:(_,v)=>_.ref(v),validate(_,{schema:v,state:b,prefs:R}){c(v.$_terms.link,"Uninitialized link schema");const w=y.generate(v,_,b,R),S=v.$_terms.link[0].ref;return w.$_validate(_,b.nest(w,`link:${S.display}:${w.type}`),R)},generate:(_,v,b,R)=>y.generate(_,v,b,R),rules:{ref:{method(_){c(!this.$_terms.link,"Cannot reinitialize schema"),_=E.ref(_),c(_.type==="value"||_.type==="local","Invalid reference type:",_.type),c(_.type==="local"||_.ancestor==="root"||_.ancestor>0,"Link cannot reference itself");const v=this.clone();return v.$_terms.link=[{ref:_}],v}},relative:{method(_=!0){return this.$_setFlag("relative",_)}}},overrides:{concat(_){c(this.$_terms.link,"Uninitialized link schema"),c(g.isSchema(_),"Invalid schema object"),c(_.type!=="link","Cannot merge type link with another link");const v=this.clone();return v.$_terms.whens||(v.$_terms.whens=[]),v.$_terms.whens.push({concat:_}),v.$_mutateRebuild()}},manifest:{build:(_,v)=>(c(v.link,"Invalid link description missing link"),_.ref(v.link))}}),y.generate=function(_,v,b,R){let w=b.mainstay.links.get(_);if(w)return w._generate(v,b,R).schema;const S=_.$_terms.link[0].ref,{perspective:D,path:V}=y.perspective(S,b);y.assert(D,"which is outside of schema boundaries",S,_,b,R);try{w=V.length?D.$_reach(V):D}catch{y.assert(!1,"to non-existing schema",S,_,b,R)}return y.assert(w.type!=="link","which is another link",S,_,b,R),_._flags.relative||b.mainstay.links.set(_,w),w._generate(v,b,R).schema},y.perspective=function(_,v){if(_.type==="local"){for(const{schema:b,key:R}of v.schemas){if((b._flags.id||R)===_.path[0])return{perspective:b,path:_.path.slice(1)};if(b.$_terms.shared){for(const w of b.$_terms.shared)if(w._flags.id===_.path[0])return{perspective:w,path:_.path.slice(1)}}}return{perspective:null,path:null}}return _.ancestor==="root"?{perspective:v.schemas[v.schemas.length-1].schema,path:_.path}:{perspective:v.schemas[_.ancestor]&&v.schemas[_.ancestor].schema,path:_.path}},y.assert=function(_,v,b,R,w,S){_||c(!1,`"${d.label(R._flags,w,S)}" contains link reference "${b.display}" ${v}`)}},3832:(o,u,f)=>{const c=f(375),p=f(8068),g=f(8160),E={numberRx:/^\s*[+-]?(?:(?:\d+(?:\.\d*)?)|(?:\.\d+))(?:e([+-]?\d+))?\s*$/i,precisionRx:/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/,exponentialPartRegex:/[eE][+-]?\d+$/,leadingSignAndZerosRegex:/^[+-]?(0*)?/,dotRegex:/\./,trailingZerosRegex:/0+$/,decimalPlaces(d){const y=d.toString(),_=y.indexOf("."),v=y.indexOf("e");return(_<0?0:(v<0?y.length:v)-_-1)+(v<0?0:Math.max(0,-parseInt(y.slice(v+1))))}};o.exports=p.extend({type:"number",flags:{unsafe:{default:!1}},coerce:{from:"string",method(d,{schema:y,error:_}){if(!d.match(E.numberRx))return;d=d.trim();const v={value:parseFloat(d)};if(v.value===0&&(v.value=0),!y._flags.unsafe)if(d.match(/e/i)){if(E.extractSignificantDigits(d)!==E.extractSignificantDigits(String(v.value)))return v.errors=_("number.unsafe"),v}else{const b=v.value.toString();if(b.match(/e/i))return v;if(b!==E.normalizeDecimal(d))return v.errors=_("number.unsafe"),v}return v}},validate(d,{schema:y,error:_,prefs:v}){if(d===1/0||d===-1/0)return{value:d,errors:_("number.infinity")};if(!g.isNumber(d))return{value:d,errors:_("number.base")};const b={value:d};if(v.convert){const R=y.$_getRule("precision");if(R){const w=Math.pow(10,R.args.limit);b.value=Math.round(b.value*w)/w}}return b.value===0&&(b.value=0),!y._flags.unsafe&&(d>Number.MAX_SAFE_INTEGER||d<Number.MIN_SAFE_INTEGER)&&(b.errors=_("number.unsafe")),b},rules:{compare:{method:!1,validate:(d,y,{limit:_},{name:v,operator:b,args:R})=>g.compare(d,_,b)?d:y.error("number."+v,{limit:R.limit,value:d}),args:[{name:"limit",ref:!0,assert:g.isNumber,message:"must be a number"}]},greater:{method(d){return this.$_addRule({name:"greater",method:"compare",args:{limit:d},operator:">"})}},integer:{method(){return this.$_addRule("integer")},validate:(d,y)=>Math.trunc(d)-d==0?d:y.error("number.integer")},less:{method(d){return this.$_addRule({name:"less",method:"compare",args:{limit:d},operator:"<"})}},max:{method(d){return this.$_addRule({name:"max",method:"compare",args:{limit:d},operator:"<="})}},min:{method(d){return this.$_addRule({name:"min",method:"compare",args:{limit:d},operator:">="})}},multiple:{method(d){const y=typeof d=="number"?E.decimalPlaces(d):null,_=Math.pow(10,y);return this.$_addRule({name:"multiple",args:{base:d,baseDecimalPlace:y,pfactor:_}})},validate:(d,y,{base:_,baseDecimalPlace:v,pfactor:b},R)=>E.decimalPlaces(d)>v?y.error("number.multiple",{multiple:R.args.base,value:d}):Math.round(b*d)%Math.round(b*_)==0?d:y.error("number.multiple",{multiple:R.args.base,value:d}),args:[{name:"base",ref:!0,assert:d=>typeof d=="number"&&isFinite(d)&&d>0,message:"must be a positive number"},"baseDecimalPlace","pfactor"],multi:!0},negative:{method(){return this.sign("negative")}},port:{method(){return this.$_addRule("port")},validate:(d,y)=>Number.isSafeInteger(d)&&d>=0&&d<=65535?d:y.error("number.port")},positive:{method(){return this.sign("positive")}},precision:{method(d){return c(Number.isSafeInteger(d),"limit must be an integer"),this.$_addRule({name:"precision",args:{limit:d}})},validate(d,y,{limit:_}){const v=d.toString().match(E.precisionRx);return Math.max((v[1]?v[1].length:0)-(v[2]?parseInt(v[2],10):0),0)<=_?d:y.error("number.precision",{limit:_,value:d})},convert:!0},sign:{method(d){return c(["negative","positive"].includes(d),"Invalid sign",d),this.$_addRule({name:"sign",args:{sign:d}})},validate:(d,y,{sign:_})=>_==="negative"&&d<0||_==="positive"&&d>0?d:y.error(`number.${_}`)},unsafe:{method(d=!0){return c(typeof d=="boolean","enabled must be a boolean"),this.$_setFlag("unsafe",d)}}},cast:{string:{from:d=>typeof d=="number",to:(d,y)=>d.toString()}},messages:{"number.base":"{{#label}} must be a number","number.greater":"{{#label}} must be greater than {{#limit}}","number.infinity":"{{#label}} cannot be infinity","number.integer":"{{#label}} must be an integer","number.less":"{{#label}} must be less than {{#limit}}","number.max":"{{#label}} must be less than or equal to {{#limit}}","number.min":"{{#label}} must be greater than or equal to {{#limit}}","number.multiple":"{{#label}} must be a multiple of {{#multiple}}","number.negative":"{{#label}} must be a negative number","number.port":"{{#label}} must be a valid port","number.positive":"{{#label}} must be a positive number","number.precision":"{{#label}} must have no more than {{#limit}} decimal places","number.unsafe":"{{#label}} must be a safe number"}}),E.extractSignificantDigits=function(d){return d.replace(E.exponentialPartRegex,"").replace(E.dotRegex,"").replace(E.trailingZerosRegex,"").replace(E.leadingSignAndZerosRegex,"")},E.normalizeDecimal=function(d){return(d=d.replace(/^\+/,"").replace(/\.0*$/,"").replace(/^(-?)\.([^\.]*)$/,"$10.$2").replace(/^(-?)0+([0-9])/,"$1$2")).includes(".")&&d.endsWith("0")&&(d=d.replace(/0+$/,"")),d==="-0"?"0":d}},8966:(o,u,f)=>{const c=f(7824);o.exports=c.extend({type:"object",cast:{map:{from:p=>p&&typeof p=="object",to:(p,g)=>new Map(Object.entries(p))}}})},7417:(o,u,f)=>{const c=f(375),p=f(5380),g=f(1745),E=f(9959),d=f(6064),y=f(9926),_=f(5752),v=f(8068),b=f(8160),R={tlds:y instanceof Set&&{tlds:{allow:y,deny:null}},base64Regex:{true:{true:/^(?:[\w\-]{2}[\w\-]{2})*(?:[\w\-]{2}==|[\w\-]{3}=)?$/,false:/^(?:[A-Za-z0-9+\/]{2}[A-Za-z0-9+\/]{2})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=)?$/},false:{true:/^(?:[\w\-]{2}[\w\-]{2})*(?:[\w\-]{2}(==)?|[\w\-]{3}=?)?$/,false:/^(?:[A-Za-z0-9+\/]{2}[A-Za-z0-9+\/]{2})*(?:[A-Za-z0-9+\/]{2}(==)?|[A-Za-z0-9+\/]{3}=?)?$/}},dataUriRegex:/^data:[\w+.-]+\/[\w+.-]+;((charset=[\w-]+|base64),)?(.*)$/,hexRegex:{withPrefix:/^0x[0-9a-f]+$/i,withOptionalPrefix:/^(?:0x)?[0-9a-f]+$/i,withoutPrefix:/^[0-9a-f]+$/i},ipRegex:E.regex({cidr:"forbidden"}).regex,isoDurationRegex:/^P(?!$)(\d+Y)?(\d+M)?(\d+W)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?$/,guidBrackets:{"{":"}","[":"]","(":")","":""},guidVersions:{uuidv1:"1",uuidv2:"2",uuidv3:"3",uuidv4:"4",uuidv5:"5",uuidv6:"6",uuidv7:"7",uuidv8:"8"},guidSeparators:new Set([void 0,!0,!1,"-",":"]),normalizationForms:["NFC","NFD","NFKC","NFKD"]};o.exports=v.extend({type:"string",flags:{insensitive:{default:!1},truncate:{default:!1}},terms:{replacements:{init:null}},coerce:{from:"string",method(w,{schema:S,state:D,prefs:V}){const j=S.$_getRule("normalize");j&&(w=w.normalize(j.args.form));const k=S.$_getRule("case");k&&(w=k.args.direction==="upper"?w.toLocaleUpperCase():w.toLocaleLowerCase());const O=S.$_getRule("trim");if(O&&O.args.enabled&&(w=w.trim()),S.$_terms.replacements)for(const C of S.$_terms.replacements)w=w.replace(C.pattern,C.replacement);const A=S.$_getRule("hex");if(A&&A.args.options.byteAligned&&w.length%2!=0&&(w=`0${w}`),S.$_getRule("isoDate")){const C=R.isoDate(w);C&&(w=C)}if(S._flags.truncate){const C=S.$_getRule("max");if(C){let I=C.args.limit;if(b.isResolvable(I)&&(I=I.resolve(w,D,V),!b.limit(I)))return{value:w,errors:S.$_createError("any.ref",I,{ref:C.args.limit,arg:"limit",reason:"must be a positive integer"},D,V)};w=w.slice(0,I)}}return{value:w}}},validate(w,{schema:S,error:D}){if(typeof w!="string")return{value:w,errors:D("string.base")};if(w===""){const V=S.$_getRule("min");return V&&V.args.limit===0?void 0:{value:w,errors:D("string.empty")}}},rules:{alphanum:{method(){return this.$_addRule("alphanum")},validate:(w,S)=>/^[a-zA-Z0-9]+$/.test(w)?w:S.error("string.alphanum")},base64:{method(w={}){return b.assertOptions(w,["paddingRequired","urlSafe"]),w={urlSafe:!1,paddingRequired:!0,...w},c(typeof w.paddingRequired=="boolean","paddingRequired must be boolean"),c(typeof w.urlSafe=="boolean","urlSafe must be boolean"),this.$_addRule({name:"base64",args:{options:w}})},validate:(w,S,{options:D})=>R.base64Regex[D.paddingRequired][D.urlSafe].test(w)?w:S.error("string.base64")},case:{method(w){return c(["lower","upper"].includes(w),"Invalid case:",w),this.$_addRule({name:"case",args:{direction:w}})},validate:(w,S,{direction:D})=>D==="lower"&&w===w.toLocaleLowerCase()||D==="upper"&&w===w.toLocaleUpperCase()?w:S.error(`string.${D}case`),convert:!0},creditCard:{method(){return this.$_addRule("creditCard")},validate(w,S){let D=w.length,V=0,j=1;for(;D--;){const k=w.charAt(D)*j;V+=k-9*(k>9),j^=3}return V>0&&V%10==0?w:S.error("string.creditCard")}},dataUri:{method(w={}){return b.assertOptions(w,["paddingRequired"]),w={paddingRequired:!0,...w},c(typeof w.paddingRequired=="boolean","paddingRequired must be boolean"),this.$_addRule({name:"dataUri",args:{options:w}})},validate(w,S,{options:D}){const V=w.match(R.dataUriRegex);return V&&(!V[2]||V[2]!=="base64"||R.base64Regex[D.paddingRequired].false.test(V[3]))?w:S.error("string.dataUri")}},domain:{method(w){w&&b.assertOptions(w,["allowFullyQualified","allowUnicode","maxDomainSegments","minDomainSegments","tlds"]);const S=R.addressOptions(w);return this.$_addRule({name:"domain",args:{options:w},address:S})},validate:(w,S,D,{address:V})=>p.isValid(w,V)?w:S.error("string.domain")},email:{method(w={}){b.assertOptions(w,["allowFullyQualified","allowUnicode","ignoreLength","maxDomainSegments","minDomainSegments","multiple","separator","tlds"]),c(w.multiple===void 0||typeof w.multiple=="boolean","multiple option must be an boolean");const S=R.addressOptions(w),D=new RegExp(`\\s*[${w.separator?d(w.separator):","}]\\s*`);return this.$_addRule({name:"email",args:{options:w},regex:D,address:S})},validate(w,S,{options:D},{regex:V,address:j}){const k=D.multiple?w.split(V):[w],O=[];for(const A of k)g.isValid(A,j)||O.push(A);return O.length?S.error("string.email",{value:w,invalids:O}):w}},guid:{alias:"uuid",method(w={}){b.assertOptions(w,["version","separator"]);let S="";if(w.version){const j=[].concat(w.version);c(j.length>=1,"version must have at least 1 valid version specified");const k=new Set;for(let O=0;O<j.length;++O){const A=j[O];c(typeof A=="string","version at position "+O+" must be a string");const C=R.guidVersions[A.toLowerCase()];c(C,"version at position "+O+" must be one of "+Object.keys(R.guidVersions).join(", ")),c(!k.has(C),"version at position "+O+" must not be a duplicate"),S+=C,k.add(C)}}c(R.guidSeparators.has(w.separator),'separator must be one of true, false, "-", or ":"');const D=w.separator===void 0?"[:-]?":w.separator===!0?"[:-]":w.separator===!1?"[]?":`\\${w.separator}`,V=new RegExp(`^([\\[{\\(]?)[0-9A-F]{8}(${D})[0-9A-F]{4}\\2?[${S||"0-9A-F"}][0-9A-F]{3}\\2?[${S?"89AB":"0-9A-F"}][0-9A-F]{3}\\2?[0-9A-F]{12}([\\]}\\)]?)$`,"i");return this.$_addRule({name:"guid",args:{options:w},regex:V})},validate(w,S,D,{regex:V}){const j=V.exec(w);return j?R.guidBrackets[j[1]]!==j[j.length-1]?S.error("string.guid"):w:S.error("string.guid")}},hex:{method(w={}){return b.assertOptions(w,["byteAligned","prefix"]),w={byteAligned:!1,prefix:!1,...w},c(typeof w.byteAligned=="boolean","byteAligned must be boolean"),c(typeof w.prefix=="boolean"||w.prefix==="optional",'prefix must be boolean or "optional"'),this.$_addRule({name:"hex",args:{options:w}})},validate:(w,S,{options:D})=>(D.prefix==="optional"?R.hexRegex.withOptionalPrefix:D.prefix===!0?R.hexRegex.withPrefix:R.hexRegex.withoutPrefix).test(w)?D.byteAligned&&w.length%2!=0?S.error("string.hexAlign"):w:S.error("string.hex")},hostname:{method(){return this.$_addRule("hostname")},validate:(w,S)=>p.isValid(w,{minDomainSegments:1})||R.ipRegex.test(w)?w:S.error("string.hostname")},insensitive:{method(){return this.$_setFlag("insensitive",!0)}},ip:{method(w={}){b.assertOptions(w,["cidr","version"]);const{cidr:S,versions:D,regex:V}=E.regex(w),j=w.version?D:void 0;return this.$_addRule({name:"ip",args:{options:{cidr:S,version:j}},regex:V})},validate:(w,S,{options:D},{regex:V})=>V.test(w)?w:D.version?S.error("string.ipVersion",{value:w,cidr:D.cidr,version:D.version}):S.error("string.ip",{value:w,cidr:D.cidr})},isoDate:{method(){return this.$_addRule("isoDate")},validate:(w,{error:S})=>R.isoDate(w)?w:S("string.isoDate")},isoDuration:{method(){return this.$_addRule("isoDuration")},validate:(w,S)=>R.isoDurationRegex.test(w)?w:S.error("string.isoDuration")},length:{method(w,S){return R.length(this,"length",w,"=",S)},validate(w,S,{limit:D,encoding:V},{name:j,operator:k,args:O}){const A=!V&&w.length;return b.compare(A,D,k)?w:S.error("string."+j,{limit:O.limit,value:w,encoding:V})},args:[{name:"limit",ref:!0,assert:b.limit,message:"must be a positive integer"},"encoding"]},lowercase:{method(){return this.case("lower")}},max:{method(w,S){return R.length(this,"max",w,"<=",S)},args:["limit","encoding"]},min:{method(w,S){return R.length(this,"min",w,">=",S)},args:["limit","encoding"]},normalize:{method(w="NFC"){return c(R.normalizationForms.includes(w),"normalization form must be one of "+R.normalizationForms.join(", ")),this.$_addRule({name:"normalize",args:{form:w}})},validate:(w,{error:S},{form:D})=>w===w.normalize(D)?w:S("string.normalize",{value:w,form:D}),convert:!0},pattern:{alias:"regex",method(w,S={}){c(w instanceof RegExp,"regex must be a RegExp"),c(!w.flags.includes("g")&&!w.flags.includes("y"),"regex should not use global or sticky mode"),typeof S=="string"&&(S={name:S}),b.assertOptions(S,["invert","name"]);const D=["string.pattern",S.invert?".invert":"",S.name?".name":".base"].join("");return this.$_addRule({name:"pattern",args:{regex:w,options:S},errorCode:D})},validate:(w,S,{regex:D,options:V},{errorCode:j})=>D.test(w)^V.invert?w:S.error(j,{name:V.name,regex:D,value:w}),args:["regex","options"],multi:!0},replace:{method(w,S){typeof w=="string"&&(w=new RegExp(d(w),"g")),c(w instanceof RegExp,"pattern must be a RegExp"),c(typeof S=="string","replacement must be a String");const D=this.clone();return D.$_terms.replacements||(D.$_terms.replacements=[]),D.$_terms.replacements.push({pattern:w,replacement:S}),D}},token:{method(){return this.$_addRule("token")},validate:(w,S)=>/^\w+$/.test(w)?w:S.error("string.token")},trim:{method(w=!0){return c(typeof w=="boolean","enabled must be a boolean"),this.$_addRule({name:"trim",args:{enabled:w}})},validate:(w,S,{enabled:D})=>D&&w!==w.trim()?S.error("string.trim"):w,convert:!0},truncate:{method(w=!0){return c(typeof w=="boolean","enabled must be a boolean"),this.$_setFlag("truncate",w)}},uppercase:{method(){return this.case("upper")}},uri:{method(w={}){b.assertOptions(w,["allowRelative","allowQuerySquareBrackets","domain","relativeOnly","scheme","encodeUri"]),w.domain&&b.assertOptions(w.domain,["allowFullyQualified","allowUnicode","maxDomainSegments","minDomainSegments","tlds"]);const{regex:S,scheme:D}=_.regex(w),V=w.domain?R.addressOptions(w.domain):null;return this.$_addRule({name:"uri",args:{options:w},regex:S,domain:V,scheme:D})},validate(w,S,{options:D},{regex:V,domain:j,scheme:k}){if(["http:/","https:/"].includes(w))return S.error("string.uri");let O=V.exec(w);if(!O&&S.prefs.convert&&D.encodeUri){const A=encodeURI(w);O=V.exec(A),O&&(w=A)}if(O){const A=O[1]||O[2];return!j||D.allowRelative&&!A||p.isValid(A,j)?w:S.error("string.domain",{value:A})}return D.relativeOnly?S.error("string.uriRelativeOnly"):D.scheme?S.error("string.uriCustomScheme",{scheme:k,value:w}):S.error("string.uri")}}},manifest:{build(w,S){if(S.replacements)for(const{pattern:D,replacement:V}of S.replacements)w=w.replace(D,V);return w}},messages:{"string.alphanum":"{{#label}} must only contain alpha-numeric characters","string.base":"{{#label}} must be a string","string.base64":"{{#label}} must be a valid base64 string","string.creditCard":"{{#label}} must be a credit card","string.dataUri":"{{#label}} must be a valid dataUri string","string.domain":"{{#label}} must contain a valid domain name","string.email":"{{#label}} must be a valid email","string.empty":"{{#label}} is not allowed to be empty","string.guid":"{{#label}} must be a valid GUID","string.hex":"{{#label}} must only contain hexadecimal characters","string.hexAlign":"{{#label}} hex decoded representation must be byte aligned","string.hostname":"{{#label}} must be a valid hostname","string.ip":"{{#label}} must be a valid ip address with a {{#cidr}} CIDR","string.ipVersion":"{{#label}} must be a valid ip address of one of the following versions {{#version}} with a {{#cidr}} CIDR","string.isoDate":"{{#label}} must be in iso format","string.isoDuration":"{{#label}} must be a valid ISO 8601 duration","string.length":"{{#label}} length must be {{#limit}} characters long","string.lowercase":"{{#label}} must only contain lowercase characters","string.max":"{{#label}} length must be less than or equal to {{#limit}} characters long","string.min":"{{#label}} length must be at least {{#limit}} characters long","string.normalize":"{{#label}} must be unicode normalized in the {{#form}} form","string.token":"{{#label}} must only contain alpha-numeric and underscore characters","string.pattern.base":"{{#label}} with value {:[.]} fails to match the required pattern: {{#regex}}","string.pattern.name":"{{#label}} with value {:[.]} fails to match the {{#name}} pattern","string.pattern.invert.base":"{{#label}} with value {:[.]} matches the inverted pattern: {{#regex}}","string.pattern.invert.name":"{{#label}} with value {:[.]} matches the inverted {{#name}} pattern","string.trim":"{{#label}} must not have leading or trailing whitespace","string.uri":"{{#label}} must be a valid uri","string.uriCustomScheme":"{{#label}} must be a valid uri with a scheme matching the {{#scheme}} pattern","string.uriRelativeOnly":"{{#label}} must be a valid relative uri","string.uppercase":"{{#label}} must only contain uppercase characters"}}),R.addressOptions=function(w){if(!w)return R.tlds||w;if(c(w.minDomainSegments===void 0||Number.isSafeInteger(w.minDomainSegments)&&w.minDomainSegments>0,"minDomainSegments must be a positive integer"),c(w.maxDomainSegments===void 0||Number.isSafeInteger(w.maxDomainSegments)&&w.maxDomainSegments>0,"maxDomainSegments must be a positive integer"),w.tlds===!1)return w;if(w.tlds===!0||w.tlds===void 0)return c(R.tlds,"Built-in TLD list disabled"),Object.assign({},w,R.tlds);c(typeof w.tlds=="object","tlds must be true, false, or an object");const S=w.tlds.deny;if(S)return Array.isArray(S)&&(w=Object.assign({},w,{tlds:{deny:new Set(S)}})),c(w.tlds.deny instanceof Set,"tlds.deny must be an array, Set, or boolean"),c(!w.tlds.allow,"Cannot specify both tlds.allow and tlds.deny lists"),R.validateTlds(w.tlds.deny,"tlds.deny"),w;const D=w.tlds.allow;return D?D===!0?(c(R.tlds,"Built-in TLD list disabled"),Object.assign({},w,R.tlds)):(Array.isArray(D)&&(w=Object.assign({},w,{tlds:{allow:new Set(D)}})),c(w.tlds.allow instanceof Set,"tlds.allow must be an array, Set, or boolean"),R.validateTlds(w.tlds.allow,"tlds.allow"),w):w},R.validateTlds=function(w,S){for(const D of w)c(p.isValid(D,{minDomainSegments:1,maxDomainSegments:1}),`${S} must contain valid top level domain names`)},R.isoDate=function(w){if(!b.isIsoDate(w))return null;/.*T.*[+-]\d\d$/.test(w)&&(w+="00");const S=new Date(w);return isNaN(S.getTime())?null:S.toISOString()},R.length=function(w,S,D,V,j){return c(!j||!1,"Invalid encoding:",j),w.$_addRule({name:S,method:"length",args:{limit:D,encoding:j},operator:V})}},8826:(o,u,f)=>{const c=f(375),p=f(8068),g={};g.Map=class extends Map{slice(){return new g.Map(this)}},o.exports=p.extend({type:"symbol",terms:{map:{init:new g.Map}},coerce:{method(E,{schema:d,error:y}){const _=d.$_terms.map.get(E);return _&&(E=_),d._flags.only&&typeof E!="symbol"?{value:E,errors:y("symbol.map",{map:d.$_terms.map})}:{value:E}}},validate(E,{error:d}){if(typeof E!="symbol")return{value:E,errors:d("symbol.base")}},rules:{map:{method(E){E&&!E[Symbol.iterator]&&typeof E=="object"&&(E=Object.entries(E)),c(E&&E[Symbol.iterator],"Iterable must be an iterable or object");const d=this.clone(),y=[];for(const _ of E){c(_&&_[Symbol.iterator],"Entry must be an iterable");const[v,b]=_;c(typeof v!="object"&&typeof v!="function"&&typeof v!="symbol","Key must not be of type object, function, or Symbol"),c(typeof b=="symbol","Value must be a Symbol"),d.$_terms.map.set(v,b),y.push(b)}return d.valid(...y)}}},manifest:{build:(E,d)=>(d.map&&(E=E.map(d.map)),E)},messages:{"symbol.base":"{{#label}} must be a symbol","symbol.map":"{{#label}} must be one of {{#map}}"}})},8863:(o,u,f)=>{const c=f(375),p=f(8571),g=f(738),E=f(9621),d=f(8160),y=f(6354),_=f(493),v={result:Symbol("result")};u.entry=function(b,R,w){let S=d.defaults;w&&(c(w.warnings===void 0,"Cannot override warnings preference in synchronous validation"),c(w.artifacts===void 0,"Cannot override artifacts preference in synchronous validation"),S=d.preferences(d.defaults,w));const D=v.entry(b,R,S);c(!D.mainstay.externals.length,"Schema with external rules must use validateAsync()");const V={value:D.value};return D.error&&(V.error=D.error),D.mainstay.warnings.length&&(V.warning=y.details(D.mainstay.warnings)),D.mainstay.debug&&(V.debug=D.mainstay.debug),D.mainstay.artifacts&&(V.artifacts=D.mainstay.artifacts),V},u.entryAsync=async function(b,R,w){let S=d.defaults;w&&(S=d.preferences(d.defaults,w));const D=v.entry(b,R,S),V=D.mainstay;if(D.error)throw V.debug&&(D.error.debug=V.debug),D.error;if(V.externals.length){let k=D.value;const O=[];for(const A of V.externals){const C=A.state.path,I=A.schema.type==="link"?V.links.get(A.schema):null;let L,$,U=k;const de=C.length?[k]:[],pe=C.length?E(b,C):b;if(C.length){L=C[C.length-1];let Q=k;for(const se of C.slice(0,-1))Q=Q[se],de.unshift(Q);$=de[0],U=$[L]}try{const Q=(ye,Ce)=>(I||A.schema).$_createError(ye,U,Ce,A.state,S),se=await A.method(U,{schema:A.schema,linked:I,state:A.state,prefs:w,original:pe,error:Q,errorsArray:v.errorsArray,warn:(ye,Ce)=>V.warnings.push((I||A.schema).$_createError(ye,U,Ce,A.state,S)),message:(ye,Ce)=>(I||A.schema).$_createError("external",U,Ce,A.state,S,{messages:ye})});if(se===void 0||se===U)continue;if(se instanceof y.Report){if(V.tracer.log(A.schema,A.state,"rule","external","error"),O.push(se),S.abortEarly)break;continue}if(Array.isArray(se)&&se[d.symbols.errors]){if(V.tracer.log(A.schema,A.state,"rule","external","error"),O.push(...se),S.abortEarly)break;continue}$?(V.tracer.value(A.state,"rule",U,se,"external"),$[L]=se):(V.tracer.value(A.state,"rule",k,se,"external"),k=se)}catch(Q){throw S.errors.label&&(Q.message+=` (${A.label})`),Q}}if(D.value=k,O.length)throw D.error=y.process(O,b,S),V.debug&&(D.error.debug=V.debug),D.error}if(!S.warnings&&!S.debug&&!S.artifacts)return D.value;const j={value:D.value};return V.warnings.length&&(j.warning=y.details(V.warnings)),V.debug&&(j.debug=V.debug),V.artifacts&&(j.artifacts=V.artifacts),j},v.Mainstay=class{constructor(b,R,w){this.externals=[],this.warnings=[],this.tracer=b,this.debug=R,this.links=w,this.shadow=null,this.artifacts=null,this._snapshots=[]}snapshot(){this._snapshots.push({externals:this.externals.slice(),warnings:this.warnings.slice()})}restore(){const b=this._snapshots.pop();this.externals=b.externals,this.warnings=b.warnings}commit(){this._snapshots.pop()}},v.entry=function(b,R,w){const{tracer:S,cleanup:D}=v.tracer(R,w),V=w.debug?[]:null,j=R._ids._schemaChain?new Map:null,k=new v.Mainstay(S,V,j),O=R._ids._schemaChain?[{schema:R}]:null,A=new _([],[],{mainstay:k,schemas:O}),C=u.validate(b,R,A,w);D&&R.$_root.untrace();const I=y.process(C.errors,b,w);return{value:C.value,error:I,mainstay:k}},v.tracer=function(b,R){return b.$_root._tracer?{tracer:b.$_root._tracer._register(b)}:R.debug?(c(b.$_root.trace,"Debug mode not supported"),{tracer:b.$_root.trace()._register(b),cleanup:!0}):{tracer:v.ignore}},u.validate=function(b,R,w,S,D={}){if(R.$_terms.whens&&(R=R._generate(b,w,S).schema),R._preferences&&(S=v.prefs(R,S)),R._cache&&S.cache){const I=R._cache.get(b);if(w.mainstay.tracer.debug(w,"validate","cached",!!I),I)return I}const V=(I,L,$)=>R.$_createError(I,b,L,$||w,S),j={original:b,prefs:S,schema:R,state:w,error:V,errorsArray:v.errorsArray,warn:(I,L,$)=>w.mainstay.warnings.push(V(I,L,$)),message:(I,L)=>R.$_createError("custom",b,L,w,S,{messages:I})};w.mainstay.tracer.entry(R,w);const k=R._definition;if(k.prepare&&b!==void 0&&S.convert){const I=k.prepare(b,j);if(I){if(w.mainstay.tracer.value(w,"prepare",b,I.value),I.errors)return v.finalize(I.value,[].concat(I.errors),j);b=I.value}}if(k.coerce&&b!==void 0&&S.convert&&(!k.coerce.from||k.coerce.from.includes(typeof b))){const I=k.coerce.method(b,j);if(I){if(w.mainstay.tracer.value(w,"coerced",b,I.value),I.errors)return v.finalize(I.value,[].concat(I.errors),j);b=I.value}}const O=R._flags.empty;O&&O.$_match(v.trim(b,R),w.nest(O),d.defaults)&&(w.mainstay.tracer.value(w,"empty",b,void 0),b=void 0);const A=D.presence||R._flags.presence||(R._flags._endedSwitch?null:S.presence);if(b===void 0){if(A==="forbidden")return v.finalize(b,null,j);if(A==="required")return v.finalize(b,[R.$_createError("any.required",b,null,w,S)],j);if(A==="optional"){if(R._flags.default!==d.symbols.deepDefault)return v.finalize(b,null,j);w.mainstay.tracer.value(w,"default",b,{}),b={}}}else if(A==="forbidden")return v.finalize(b,[R.$_createError("any.unknown",b,null,w,S)],j);const C=[];if(R._valids){const I=R._valids.get(b,w,S,R._flags.insensitive);if(I)return S.convert&&(w.mainstay.tracer.value(w,"valids",b,I.value),b=I.value),w.mainstay.tracer.filter(R,w,"valid",I),v.finalize(b,null,j);if(R._flags.only){const L=R.$_createError("any.only",b,{valids:R._valids.values({display:!0})},w,S);if(S.abortEarly)return v.finalize(b,[L],j);C.push(L)}}if(R._invalids){const I=R._invalids.get(b,w,S,R._flags.insensitive);if(I){w.mainstay.tracer.filter(R,w,"invalid",I);const L=R.$_createError("any.invalid",b,{invalids:R._invalids.values({display:!0})},w,S);if(S.abortEarly)return v.finalize(b,[L],j);C.push(L)}}if(k.validate){const I=k.validate(b,j);if(I&&(w.mainstay.tracer.value(w,"base",b,I.value),b=I.value,I.errors)){if(!Array.isArray(I.errors))return C.push(I.errors),v.finalize(b,C,j);if(I.errors.length)return C.push(...I.errors),v.finalize(b,C,j)}}return R._rules.length?v.rules(b,C,j):v.finalize(b,C,j)},v.rules=function(b,R,w){const{schema:S,state:D,prefs:V}=w;for(const j of S._rules){const k=S._definition.rules[j.method];if(k.convert&&V.convert){D.mainstay.tracer.log(S,D,"rule",j.name,"full");continue}let O,A=j.args;if(j._resolve.length){A=Object.assign({},A);for(const I of j._resolve){const L=k.argsByName.get(I),$=A[I].resolve(b,D,V),U=L.normalize?L.normalize($):$,de=d.validateArg(U,null,L);if(de){O=S.$_createError("any.ref",$,{arg:I,ref:A[I],reason:de},D,V);break}A[I]=U}}O=O||k.validate(b,w,A,j);const C=v.rule(O,j);if(C.errors){if(D.mainstay.tracer.log(S,D,"rule",j.name,"error"),j.warn){D.mainstay.warnings.push(...C.errors);continue}if(V.abortEarly)return v.finalize(b,C.errors,w);R.push(...C.errors)}else D.mainstay.tracer.log(S,D,"rule",j.name,"pass"),D.mainstay.tracer.value(D,"rule",b,C.value,j.name),b=C.value}return v.finalize(b,R,w)},v.rule=function(b,R){return b instanceof y.Report?(v.error(b,R),{errors:[b],value:null}):Array.isArray(b)&&b[d.symbols.errors]?(b.forEach(w=>v.error(w,R)),{errors:b,value:null}):{errors:null,value:b}},v.error=function(b,R){return R.message&&b._setTemplate(R.message),b},v.finalize=function(b,R,w){R=R||[];const{schema:S,state:D,prefs:V}=w;if(R.length){const k=v.default("failover",void 0,R,w);k!==void 0&&(D.mainstay.tracer.value(D,"failover",b,k),b=k,R=[])}if(R.length&&S._flags.error)if(typeof S._flags.error=="function"){R=S._flags.error(R),Array.isArray(R)||(R=[R]);for(const k of R)c(k instanceof Error||k instanceof y.Report,"error() must return an Error object")}else R=[S._flags.error];if(b===void 0){const k=v.default("default",b,R,w);D.mainstay.tracer.value(D,"default",b,k),b=k}if(S._flags.cast&&b!==void 0){const k=S._definition.cast[S._flags.cast];if(k.from(b)){const O=k.to(b,w);D.mainstay.tracer.value(D,"cast",b,O,S._flags.cast),b=O}}if(S.$_terms.externals&&V.externals&&V._externals!==!1)for(const{method:k}of S.$_terms.externals)D.mainstay.externals.push({method:k,schema:S,state:D,label:y.label(S._flags,D,V)});const j={value:b,errors:R.length?R:null};return S._flags.result&&(j.value=S._flags.result==="strip"?void 0:w.original,D.mainstay.tracer.value(D,S._flags.result,b,j.value),D.shadow(b,S._flags.result)),S._cache&&V.cache!==!1&&!S._refs.length&&S._cache.set(w.original,j),b===void 0||j.errors||S._flags.artifact===void 0||(D.mainstay.artifacts=D.mainstay.artifacts||new Map,D.mainstay.artifacts.has(S._flags.artifact)||D.mainstay.artifacts.set(S._flags.artifact,[]),D.mainstay.artifacts.get(S._flags.artifact).push(D.path)),j},v.prefs=function(b,R){const w=R===d.defaults;return w&&b._preferences[d.symbols.prefs]?b._preferences[d.symbols.prefs]:(R=d.preferences(R,b._preferences),w&&(b._preferences[d.symbols.prefs]=R),R)},v.default=function(b,R,w,S){const{schema:D,state:V,prefs:j}=S,k=D._flags[b];if(j.noDefaults||k===void 0)return R;if(V.mainstay.tracer.log(D,V,"rule",b,"full"),!k)return k;if(typeof k=="function"){const O=k.length?[p(V.ancestors[0]),S]:[];try{return k(...O)}catch(A){return void w.push(D.$_createError(`any.${b}`,null,{error:A},V,j))}}return typeof k!="object"?k:k[d.symbols.literal]?k.literal:d.isResolvable(k)?k.resolve(R,V,j):p(k)},v.trim=function(b,R){if(typeof b!="string")return b;const w=R.$_getRule("trim");return w&&w.args.enabled?b.trim():b},v.ignore={active:!1,debug:g,entry:g,filter:g,log:g,resolve:g,value:g},v.errorsArray=function(){const b=[];return b[d.symbols.errors]=!0,b}},2036:(o,u,f)=>{const c=f(375),p=f(9474),g=f(8160),E={};o.exports=E.Values=class{constructor(d,y){this._values=new Set(d),this._refs=new Set(y),this._lowercase=E.lowercases(d),this._override=!1}get length(){return this._values.size+this._refs.size}add(d,y){g.isResolvable(d)?this._refs.has(d)||(this._refs.add(d),y&&y.register(d)):this.has(d,null,null,!1)||(this._values.add(d),typeof d=="string"&&this._lowercase.set(d.toLowerCase(),d))}static merge(d,y,_){if(d=d||new E.Values,y){if(y._override)return y.clone();for(const v of[...y._values,...y._refs])d.add(v)}if(_)for(const v of[..._._values,..._._refs])d.remove(v);return d.length?d:null}remove(d){g.isResolvable(d)?this._refs.delete(d):(this._values.delete(d),typeof d=="string"&&this._lowercase.delete(d.toLowerCase()))}has(d,y,_,v){return!!this.get(d,y,_,v)}get(d,y,_,v){if(!this.length)return!1;if(this._values.has(d))return{value:d};if(typeof d=="string"&&d&&v){const b=this._lowercase.get(d.toLowerCase());if(b)return{value:b}}if(!this._refs.size&&typeof d!="object")return!1;if(typeof d=="object"){for(const b of this._values)if(p(b,d))return{value:b}}if(y)for(const b of this._refs){const R=b.resolve(d,y,_,null,{in:!0});if(R===void 0)continue;const w=b.in&&typeof R=="object"?Array.isArray(R)?R:Object.keys(R):[R];for(const S of w)if(typeof S==typeof d){if(v&&d&&typeof d=="string"){if(S.toLowerCase()===d.toLowerCase())return{value:S,ref:b}}else if(p(S,d))return{value:S,ref:b}}}return!1}override(){this._override=!0}values(d){if(d&&d.display){const y=[];for(const _ of[...this._values,...this._refs])_!==void 0&&y.push(_);return y}return Array.from([...this._values,...this._refs])}clone(){const d=new E.Values(this._values,this._refs);return d._override=this._override,d}concat(d){c(!d._override,"Cannot concat override set of values");const y=new E.Values([...this._values,...d._values],[...this._refs,...d._refs]);return y._override=this._override,y}describe(){const d=[];this._override&&d.push({override:!0});for(const y of this._values.values())d.push(y&&typeof y=="object"?{value:y}:y);for(const y of this._refs.values())d.push(y.describe());return d}},E.Values.prototype[g.symbols.values]=!0,E.Values.prototype.slice=E.Values.prototype.clone,E.lowercases=function(d){const y=new Map;if(d)for(const _ of d)typeof _=="string"&&y.set(_.toLowerCase(),_);return y}},978:(o,u,f)=>{const c=f(375),p=f(8571),g=f(1687),E=f(9621),d={};o.exports=function(y,_,v={}){if(c(y&&typeof y=="object","Invalid defaults value: must be an object"),c(!_||_===!0||typeof _=="object","Invalid source value: must be true, falsy or an object"),c(typeof v=="object","Invalid options: must be an object"),!_)return null;if(v.shallow)return d.applyToDefaultsWithShallow(y,_,v);const b=p(y);if(_===!0)return b;const R=v.nullOverride!==void 0&&v.nullOverride;return g(b,_,{nullOverride:R,mergeArrays:!1})},d.applyToDefaultsWithShallow=function(y,_,v){const b=v.shallow;c(Array.isArray(b),"Invalid keys");const R=new Map,w=_===!0?null:new Set;for(let V of b){V=Array.isArray(V)?V:V.split(".");const j=E(y,V);j&&typeof j=="object"?R.set(j,w&&E(_,V)||j):w&&w.add(V)}const S=p(y,{},R);if(!w)return S;for(const V of w)d.reachCopy(S,_,V);const D=v.nullOverride!==void 0&&v.nullOverride;return g(S,_,{nullOverride:D,mergeArrays:!1})},d.reachCopy=function(y,_,v){for(const w of v){if(!(w in _))return;const S=_[w];if(typeof S!="object"||S===null)return;_=S}const b=_;let R=y;for(let w=0;w<v.length-1;++w){const S=v[w];typeof R[S]!="object"&&(R[S]={}),R=R[S]}R[v[v.length-1]]=b}},375:(o,u,f)=>{const c=f(7916);o.exports=function(p,...g){if(!p)throw g.length===1&&g[0]instanceof Error?g[0]:new c(g)}},8571:(o,u,f)=>{const c=f(9621),p=f(4277),g=f(7043),E={needsProtoHack:new Set([p.set,p.map,p.weakSet,p.weakMap])};o.exports=E.clone=function(d,y={},_=null){if(typeof d!="object"||d===null)return d;let v=E.clone,b=_;if(y.shallow){if(y.shallow!==!0)return E.cloneWithShallow(d,y);v=D=>D}else if(b){const D=b.get(d);if(D)return D}else b=new Map;const R=p.getInternalProto(d);if(R===p.buffer)return!1;if(R===p.date)return new Date(d.getTime());if(R===p.regex)return new RegExp(d);const w=E.base(d,R,y);if(w===d)return d;if(b&&b.set(d,w),R===p.set)for(const D of d)w.add(v(D,y,b));else if(R===p.map)for(const[D,V]of d)w.set(D,v(V,y,b));const S=g.keys(d,y);for(const D of S){if(D==="__proto__")continue;if(R===p.array&&D==="length"){w.length=d.length;continue}const V=Object.getOwnPropertyDescriptor(d,D);V?V.get||V.set?Object.defineProperty(w,D,V):V.enumerable?w[D]=v(d[D],y,b):Object.defineProperty(w,D,{enumerable:!1,writable:!0,configurable:!0,value:v(d[D],y,b)}):Object.defineProperty(w,D,{enumerable:!0,writable:!0,configurable:!0,value:v(d[D],y,b)})}return w},E.cloneWithShallow=function(d,y){const _=y.shallow;(y=Object.assign({},y)).shallow=!1;const v=new Map;for(const b of _){const R=c(d,b);typeof R!="object"&&typeof R!="function"||v.set(R,R)}return E.clone(d,y,v)},E.base=function(d,y,_){if(_.prototype===!1)return E.needsProtoHack.has(y)?new y.constructor:y===p.array?[]:{};const v=Object.getPrototypeOf(d);if(v&&v.isImmutable)return d;if(y===p.array){const b=[];return v!==y&&Object.setPrototypeOf(b,v),b}if(E.needsProtoHack.has(y)){const b=new v.constructor;return v!==y&&Object.setPrototypeOf(b,v),b}return Object.create(v)}},9474:(o,u,f)=>{const c=f(4277),p={mismatched:null};o.exports=function(g,E,d){return d=Object.assign({prototype:!0},d),!!p.isDeepEqual(g,E,d,[])},p.isDeepEqual=function(g,E,d,y){if(g===E)return g!==0||1/g==1/E;const _=typeof g;if(_!==typeof E||g===null||E===null)return!1;if(_==="function"){if(!d.deepFunction||g.toString()!==E.toString())return!1}else if(_!=="object")return g!=g&&E!=E;const v=p.getSharedType(g,E,!!d.prototype);switch(v){case c.buffer:return!1;case c.promise:return g===E;case c.regex:return g.toString()===E.toString();case p.mismatched:return!1}for(let b=y.length-1;b>=0;--b)if(y[b].isSame(g,E))return!0;y.push(new p.SeenEntry(g,E));try{return!!p.isDeepEqualObj(v,g,E,d,y)}finally{y.pop()}},p.getSharedType=function(g,E,d){if(d)return Object.getPrototypeOf(g)!==Object.getPrototypeOf(E)?p.mismatched:c.getInternalProto(g);const y=c.getInternalProto(g);return y!==c.getInternalProto(E)?p.mismatched:y},p.valueOf=function(g){const E=g.valueOf;if(E===void 0)return g;try{return E.call(g)}catch(d){return d}},p.hasOwnEnumerableProperty=function(g,E){return Object.prototype.propertyIsEnumerable.call(g,E)},p.isSetSimpleEqual=function(g,E){for(const d of Set.prototype.values.call(g))if(!Set.prototype.has.call(E,d))return!1;return!0},p.isDeepEqualObj=function(g,E,d,y,_){const{isDeepEqual:v,valueOf:b,hasOwnEnumerableProperty:R}=p,{keys:w,getOwnPropertySymbols:S}=Object;if(g===c.array){if(!y.part){if(E.length!==d.length)return!1;for(let O=0;O<E.length;++O)if(!v(E[O],d[O],y,_))return!1;return!0}for(const O of E)for(const A of d)if(v(O,A,y,_))return!0}else if(g===c.set){if(E.size!==d.size)return!1;if(!p.isSetSimpleEqual(E,d)){const O=new Set(Set.prototype.values.call(d));for(const A of Set.prototype.values.call(E)){if(O.delete(A))continue;let C=!1;for(const I of O)if(v(A,I,y,_)){O.delete(I),C=!0;break}if(!C)return!1}}}else if(g===c.map){if(E.size!==d.size)return!1;for(const[O,A]of Map.prototype.entries.call(E))if(A===void 0&&!Map.prototype.has.call(d,O)||!v(A,Map.prototype.get.call(d,O),y,_))return!1}else if(g===c.error&&(E.name!==d.name||E.message!==d.message))return!1;const D=b(E),V=b(d);if((E!==D||d!==V)&&!v(D,V,y,_))return!1;const j=w(E);if(!y.part&&j.length!==w(d).length&&!y.skip)return!1;let k=0;for(const O of j)if(y.skip&&y.skip.includes(O))d[O]===void 0&&++k;else if(!R(d,O)||!v(E[O],d[O],y,_))return!1;if(!y.part&&j.length-k!==w(d).length)return!1;if(y.symbols!==!1){const O=S(E),A=new Set(S(d));for(const C of O){if(!y.skip||!y.skip.includes(C)){if(R(E,C)){if(!R(d,C)||!v(E[C],d[C],y,_))return!1}else if(R(d,C))return!1}A.delete(C)}for(const C of A)if(R(d,C))return!1}return!0},p.SeenEntry=class{constructor(g,E){this.obj=g,this.ref=E}isSame(g,E){return this.obj===g&&this.ref===E}}},7916:(o,u,f)=>{const c=f(8761);o.exports=class extends Error{constructor(p){super(p.filter(g=>g!=="").map(g=>typeof g=="string"?g:g instanceof Error?g.message:c(g)).join(" ")||"Unknown error"),typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,u.assert)}}},5277:o=>{const u={};o.exports=function(f){if(!f)return"";let c="";for(let p=0;p<f.length;++p){const g=f.charCodeAt(p);u.isSafe(g)?c+=f[p]:c+=u.escapeHtmlChar(g)}return c},u.escapeHtmlChar=function(f){return u.namedHtml.get(f)||(f>=256?"&#"+f+";":`&#x${f.toString(16).padStart(2,"0")};`)},u.isSafe=function(f){return u.safeCharCodes.has(f)},u.namedHtml=new Map([[38,"&amp;"],[60,"&lt;"],[62,"&gt;"],[34,"&quot;"],[160,"&nbsp;"],[162,"&cent;"],[163,"&pound;"],[164,"&curren;"],[169,"&copy;"],[174,"&reg;"]]),u.safeCharCodes=function(){const f=new Set;for(let c=32;c<123;++c)(c>=97||c>=65&&c<=90||c>=48&&c<=57||c===32||c===46||c===44||c===45||c===58||c===95)&&f.add(c);return f}()},6064:o=>{o.exports=function(u){return u.replace(/[\^\$\.\*\+\-\?\=\!\:\|\\\/\(\)\[\]\{\}\,]/g,"\\$&")}},738:o=>{o.exports=function(){}},1687:(o,u,f)=>{const c=f(375),p=f(8571),g=f(7043),E={};o.exports=E.merge=function(d,y,_){if(c(d&&typeof d=="object","Invalid target value: must be an object"),c(y==null||typeof y=="object","Invalid source value: must be null, undefined, or an object"),!y)return d;if(_=Object.assign({nullOverride:!0,mergeArrays:!0},_),Array.isArray(y)){c(Array.isArray(d),"Cannot merge array onto an object"),_.mergeArrays||(d.length=0);for(let b=0;b<y.length;++b)d.push(p(y[b],{symbols:_.symbols}));return d}const v=g.keys(y,_);for(let b=0;b<v.length;++b){const R=v[b];if(R==="__proto__"||!Object.prototype.propertyIsEnumerable.call(y,R))continue;const w=y[R];if(w&&typeof w=="object"){if(d[R]===w)continue;!d[R]||typeof d[R]!="object"||Array.isArray(d[R])!==Array.isArray(w)||w instanceof Date||w instanceof RegExp?d[R]=p(w,{symbols:_.symbols}):E.merge(d[R],w,_)}else(w!=null||_.nullOverride)&&(d[R]=w)}return d}},9621:(o,u,f)=>{const c=f(375),p={};o.exports=function(g,E,d){if(E===!1||E==null)return g;typeof(d=d||{})=="string"&&(d={separator:d});const y=Array.isArray(E);c(!y||!d.separator,"Separator option is not valid for array-based chain");const _=y?E:E.split(d.separator||".");let v=g;for(let b=0;b<_.length;++b){let R=_[b];const w=d.iterables&&p.iterables(v);if(Array.isArray(v)||w==="set"){const S=Number(R);Number.isInteger(S)&&(R=S<0?v.length+S:S)}if(!v||typeof v=="function"&&d.functions===!1||!w&&v[R]===void 0){c(!d.strict||b+1===_.length,"Missing segment",R,"in reach path ",E),c(typeof v=="object"||d.functions===!0||typeof v!="function","Invalid segment",R,"in reach path ",E),v=d.default;break}v=w?w==="set"?[...v][R]:v.get(R):v[R]}return v},p.iterables=function(g){return g instanceof Set?"set":g instanceof Map?"map":void 0}},8761:o=>{o.exports=function(...u){try{return JSON.stringify(...u)}catch(f){return"[Cannot display object: "+f.message+"]"}}},4277:(o,u)=>{const f={};u=o.exports={array:Array.prototype,buffer:!1,date:Date.prototype,error:Error.prototype,generic:Object.prototype,map:Map.prototype,promise:Promise.prototype,regex:RegExp.prototype,set:Set.prototype,weakMap:WeakMap.prototype,weakSet:WeakSet.prototype},f.typeMap=new Map([["[object Error]",u.error],["[object Map]",u.map],["[object Promise]",u.promise],["[object Set]",u.set],["[object WeakMap]",u.weakMap],["[object WeakSet]",u.weakSet]]),u.getInternalProto=function(c){if(Array.isArray(c))return u.array;if(c instanceof Date)return u.date;if(c instanceof RegExp)return u.regex;if(c instanceof Error)return u.error;const p=Object.prototype.toString.call(c);return f.typeMap.get(p)||u.generic}},7043:(o,u)=>{u.keys=function(f,c={}){return c.symbols!==!1?Reflect.ownKeys(f):Object.getOwnPropertyNames(f)}},3652:(o,u,f)=>{const c=f(375),p={};u.Sorter=class{constructor(){this._items=[],this.nodes=[]}add(g,E){const d=[].concat((E=E||{}).before||[]),y=[].concat(E.after||[]),_=E.group||"?",v=E.sort||0;c(!d.includes(_),`Item cannot come before itself: ${_}`),c(!d.includes("?"),"Item cannot come before unassociated items"),c(!y.includes(_),`Item cannot come after itself: ${_}`),c(!y.includes("?"),"Item cannot come after unassociated items"),Array.isArray(g)||(g=[g]);for(const b of g){const R={seq:this._items.length,sort:v,before:d,after:y,group:_,node:b};this._items.push(R)}if(!E.manual){const b=this._sort();c(b,"item",_!=="?"?`added into group ${_}`:"","created a dependencies error")}return this.nodes}merge(g){Array.isArray(g)||(g=[g]);for(const d of g)if(d)for(const y of d._items)this._items.push(Object.assign({},y));this._items.sort(p.mergeSort);for(let d=0;d<this._items.length;++d)this._items[d].seq=d;const E=this._sort();return c(E,"merge created a dependencies error"),this.nodes}sort(){const g=this._sort();return c(g,"sort created a dependencies error"),this.nodes}_sort(){const g={},E=Object.create(null),d=Object.create(null);for(const R of this._items){const w=R.seq,S=R.group;d[S]=d[S]||[],d[S].push(w),g[w]=R.before;for(const D of R.after)E[D]=E[D]||[],E[D].push(w)}for(const R in g){const w=[];for(const S in g[R]){const D=g[R][S];d[D]=d[D]||[],w.push(...d[D])}g[R]=w}for(const R in E)if(d[R])for(const w of d[R])g[w].push(...E[R]);const y={};for(const R in g){const w=g[R];for(const S of w)y[S]=y[S]||[],y[S].push(R)}const _={},v=[];for(let R=0;R<this._items.length;++R){let w=R;if(y[R]){w=null;for(let S=0;S<this._items.length;++S){if(_[S]===!0)continue;y[S]||(y[S]=[]);const D=y[S].length;let V=0;for(let j=0;j<D;++j)_[y[S][j]]&&++V;if(V===D){w=S;break}}}w!==null&&(_[w]=!0,v.push(w))}if(v.length!==this._items.length)return!1;const b={};for(const R of this._items)b[R.seq]=R;this._items=[],this.nodes=[];for(const R of v){const w=b[R];this.nodes.push(w.node),this._items.push(w)}return!0}},p.mergeSort=(g,E)=>g.sort===E.sort?0:g.sort<E.sort?-1:1},5380:(o,u,f)=>{const c=f(443),p=f(2178),g={minDomainSegments:2,nonAsciiRx:/[^\x00-\x7f]/,domainControlRx:/[\x00-\x20@\:\/\\#!\$&\'\(\)\*\+,;=\?]/,tldSegmentRx:/^[a-zA-Z](?:[a-zA-Z0-9\-]*[a-zA-Z0-9])?$/,domainSegmentRx:/^[a-zA-Z0-9](?:[a-zA-Z0-9\-]*[a-zA-Z0-9])?$/,URL:c.URL||URL};u.analyze=function(E,d={}){if(!E)return p.code("DOMAIN_NON_EMPTY_STRING");if(typeof E!="string")throw new Error("Invalid input: domain must be a string");if(E.length>256)return p.code("DOMAIN_TOO_LONG");if(g.nonAsciiRx.test(E)){if(d.allowUnicode===!1)return p.code("DOMAIN_INVALID_UNICODE_CHARS");E=E.normalize("NFC")}if(g.domainControlRx.test(E))return p.code("DOMAIN_INVALID_CHARS");E=g.punycode(E),d.allowFullyQualified&&E[E.length-1]==="."&&(E=E.slice(0,-1));const y=d.minDomainSegments||g.minDomainSegments,_=E.split(".");if(_.length<y)return p.code("DOMAIN_SEGMENTS_COUNT");if(d.maxDomainSegments&&_.length>d.maxDomainSegments)return p.code("DOMAIN_SEGMENTS_COUNT_MAX");const v=d.tlds;if(v){const b=_[_.length-1].toLowerCase();if(v.deny&&v.deny.has(b)||v.allow&&!v.allow.has(b))return p.code("DOMAIN_FORBIDDEN_TLDS")}for(let b=0;b<_.length;++b){const R=_[b];if(!R.length)return p.code("DOMAIN_EMPTY_SEGMENT");if(R.length>63)return p.code("DOMAIN_LONG_SEGMENT");if(b<_.length-1){if(!g.domainSegmentRx.test(R))return p.code("DOMAIN_INVALID_CHARS")}else if(!g.tldSegmentRx.test(R))return p.code("DOMAIN_INVALID_TLDS_CHARS")}return null},u.isValid=function(E,d){return!u.analyze(E,d)},g.punycode=function(E){E.includes("%")&&(E=E.replace(/%/g,"%25"));try{return new g.URL(`http://${E}`).host}catch{return E}}},1745:(o,u,f)=>{const c=f(9848),p=f(5380),g=f(2178),E={nonAsciiRx:/[^\x00-\x7f]/,encoder:new(c.TextEncoder||TextEncoder)};u.analyze=function(d,y){return E.email(d,y)},u.isValid=function(d,y){return!E.email(d,y)},E.email=function(d,y={}){if(typeof d!="string")throw new Error("Invalid input: email must be a string");if(!d)return g.code("EMPTY_STRING");const _=!E.nonAsciiRx.test(d);if(!_){if(y.allowUnicode===!1)return g.code("FORBIDDEN_UNICODE");d=d.normalize("NFC")}const v=d.split("@");if(v.length!==2)return v.length>2?g.code("MULTIPLE_AT_CHAR"):g.code("MISSING_AT_CHAR");const[b,R]=v;if(!b)return g.code("EMPTY_LOCAL");if(!y.ignoreLength){if(d.length>254)return g.code("ADDRESS_TOO_LONG");if(E.encoder.encode(b).length>64)return g.code("LOCAL_TOO_LONG")}return E.local(b,_)||p.analyze(R,y)},E.local=function(d,y){const _=d.split(".");for(const v of _){if(!v.length)return g.code("EMPTY_LOCAL_SEGMENT");if(y){if(!E.atextRx.test(v))return g.code("INVALID_LOCAL_CHARS")}else for(const b of v){if(E.atextRx.test(b))continue;const R=E.binary(b);if(!E.atomRx.test(R))return g.code("INVALID_LOCAL_CHARS")}}},E.binary=function(d){return Array.from(E.encoder.encode(d)).map(y=>String.fromCharCode(y)).join("")},E.atextRx=/^[\w!#\$%&'\*\+\-/=\?\^`\{\|\}~]+$/,E.atomRx=new RegExp(["(?:[\\xc2-\\xdf][\\x80-\\xbf])","(?:\\xe0[\\xa0-\\xbf][\\x80-\\xbf])|(?:[\\xe1-\\xec][\\x80-\\xbf]{2})|(?:\\xed[\\x80-\\x9f][\\x80-\\xbf])|(?:[\\xee-\\xef][\\x80-\\xbf]{2})","(?:\\xf0[\\x90-\\xbf][\\x80-\\xbf]{2})|(?:[\\xf1-\\xf3][\\x80-\\xbf]{3})|(?:\\xf4[\\x80-\\x8f][\\x80-\\xbf]{2})"].join("|"))},2178:(o,u)=>{u.codes={EMPTY_STRING:"Address must be a non-empty string",FORBIDDEN_UNICODE:"Address contains forbidden Unicode characters",MULTIPLE_AT_CHAR:"Address cannot contain more than one @ character",MISSING_AT_CHAR:"Address must contain one @ character",EMPTY_LOCAL:"Address local part cannot be empty",ADDRESS_TOO_LONG:"Address too long",LOCAL_TOO_LONG:"Address local part too long",EMPTY_LOCAL_SEGMENT:"Address local part contains empty dot-separated segment",INVALID_LOCAL_CHARS:"Address local part contains invalid character",DOMAIN_NON_EMPTY_STRING:"Domain must be a non-empty string",DOMAIN_TOO_LONG:"Domain too long",DOMAIN_INVALID_UNICODE_CHARS:"Domain contains forbidden Unicode characters",DOMAIN_INVALID_CHARS:"Domain contains invalid character",DOMAIN_INVALID_TLDS_CHARS:"Domain contains invalid tld character",DOMAIN_SEGMENTS_COUNT:"Domain lacks the minimum required number of segments",DOMAIN_SEGMENTS_COUNT_MAX:"Domain contains too many segments",DOMAIN_FORBIDDEN_TLDS:"Domain uses forbidden TLD",DOMAIN_EMPTY_SEGMENT:"Domain contains empty dot-separated segment",DOMAIN_LONG_SEGMENT:"Domain contains dot-separated segment that is too long"},u.code=function(f){return{code:f,error:u.codes[f]}}},9959:(o,u,f)=>{const c=f(375),p=f(5752);u.regex=function(g={}){c(g.cidr===void 0||typeof g.cidr=="string","options.cidr must be a string");const E=g.cidr?g.cidr.toLowerCase():"optional";c(["required","optional","forbidden"].includes(E),"options.cidr must be one of required, optional, forbidden"),c(g.version===void 0||typeof g.version=="string"||Array.isArray(g.version),"options.version must be a string or an array of string");let d=g.version||["ipv4","ipv6","ipvfuture"];Array.isArray(d)||(d=[d]),c(d.length>=1,"options.version must have at least 1 version specified");for(let v=0;v<d.length;++v)c(typeof d[v]=="string","options.version must only contain strings"),d[v]=d[v].toLowerCase(),c(["ipv4","ipv6","ipvfuture"].includes(d[v]),"options.version contains unknown version "+d[v]+" - must be one of ipv4, ipv6, ipvfuture");d=Array.from(new Set(d));const y=`(?:${d.map(v=>{if(E==="forbidden")return p.ip[v];const b=`\\/${v==="ipv4"?p.ip.v4Cidr:p.ip.v6Cidr}`;return E==="required"?`${p.ip[v]}${b}`:`${p.ip[v]}(?:${b})?`}).join("|")})`,_=new RegExp(`^${y}$`);return{cidr:E,versions:d,regex:_,raw:y}}},5752:(o,u,f)=>{const c=f(375),p=f(6064),g={generate:function(){const E={},d="\\dA-Fa-f",y="["+d+"]",_="\\w-\\.~",v="!\\$&'\\(\\)\\*\\+,;=",b="%"+d,R=_+b+v+":@",w="["+R+"]",S="(?:0{0,2}\\d|0?[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])";E.ipv4address="(?:"+S+"\\.){3}"+S;const D=y+"{1,4}",V="(?:"+D+":"+D+"|"+E.ipv4address+")",j="(?:"+D+":){6}"+V,k="::(?:"+D+":){5}"+V,O="(?:"+D+")?::(?:"+D+":){4}"+V,A="(?:(?:"+D+":){0,1}"+D+")?::(?:"+D+":){3}"+V,C="(?:(?:"+D+":){0,2}"+D+")?::(?:"+D+":){2}"+V,I="(?:(?:"+D+":){0,3}"+D+")?::"+D+":"+V,L="(?:(?:"+D+":){0,4}"+D+")?::"+V,$="(?:(?:"+D+":){0,5}"+D+")?::"+D,U="(?:(?:"+D+":){0,6}"+D+")?::";E.ipv4Cidr="(?:\\d|[1-2]\\d|3[0-2])",E.ipv6Cidr="(?:0{0,2}\\d|0?[1-9]\\d|1[01]\\d|12[0-8])",E.ipv6address="(?:"+j+"|"+k+"|"+O+"|"+A+"|"+C+"|"+I+"|"+L+"|"+$+"|"+U+")",E.ipvFuture="v"+y+"+\\.["+_+v+":]+",E.scheme="[a-zA-Z][a-zA-Z\\d+-\\.]*",E.schemeRegex=new RegExp(E.scheme);const de="["+_+b+v+":]*",pe="["+_+b+v+"]{1,255}",Q="(?:\\[(?:"+E.ipv6address+"|"+E.ipvFuture+")\\]|"+E.ipv4address+"|"+pe+")",se="(?:"+de+"@)?"+Q+"(?::\\d*)?",ye="(?:"+de+"@)?("+Q+")(?::\\d*)?",Ce=w+"*",B=w+"+",re="(?:\\/"+Ce+")*",me="\\/(?:"+B+re+")?",ce=B+re,_e="["+_+b+v+"@]+"+re,Le="(?:\\/\\/\\/"+Ce+re+")";return E.hierPart="(?:(?:\\/\\/"+se+re+")|"+me+"|"+ce+"|"+Le+")",E.hierPartCapture="(?:(?:\\/\\/"+ye+re+")|"+me+"|"+ce+")",E.relativeRef="(?:(?:\\/\\/"+se+re+")|"+me+"|"+_e+"|)",E.relativeRefCapture="(?:(?:\\/\\/"+ye+re+")|"+me+"|"+_e+"|)",E.query="["+R+"\\/\\?]*(?=#|$)",E.queryWithSquareBrackets="["+R+"\\[\\]\\/\\?]*(?=#|$)",E.fragment="["+R+"\\/\\?]*",E}};g.rfc3986=g.generate(),u.ip={v4Cidr:g.rfc3986.ipv4Cidr,v6Cidr:g.rfc3986.ipv6Cidr,ipv4:g.rfc3986.ipv4address,ipv6:g.rfc3986.ipv6address,ipvfuture:g.rfc3986.ipvFuture},g.createRegex=function(E){const d=g.rfc3986,y="(?:\\?"+(E.allowQuerySquareBrackets?d.queryWithSquareBrackets:d.query)+")?(?:#"+d.fragment+")?",_=E.domain?d.relativeRefCapture:d.relativeRef;if(E.relativeOnly)return g.wrap(_+y);let v="";if(E.scheme){c(E.scheme instanceof RegExp||typeof E.scheme=="string"||Array.isArray(E.scheme),"scheme must be a RegExp, String, or Array");const w=[].concat(E.scheme);c(w.length>=1,"scheme must have at least 1 scheme specified");const S=[];for(let D=0;D<w.length;++D){const V=w[D];c(V instanceof RegExp||typeof V=="string","scheme at position "+D+" must be a RegExp or String"),V instanceof RegExp?S.push(V.source.toString()):(c(d.schemeRegex.test(V),"scheme at position "+D+" must be a valid scheme"),S.push(p(V)))}v=S.join("|")}const b="(?:"+(v?"(?:"+v+")":d.scheme)+":"+(E.domain?d.hierPartCapture:d.hierPart)+")",R=E.allowRelative?"(?:"+b+"|"+_+")":b;return g.wrap(R+y,v)},g.wrap=function(E,d){return{raw:E=`(?=.)(?!https?:/(?:$|[^/]))(?!https?:///)(?!https?:[^/])${E}`,regex:new RegExp(`^${E}$`),scheme:d}},g.uriRegex=g.createRegex({}),u.regex=function(E={}){return E.scheme||E.allowRelative||E.relativeOnly||E.allowQuerySquareBrackets||E.domain?g.createRegex(E):g.uriRegex}},1447:(o,u)=>{const f={operators:["!","^","*","/","%","+","-","<","<=",">",">=","==","!=","&&","||","??"],operatorCharacters:["!","^","*","/","%","+","-","<","=",">","&","|","?"],operatorsOrder:[["^"],["*","/","%"],["+","-"],["<","<=",">",">="],["==","!="],["&&"],["||","??"]],operatorsPrefix:["!","n"],literals:{'"':'"',"`":"`","'":"'","[":"]"},numberRx:/^(?:[0-9]*(\.[0-9]*)?){1}$/,tokenRx:/^[\w\$\#\.\@\:\{\}]+$/,symbol:Symbol("formula"),settings:Symbol("settings")};u.Parser=class{constructor(c,p={}){if(!p[f.settings]&&p.constants)for(const g in p.constants){const E=p.constants[g];if(E!==null&&!["boolean","number","string"].includes(typeof E))throw new Error(`Formula constant ${g} contains invalid ${typeof E} value type`)}this.settings=p[f.settings]?p:Object.assign({[f.settings]:!0,constants:{},functions:{}},p),this.single=null,this._parts=null,this._parse(c)}_parse(c){let p=[],g="",E=0,d=!1;const y=v=>{if(E)throw new Error("Formula missing closing parenthesis");const b=p.length?p[p.length-1]:null;if(d||g||v){if(b&&b.type==="reference"&&v===")")return b.type="function",b.value=this._subFormula(g,b.value),void(g="");if(v===")"){const R=new u.Parser(g,this.settings);p.push({type:"segment",value:R})}else if(d){if(d==="]")return p.push({type:"reference",value:g}),void(g="");p.push({type:"literal",value:g})}else if(f.operatorCharacters.includes(g))b&&b.type==="operator"&&f.operators.includes(b.value+g)?b.value+=g:p.push({type:"operator",value:g});else if(g.match(f.numberRx))p.push({type:"constant",value:parseFloat(g)});else if(this.settings.constants[g]!==void 0)p.push({type:"constant",value:this.settings.constants[g]});else{if(!g.match(f.tokenRx))throw new Error(`Formula contains invalid token: ${g}`);p.push({type:"reference",value:g})}g=""}};for(const v of c)d?v===d?(y(),d=!1):g+=v:E?v==="("?(g+=v,++E):v===")"?(--E,E?g+=v:y(v)):g+=v:v in f.literals?d=f.literals[v]:v==="("?(y(),++E):f.operatorCharacters.includes(v)?(y(),g=v,y()):v!==" "?g+=v:y();y(),p=p.map((v,b)=>v.type!=="operator"||v.value!=="-"||b&&p[b-1].type!=="operator"?v:{type:"operator",value:"n"});let _=!1;for(const v of p){if(v.type==="operator"){if(f.operatorsPrefix.includes(v.value))continue;if(!_)throw new Error("Formula contains an operator in invalid position");if(!f.operators.includes(v.value))throw new Error(`Formula contains an unknown operator ${v.value}`)}else if(_)throw new Error("Formula missing expected operator");_=!_}if(!_)throw new Error("Formula contains invalid trailing operator");p.length===1&&["reference","literal","constant"].includes(p[0].type)&&(this.single={type:p[0].type==="reference"?"reference":"value",value:p[0].value}),this._parts=p.map(v=>{if(v.type==="operator")return f.operatorsPrefix.includes(v.value)?v:v.value;if(v.type!=="reference")return v.value;if(this.settings.tokenRx&&!this.settings.tokenRx.test(v.value))throw new Error(`Formula contains invalid reference ${v.value}`);return this.settings.reference?this.settings.reference(v.value):f.reference(v.value)})}_subFormula(c,p){const g=this.settings.functions[p];if(typeof g!="function")throw new Error(`Formula contains unknown function ${p}`);let E=[];if(c){let d="",y=0,_=!1;const v=()=>{if(!d)throw new Error(`Formula contains function ${p} with invalid arguments ${c}`);E.push(d),d=""};for(let b=0;b<c.length;++b){const R=c[b];_?(d+=R,R===_&&(_=!1)):R in f.literals&&!y?(d+=R,_=f.literals[R]):R!==","||y?(d+=R,R==="("?++y:R===")"&&--y):v()}v()}return E=E.map(d=>new u.Parser(d,this.settings)),function(d){const y=[];for(const _ of E)y.push(_.evaluate(d));return g.call(d,...y)}}evaluate(c){const p=this._parts.slice();for(let g=p.length-2;g>=0;--g){const E=p[g];if(E&&E.type==="operator"){const d=p[g+1];p.splice(g+1,1);const y=f.evaluate(d,c);p[g]=f.single(E.value,y)}}return f.operatorsOrder.forEach(g=>{for(let E=1;E<p.length-1;)if(g.includes(p[E])){const d=p[E],y=f.evaluate(p[E-1],c),_=f.evaluate(p[E+1],c);p.splice(E,2);const v=f.calculate(d,y,_);p[E-1]=v===0?0:v}else E+=2}),f.evaluate(p[0],c)}},u.Parser.prototype[f.symbol]=!0,f.reference=function(c){return function(p){return p&&p[c]!==void 0?p[c]:null}},f.evaluate=function(c,p){return c===null?null:typeof c=="function"?c(p):c[f.symbol]?c.evaluate(p):c},f.single=function(c,p){if(c==="!")return!p;const g=-p;return g===0?0:g},f.calculate=function(c,p,g){if(c==="??")return f.exists(p)?p:g;if(typeof p=="string"||typeof g=="string"){if(c==="+")return(p=f.exists(p)?p:"")+(f.exists(g)?g:"")}else switch(c){case"^":return Math.pow(p,g);case"*":return p*g;case"/":return p/g;case"%":return p%g;case"+":return p+g;case"-":return p-g}switch(c){case"<":return p<g;case"<=":return p<=g;case">":return p>g;case">=":return p>=g;case"==":return p===g;case"!=":return p!==g;case"&&":return p&&g;case"||":return p||g}return null},f.exists=function(c){return c!=null}},9926:()=>{},5688:()=>{},9708:()=>{},1152:()=>{},443:()=>{},9848:()=>{},5934:o=>{o.exports=JSON.parse('{"version":"17.13.3"}')}},a={},function o(u){var f=a[u];if(f!==void 0)return f.exports;var c=a[u]={exports:{}};return n[u](c,c.exports,o),c.exports}(5107);var n,a})}(qd)),qd.exports}var t6=e6();const to=M0(t6),y2=to.object({name:to.string().min(2).required().messages({"string.empty":"Produktnamn r obligatoriskt.","string.min":"Produktnamn mste vara minst 2 tecken lngt."}),description:to.string().min(5).required().messages({"string.empty":"Beskrivning r obligatorisk.","string.min":"Beskrivning mste vara minst 5 tecken."}),price:to.number().positive().required().messages({"number.base":"Pris mste vara ett nummer.","number.positive":"Pris mste vara positivt.","any.required":"Pris r obligatoriskt."}),imageUrl:to.string().uri().required().messages({"string.empty":"Bildlnk r obligatorisk.","string.uri":"Bildlnk mste vara en giltig URL."}),isBestseller:to.boolean().optional()}),n6=()=>{const[i,e]=W.useState(""),[n,a]=W.useState(""),[o,u]=W.useState(""),[f,c]=W.useState(""),[p,g]=W.useState({}),[E,d]=W.useState("");async function y(){const _={name:i,description:n,price:Number(o),imageUrl:f,isBestseller:!1},{error:v}=y2.validate(_,{abortEarly:!1});if(v){const b={};v.details.forEach(R=>{const w=R.path[0];b[w]=R.message}),g(b),d("");return}else Q9(_);ru(),e(""),a(""),u(""),c(""),g(""),d("Produkten har lagts till!")}return F.jsxs("div",{className:"add-product",children:[F.jsx("h2",{children:"Lgg till ny produkt"}),F.jsxs("form",{action:"",onSubmit:_=>_.preventDefault(),children:[F.jsx("label",{htmlFor:"name",children:"Produkt Namn"}),F.jsx("input",{type:"text",id:"name",value:i,onChange:_=>e(_.target.value)}),p.name&&F.jsxs("p",{style:{color:"red"},children:["Formulret innehller fel: ",p.name]}),F.jsx("label",{htmlFor:"description",children:"Beskrivning"}),F.jsx("input",{type:"text",id:"description",value:n,onChange:_=>a(_.target.value)}),p.description&&F.jsxs("p",{style:{color:"red"},children:["Formulret innehller fel: ",p.description]}),F.jsx("label",{htmlFor:"price",children:"Pris"}),F.jsx("input",{type:"number",id:"price",value:o,onChange:_=>u(_.target.value)}),p.price&&F.jsxs("p",{style:{color:"red"},children:["Formulret innehller fel: ",p.price]}),F.jsx("label",{htmlFor:"imageUrl",children:"Image lnk"}),F.jsx("input",{type:"text",id:"imageUrl",value:f,onChange:_=>c(_.target.value)}),p.imageUrl&&F.jsxs("p",{style:{color:"red"},children:["Formulret innehller fel: ",p.imageUrl]}),F.jsx("button",{className:"blue-btn",onClick:y,children:"Lgg till produkt"})]}),E&&F.jsx("p",{style:{color:"green"},children:E})]})},r6=({setSelectedProduct:i,setVisible:e,visible:n,reload:a})=>{const[o,u]=W.useState([]),[f,c]=W.useState(!0),[p,g]=W.useState(null);W.useEffect(()=>{(async()=>{try{const y=await ru();u(y),g(null)}catch(y){console.error("Error fetching products:",y),g("Failed to load products.")}finally{c(!1)}})()},[a]);const E=d=>{i(d),e("none")};return f?F.jsx("div",{children:"Loading products..."}):p?F.jsxs("div",{children:["Error: ",p]}):F.jsxs("div",{className:"product-list-wrapper",style:{display:n},children:[F.jsx("h4",{children:"Vlj en produkt att redigera"}),F.jsx("ul",{children:o.map(d=>F.jsxs("li",{className:"product-item-list",children:[F.jsx("h3",{children:d.name}),F.jsx("p",{children:d.description}),F.jsxs("p",{children:["Pris: ",d.price," SEK"]}),F.jsxs("div",{className:"edit-delete-btn",children:[F.jsx("button",{className:"edit-btn",onClick:()=>E(d),children:"Redigera"}),F.jsx("button",{className:"edit-btn",onClick:()=>G9(d.id,u),children:"Ta bort"})]})]},d.id))})]})},i6=()=>{const[i,e]=W.useState(null),[n,a]=W.useState(""),[o,u]=W.useState(""),[f,c]=W.useState(""),[p,g]=W.useState(""),[E,d]=W.useState("block"),[y,_]=W.useState(""),[v,b]=W.useState(!1);W.useEffect(()=>{i&&(a(i.name),u(i.description),c(i.price),g(i.imageUrl))},[i]);const R=async w=>{w.preventDefault();const S={name:n,description:o,price:Number(f),imageUrl:p,isBestseller:!1},{error:D}=y2.validate(S,{abortEarly:!1});if(D){const V=D.details.map(j=>j.message).join(`
`);console.log(`Formulret innehller fel:
${V}`),_(V);return}await K9(i.id,S,()=>{}),e(null),b(!0),d("block"),_("")};return F.jsxs("div",{className:"edit-product-wrapper",children:[F.jsx(r6,{setSelectedProduct:e,setVisible:d,visible:E,reload:v}),i&&F.jsxs("form",{onSubmit:R,className:"edit-product-form",children:[F.jsx("h2",{children:"Redigera Produkt"}),F.jsx("label",{htmlFor:"name",children:"Produktnamn:"}),F.jsx("input",{type:"text",id:"name",value:n,onChange:w=>a(w.target.value)}),F.jsx("label",{htmlFor:"description",children:"Beskrivning:"}),F.jsx("input",{type:"text",id:"description",value:o,onChange:w=>u(w.target.value)}),F.jsx("label",{htmlFor:"price",children:"Pris:"}),F.jsx("input",{type:"number",id:"price",value:f,onChange:w=>c(w.target.value)}),F.jsx("label",{htmlFor:"imageUrl",children:"Bildlnk:"}),F.jsx("input",{type:"text",id:"imageUrl",value:p,onChange:w=>g(w.target.value)}),F.jsx("button",{type:"submit",className:"blue-btn",children:"Spara"})]}),y&&F.jsxs("p",{style:{color:"red"},children:["Formulret innehller fel: ",y]})]})},a6=()=>F.jsxs("div",{className:"about-wrapper",children:[F.jsx("h1",{children:"Om Oss"}),F.jsxs("p",{children:["Vlkommen till ",F.jsx("strong",{children:"ToyLandia"}),"  din sommarbutik online! Vi lskar sol, skratt och lek. Drfr har vi skapat en plats dr du hittar frgglada, roliga och skra leksaker som gr sommaren extra minnesvrd fr barn i alla ldrar."]}),F.jsx("p",{children:"Vi strvar efter att erbjuda ett handplockat sortiment med hg kvalitet och bra priser. Oavsett om det r vattenlek, strandbus eller trdgrdsventyr  hos oss finns ngot fr alla!"}),F.jsx("p",{children:"Tack fr att du handlar hos oss. Tillsammans skapar vi sommarminnen!"})]}),s6=QT([{path:"/",Component:cA,children:[{index:!0,Component:F9},{path:"/pages/products/:productId?",Component:X9},{path:"/components/cart/:cartId",Component:Z9},{path:"/components/adminStartPage/",Component:W9},{path:"/components/adminConsole/",Component:J9},{path:"/components/addNewProduct/",Component:n6},{path:"/components/editProduct/:productId?",Component:i6},{path:"/pages/about/",Component:a6}]}]);ZE.createRoot(document.getElementById("root")).render(F.jsx(W.StrictMode,{children:F.jsx(_T,{router:s6})}));
